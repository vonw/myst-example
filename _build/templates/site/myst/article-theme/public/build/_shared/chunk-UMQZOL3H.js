import{b as jl,g as o1,h as xv,k as f6}from"/myst_assets_folder/_shared/chunk-YAIQ7LUU.js";import{a as pi}from"/myst_assets_folder/_shared/chunk-OCWQY3HK.js";import{g as lk,n as ck}from"/myst_assets_folder/_shared/chunk-67UBYGYK.js";import{a as Es,b as _k,c as gp,d as s1,e as h6,f as jo,g as vv,h as un,i as bv,j as Ms,k as vk,l as Gc}from"/myst_assets_folder/_shared/chunk-HYMQ7M2K.js";import{a as Et}from"/myst_assets_folder/_shared/chunk-3CVK3PYF.js";import{b as _p}from"/myst_assets_folder/_shared/chunk-J6FHCSRC.js";import{A as dk,C as uk,b as sk,q as ok,r as ak,s as Bl,x as Vu}from"/myst_assets_folder/_shared/chunk-YRVK3XGJ.js";import{$ as xk,A as mp,B as s6,I as pp,J as mk,K as i1,O as pk,Q as n1,R as o6,S as a6,T as l6,U as c6,V as d6,W as u6,X as gk,Y as r1,Z as yv,_ as bk,a as ws,aa as m6,b as Gu,ba as yk,c as ft,ca as p6,d as hk,da as Is,e as Vc,ea as a1,f as Pi,fa as wk,g as Jn,ga as g6,h as Ie,ha as Ck,i as Cs,ia as _6,j as fk,k as fv,l as mt,m as fp,n as t1,o as tn,p as mv,q as Ss,r as pv,s as Zn,t as gv,u as Se,v as Zt,w as _v,z as ro}from"/myst_assets_folder/_shared/chunk-5CFTM6YW.js";import{a as JA,b as ZA,c as QA,e as Qw,f as e1,g as ek,h as tk,i as ik,k as nk,m as rk}from"/myst_assets_folder/_shared/chunk-LBXIMZTV.js";import{a as se,b as hv,c as r6,d as me}from"/myst_assets_folder/_shared/chunk-UAI5KRM7.js";import{b as $,c as Ve,d as Uu,e as P,f as Ia}from"/myst_assets_folder/_shared/chunk-2NH4LW52.js";var CN=Ve((Tle,Ba)=>{function rC(t){return Ba.exports=rC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba.exports.__esModule=!0,Ba.exports.default=Ba.exports,rC(t)}Ba.exports=rC,Ba.exports.__esModule=!0,Ba.exports.default=Ba.exports});var MN=Ve((Rle,ja)=>{var SN=CN().default;function EN(){"use strict";ja.exports=EN=function(){return e},ja.exports.__esModule=!0,ja.exports.default=ja.exports;var t,e={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(K,Y,ie){K[Y]=ie.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(K,Y,ie){return Object.defineProperty(K,Y,{value:ie,enumerable:!0,configurable:!0,writable:!0}),K[Y]}try{c({},"")}catch{c=function(ie,be,Pe){return ie[be]=Pe}}function d(K,Y,ie,be){var Pe=Y&&Y.prototype instanceof y?Y:y,we=Object.create(Pe.prototype),Le=new Q(be||[]);return r(we,"_invoke",{value:w(K,ie,Le)}),we}function u(K,Y,ie){try{return{type:"normal",arg:K.call(Y,ie)}}catch(be){return{type:"throw",arg:be}}}e.wrap=d;var f="suspendedStart",h="suspendedYield",m="executing",p="completed",_={};function y(){}function S(){}function T(){}var D={};c(D,o,function(){return this});var k=Object.getPrototypeOf,b=k&&k(k(X([])));b&&b!==i&&n.call(b,o)&&(D=b);var M=T.prototype=y.prototype=Object.create(D);function C(K){["next","throw","return"].forEach(function(Y){c(K,Y,function(ie){return this._invoke(Y,ie)})})}function x(K,Y){function ie(Pe,we,Le,at){var Ze=u(K[Pe],K,we);if(Ze.type!=="throw"){var Je=Ze.arg,lt=Je.value;return lt&&SN(lt)=="object"&&n.call(lt,"__await")?Y.resolve(lt.__await).then(function(bt){ie("next",bt,Le,at)},function(bt){ie("throw",bt,Le,at)}):Y.resolve(lt).then(function(bt){Je.value=bt,Le(Je)},function(bt){return ie("throw",bt,Le,at)})}at(Ze.arg)}var be;r(this,"_invoke",{value:function(we,Le){function at(){return new Y(function(Ze,Je){ie(we,Le,Ze,Je)})}return be=be?be.then(at,at):at()}})}function w(K,Y,ie){var be=f;return function(Pe,we){if(be===m)throw Error("Generator is already running");if(be===p){if(Pe==="throw")throw we;return{value:t,done:!0}}for(ie.method=Pe,ie.arg=we;;){var Le=ie.delegate;if(Le){var at=E(Le,ie);if(at){if(at===_)continue;return at}}if(ie.method==="next")ie.sent=ie._sent=ie.arg;else if(ie.method==="throw"){if(be===f)throw be=p,ie.arg;ie.dispatchException(ie.arg)}else ie.method==="return"&&ie.abrupt("return",ie.arg);be=m;var Ze=u(K,Y,ie);if(Ze.type==="normal"){if(be=ie.done?p:h,Ze.arg===_)continue;return{value:Ze.arg,done:ie.done}}Ze.type==="throw"&&(be=p,ie.method="throw",ie.arg=Ze.arg)}}}function E(K,Y){var ie=Y.method,be=K.iterator[ie];if(be===t)return Y.delegate=null,ie==="throw"&&K.iterator.return&&(Y.method="return",Y.arg=t,E(K,Y),Y.method==="throw")||ie!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+ie+"' method")),_;var Pe=u(be,K.iterator,Y.arg);if(Pe.type==="throw")return Y.method="throw",Y.arg=Pe.arg,Y.delegate=null,_;var we=Pe.arg;return we?we.done?(Y[K.resultName]=we.value,Y.next=K.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=t),Y.delegate=null,_):we:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,_)}function O(K){var Y={tryLoc:K[0]};1 in K&&(Y.catchLoc=K[1]),2 in K&&(Y.finallyLoc=K[2],Y.afterLoc=K[3]),this.tryEntries.push(Y)}function j(K){var Y=K.completion||{};Y.type="normal",delete Y.arg,K.completion=Y}function Q(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(O,this),this.reset(!0)}function X(K){if(K||K===""){var Y=K[o];if(Y)return Y.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var ie=-1,be=function Pe(){for(;++ie<K.length;)if(n.call(K,ie))return Pe.value=K[ie],Pe.done=!1,Pe;return Pe.value=t,Pe.done=!0,Pe};return be.next=be}}throw new TypeError(SN(K)+" is not iterable")}return S.prototype=T,r(M,"constructor",{value:T,configurable:!0}),r(T,"constructor",{value:S,configurable:!0}),S.displayName=c(T,l,"GeneratorFunction"),e.isGeneratorFunction=function(K){var Y=typeof K=="function"&&K.constructor;return!!Y&&(Y===S||(Y.displayName||Y.name)==="GeneratorFunction")},e.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,T):(K.__proto__=T,c(K,l,"GeneratorFunction")),K.prototype=Object.create(M),K},e.awrap=function(K){return{__await:K}},C(x.prototype),c(x.prototype,a,function(){return this}),e.AsyncIterator=x,e.async=function(K,Y,ie,be,Pe){Pe===void 0&&(Pe=Promise);var we=new x(d(K,Y,ie,be),Pe);return e.isGeneratorFunction(Y)?we:we.next().then(function(Le){return Le.done?Le.value:we.next()})},C(M),c(M,l,"Generator"),c(M,o,function(){return this}),c(M,"toString",function(){return"[object Generator]"}),e.keys=function(K){var Y=Object(K),ie=[];for(var be in Y)ie.push(be);return ie.reverse(),function Pe(){for(;ie.length;){var we=ie.pop();if(we in Y)return Pe.value=we,Pe.done=!1,Pe}return Pe.done=!0,Pe}},e.values=X,Q.prototype={constructor:Q,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!Y)for(var ie in this)ie.charAt(0)==="t"&&n.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=t)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var ie=this;function be(Je,lt){return Le.type="throw",Le.arg=Y,ie.next=Je,lt&&(ie.method="next",ie.arg=t),!!lt}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var we=this.tryEntries[Pe],Le=we.completion;if(we.tryLoc==="root")return be("end");if(we.tryLoc<=this.prev){var at=n.call(we,"catchLoc"),Ze=n.call(we,"finallyLoc");if(at&&Ze){if(this.prev<we.catchLoc)return be(we.catchLoc,!0);if(this.prev<we.finallyLoc)return be(we.finallyLoc)}else if(at){if(this.prev<we.catchLoc)return be(we.catchLoc,!0)}else{if(!Ze)throw Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return be(we.finallyLoc)}}}},abrupt:function(Y,ie){for(var be=this.tryEntries.length-1;be>=0;--be){var Pe=this.tryEntries[be];if(Pe.tryLoc<=this.prev&&n.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var we=Pe;break}}we&&(Y==="break"||Y==="continue")&&we.tryLoc<=ie&&ie<=we.finallyLoc&&(we=null);var Le=we?we.completion:{};return Le.type=Y,Le.arg=ie,we?(this.method="next",this.next=we.finallyLoc,_):this.complete(Le)},complete:function(Y,ie){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&ie&&(this.next=ie),_},finish:function(Y){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var be=this.tryEntries[ie];if(be.finallyLoc===Y)return this.complete(be.completion,be.afterLoc),j(be),_}},catch:function(Y){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var be=this.tryEntries[ie];if(be.tryLoc===Y){var Pe=be.completion;if(Pe.type==="throw"){var we=Pe.arg;j(be)}return we}}throw Error("illegal catch attempt")},delegateYield:function(Y,ie,be){return this.delegate={iterator:X(Y),resultName:ie,nextLoc:be},this.method==="next"&&(this.arg=t),_}},e}ja.exports=EN,ja.exports.__esModule=!0,ja.exports.default=ja.exports});var sC=Ve((Ale,IN)=>{var lb=MN()();IN.exports=lb;try{regeneratorRuntime=lb}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=lb:Function("r","regeneratorRuntime = r")(lb)}});var HN=Ve(jN=>{"use strict";var jh=se();function q9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U9=typeof Object.is=="function"?Object.is:q9,V9=jh.useState,G9=jh.useEffect,Y9=jh.useLayoutEffect,K9=jh.useDebugValue;function X9(t,e){var i=e(),n=V9({inst:{value:i,getSnapshot:e}}),r=n[0].inst,s=n[1];return Y9(function(){r.value=i,r.getSnapshot=e,uC(r)&&s({inst:r})},[t,i,e]),G9(function(){return uC(r)&&s({inst:r}),t(function(){uC(r)&&s({inst:r})})},[t]),K9(i),i}function uC(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!U9(t,i)}catch{return!0}}function J9(t,e){return e()}var Z9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J9:X9;jN.useSyncExternalStore=jh.useSyncExternalStore!==void 0?jh.useSyncExternalStore:Z9});var hC=Ve((dce,FN)=>{"use strict";FN.exports=HN()});var XO=Ve(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.OutputAreaByRef=void 0;var IU=(Pi(),Ia(Vc)),Eb=me(),TU=IU.__importDefault(se());Mb.OutputAreaByRef=TU.default.forwardRef(({busy:t,content:e},i)=>(0,Eb.jsx)("div",{children:(0,Eb.jsxs)("div",Object.assign({className:"m-1 hover:delay-15"},{children:[(0,Eb.jsx)("div",Object.assign({className:"p-1 rounded",ref:i},{children:e||"[Output Area]"})),t&&(0,Eb.jsx)("div",{children:"Cell is running..."})]}))}))});var TC=Ve(IC=>{"use strict";Object.defineProperty(IC,"__esModule",{value:!0});var RU="0.4.10";IC.default=RU});function AU(t,e){let i=new URL(e);return`${t}-${i.origin+i.pathname}`}function Ib(t,e,i){let n=`${e}/build/${i}`,r=`${e}/v2/${i}`;return{build:n,launch:r,storageKey:AU(t,n)}}function kU(t){if(!t.binder.repo)throw Error("repo is required for git provider");let{repo:e,binderUrl:i,ref:n}=t.binder,r=encodeURIComponent(e.replace(/(^\/)|(\/?$)/g,"")),s=i?.replace(/(\/?$)/g,""),o=`git/${r}/${n??"HEAD"}`;return Ib(t.savedSessions.storagePrefix,s,o)}function LU(t){var e,i,n;if(!t.binder.repo)throw Error("repo is required for gitlab provider");let r=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),o=`gl/${encodeURIComponent(((i=t.binder.repo)!==null&&i!==void 0?i:"").replace(/^(https?:\/\/)?gitlab.com\//,"").replace(/(^\/)|(\/?$)/g,""))}/${(n=t.binder.ref)!==null&&n!==void 0?n:"HEAD"}`;return Ib(t.savedSessions.storagePrefix,r,o)}function NU(t){var e,i;if(!t.binder.repo)throw Error("repo is required for github provider");let n=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),r=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gh/${n}/${(i=t.binder.ref)!==null&&i!==void 0?i:"HEAD"}`;return Ib(t.savedSessions.storagePrefix,r,s)}function OU(t){var e,i;if(!t.binder.repo)throw Error("repo is required for gist provider");let n=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),r=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gist/${n}/${(i=t.binder.ref)!==null&&i!==void 0?i:"HEAD"}`;return Ib(t.savedSessions.storagePrefix,r,s)}function Rb(t,e){var i,n;let r=(i=e.reduce((o,a)=>Object.assign(Object.assign({},o),{[a.name]:a}),{}))!==null&&i!==void 0?i:{},s=(n=t.binder.repoProvider)!==null&&n!==void 0?n:"github";if(!Object.keys(r).includes(s))throw Error(`Unknown provider ${t.binder.repoProvider}`);if(!r[s].makeUrls)throw Error(`No makeUrls function for ${s}`);return r[s].makeUrls(t)}var DU,zU,PU,BU,Tb,JO=$(()=>{DU={name:"github",makeUrls:NU},zU={name:"gitlab",makeUrls:LU},PU={name:"git",makeUrls:kU},BU={name:"gist",makeUrls:OU},Tb=[DU,zU,PU,BU]});function jU(t){let e=window.localStorage.getItem(t);if(!e)return;let i=JSON.parse(e);window.localStorage.setItem(t,JSON.stringify(Object.assign(Object.assign({},i),{lastUsed:new Date})))}function ZO(t,e,i){try{let{baseUrl:n,token:r,wsUrl:s}=i;window.localStorage.setItem(t,JSON.stringify({id:e,baseUrl:n,token:r,wsUrl:s,lastUsed:new Date}))}catch(n){console.warn("Couldn't save thebe binder connection info to local storage",n)}}function QO(t,e){return ft(this,void 0,void 0,function*(){if(!t.enabled)return null;let i=window.localStorage.getItem(e);if(i==null)return console.debug("thebe:getExistingServer No session saved in ",e),null;console.debug("thebe:getExistingServer Saved binder session found");let n=JSON.parse(i??""),r=new Date(n.lastUsed);if((new Date().getTime()-r.getTime())/1e3>t.maxAge)return console.debug(`thebe:getExistingServer Not using expired binder session for ${n.baseUrl} from ${r}`),window.localStorage.removeItem(e),null;try{yield Ab.KernelAPI.listRunning(Ab.ServerConnection.makeSettings(n))}catch(a){return console.debug("thebe:getExistingServer Saved binder connection appears to be invalid, requesting new session",a),window.localStorage.removeItem(e),null}return jU(e),console.debug(`thebe:getExistingServer Saved binder session is valid and will be reused ${n.baseUrl}`),n})}function eD(t="thebe-binder"){let e=[];for(let i=0;i<window.localStorage.length;i++){let n=window.localStorage.key(i);n?.startsWith(t)&&e.push(n)}console.debug(`thebe:clearAllSavedSessions - removing ${e.length} saved sessions`,e.join(",")),e.forEach(i=>window.localStorage.removeItem(i))}function tD(t){console.debug(`thebe:clearSavedSession - removing ${t}`),window.localStorage.removeItem(t)}var Ab,RC=$(()=>{Pi();Ab=P(t1())});function kb(t){var e;return t.traceback?Array.isArray(t.traceback)?`${t.evalue}
${((e=t.traceback)!==null&&e!==void 0?e:[]).join("")}`:`${t.evalue}
${JSON.stringify(t.traceback)}`:t.evalue}var Ki,zs,AC,zr,Ql,uo,jn,Gh,od,Ua=$(()=>{(function(t){t.launching="launching",t.ready="server-ready",t.closed="closed",t.unknown="unknown"})(Ki||(Ki={}));(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(zs||(zs={}));(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(AC||(AC={}));(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(zr||(zr={}));(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(Ql||(Ql={}));(function(t){t.server="server",t.session="session",t.kernel="kernel",t.notebook="notebook",t.cell="cell"})(uo||(uo={}));(function(t){t.warning="warning",t.executeError="execute-error",t.error="error",t.server="server-error",t.session="session-error"})(jn||(jn={}));(function(t){t.status="status",t.error="error"})(Gh||(Gh={}));od=class{constructor(){this.listeners={}}_ensureMap(e){e in this.listeners||(this.listeners[e]=new Map)}trigger(e,i){e in this.listeners&&this.listeners[e].forEach(({unbind:n},r)=>{r(e,i),n&&this.listeners[e].delete(r)})}on(e,i){return this._ensureMap(e),this.listeners[e].set(i,{unbind:!1}),()=>this.off(e,i)}one(e,i){return this._ensureMap(e),this.listeners[e].set(i,{unbind:!0}),()=>this.off(e,i)}off(e,i){e in this.listeners&&this.listeners[e].delete(i)}}});function*Kh(){}function kC(t,e){let i=0;for(let n of t)if(e(n,i++))return n}function nD(t,e){let i=0;for(let n of t)if(e(n,i++)===!1)return!1;return!0}function rD(t,e){let i=0;for(let n of t)if(e(n,i++))return!0;return!1}function*sD(t){if(typeof t.retro=="function")yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}var Be,iD,Yh,LC=$(()=>{(function(t){function e(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(M[Q]===C)return Q}return-1}t.firstIndexOf=e;function i(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(M[Q]===C)return Q}return-1}t.lastIndexOf=i;function n(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(C(M[Q],Q))return Q}return-1}t.findFirstIndex=n;function r(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(C(M[Q],Q))return Q}return-1}t.findLastIndex=r;function s(M,C,x=0,w=-1){let E=n(M,C,x,w);return E!==-1?M[E]:void 0}t.findFirstValue=s;function o(M,C,x=-1,w=0){let E=r(M,C,x,w);return E!==-1?M[E]:void 0}t.findLastValue=o;function a(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)<0?(j=K+1,Q-=X+1):Q=X}return j}t.lowerBound=a;function l(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)>0?Q=X:(j=K+1,Q-=X+1)}return j}t.upperBound=l;function c(M,C,x){if(M===C)return!0;if(M.length!==C.length)return!1;for(let w=0,E=M.length;w<E;++w)if(x?!x(M[w],C[w]):M[w]!==C[w])return!1;return!0}t.shallowEqual=c;function d(M,C={}){let{start:x,stop:w,step:E}=C;if(E===void 0&&(E=1),E===0)throw new Error("Slice `step` cannot be zero.");let O=M.length;x===void 0?x=E<0?O-1:0:x<0?x=Math.max(x+O,E<0?-1:0):x>=O&&(x=E<0?O-1:O),w===void 0?w=E<0?-1:O:w<0?w=Math.max(w+O,E<0?-1:0):w>=O&&(w=E<0?O-1:O);let j;E<0&&w>=x||E>0&&x>=w?j=0:E<0?j=Math.floor((w-x+1)/E+1):j=Math.floor((w-x-1)/E+1);let Q=[];for(let X=0;X<j;++X)Q[X]=M[x+X*E];return Q}t.slice=d;function u(M,C,x){let w=M.length;if(w<=1||(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1),C===x))return;let E=M[C],O=C<x?1:-1;for(let j=C;j!==x;j+=O)M[j]=M[j+O];M[x]=E}t.move=u;function f(M,C=0,x=-1){let w=M.length;if(!(w<=1))for(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1);C<x;){let E=M[C],O=M[x];M[C++]=O,M[x--]=E}}t.reverse=f;function h(M,C,x=0,w=-1){let E=M.length;if(E<=1||(x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1),x>=w))return;let O=w-x+1;if(C>0?C=C%O:C<0&&(C=(C%O+O)%O),C===0)return;let j=x+C;f(M,x,j-1),f(M,j,w),f(M,x,w)}t.rotate=h;function m(M,C,x=0,w=-1){let E=M.length;if(E===0)return;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j)M[(x+j)%E]=C}t.fill=m;function p(M,C,x){let w=M.length;C<0?C=Math.max(0,C+w):C=Math.min(C,w);for(let E=w;E>C;--E)M[E]=M[E-1];M[C]=x}t.insert=p;function _(M,C){let x=M.length;if(C<0&&(C+=x),C<0||C>=x)return;let w=M[C];for(let E=C+1;E<x;++E)M[E-1]=M[E];return M.length=x-1,w}t.removeAt=_;function y(M,C,x=0,w=-1){let E=e(M,C,x,w);return E!==-1&&_(M,E),E}t.removeFirstOf=y;function S(M,C,x=-1,w=0){let E=i(M,C,x,w);return E!==-1&&_(M,E),E}t.removeLastOf=S;function T(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&M[j]===C||w<x&&(j<=w||j>=x)&&M[j]===C?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllOf=T;function D(M,C,x=0,w=-1){let E,O=n(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeFirstWhere=D;function k(M,C,x=-1,w=0){let E,O=r(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeLastWhere=k;function b(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&C(M[j],j)||w<x&&(j<=w||j>=x)&&C(M[j],j)?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllWhere=b})(Be||(Be={}));(function(t){function e(i,n,r){return r===0?1/0:i>n&&r>0||i<n&&r<0?0:Math.ceil((n-i)/r)}t.rangeLength=e})(iD||(iD={}));(function(t){function e(o,a,l=0){let c=new Array(a.length);for(let d=0,u=l,f=a.length;d<f;++d,++u){if(u=o.indexOf(a[d],u),u===-1)return null;c[d]=u}return c}t.findIndices=e;function i(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0;for(let u=0,f=c.length;u<f;++u){let h=c[u]-l;d+=h*h}return{score:d,indices:c}}t.matchSumOfSquares=i;function n(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0,u=l-1;for(let f=0,h=c.length;f<h;++f){let m=c[f];d+=m-u-1,u=m}return{score:d,indices:c}}t.matchSumOfDeltas=n;function r(o,a,l){let c=[],d=0,u=0,f=a.length;for(;d<f;){let h=a[d],m=a[d];for(;++d<f&&a[d]===m+1;)m++;u<h&&c.push(o.slice(u,h)),h<m+1&&c.push(l(o.slice(h,m+1))),u=m+1}return u<o.length&&c.push(o.slice(u)),c}t.highlight=r;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})(Yh||(Yh={}))});var oD,ei,ad,ld,ho,aD=$(()=>{(function(t){function e(i){let n=document.body,r=s=>{s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),n.removeEventListener("copy",r,!0)};n.addEventListener("copy",r,!0),document.execCommand("copy")}t.copyText=e})(oD||(oD={}));(function(t){function e(s){let o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,c=parseFloat(o.borderRightWidth)||0,d=parseFloat(o.borderBottomWidth)||0,u=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,h=parseFloat(o.paddingRight)||0,m=parseFloat(o.paddingBottom)||0,p=l+f+h+c,_=a+u+m+d;return{borderTop:a,borderLeft:l,borderRight:c,borderBottom:d,paddingTop:u,paddingLeft:f,paddingRight:h,paddingBottom:m,horizontalSum:p,verticalSum:_}}t.boxSizing=e;function i(s){let o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,c=parseFloat(o.maxWidth)||1/0,d=parseFloat(o.maxHeight)||1/0;return c=Math.max(a,c),d=Math.max(l,d),{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d}}t.sizeLimits=i;function n(s,o,a){let l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=n;function r(s,o){let a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=r})(ei||(ei={}));(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(ad||(ad={}));(function(t){function e(r){if(r in ho.specificityCache)return ho.specificityCache[r];let s=ho.calculateSingle(r);return ho.specificityCache[r]=s}t.calculateSpecificity=e;function i(r){if(r in ho.validityCache)return ho.validityCache[r];let s=!0;try{ho.testElem.querySelector(r)}catch{s=!1}return ho.validityCache[r]=s}t.isValid=i;function n(r,s){return ho.protoMatchFunc.call(r,s)}t.matches=n})(ld||(ld={}));(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(()=>{let d=Element.prototype;return d.matches||d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector||function(u){let f=this,h=f.ownerDocument?f.ownerDocument.querySelectorAll(u):[];return Array.prototype.indexOf.call(h,f)!==-1}})();function e(d){d=d.split(",",1)[0];let u=0,f=0,h=0;function m(p){let _=d.match(p);return _===null?!1:(d=d.slice(_[0].length),!0)}for(d=d.replace(c," $1 ");d.length>0;){if(m(i)){u++;continue}if(m(n)){f++;continue}if(m(r)){f++;continue}if(m(o)){h++;continue}if(m(a)){f++;continue}if(m(s)){h++;continue}if(!m(l))return 0}return u=Math.min(u,255),f=Math.min(f,255),h=Math.min(h,255),u<<16|f<<8|h}t.calculateSingle=e;let i=/^#[^\s\+>~#\.\[:]+/,n=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(ho||(ho={}))});var Xh,Va,lD=$(()=>{Xh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new Va.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new Va.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof Va.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new Va.LinkedListNode(this,e),r=i,s=r.prev;return n.next=r,n.prev=s,r.prev=n,s.next=n,this._size++,n}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof Va.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new Va.LinkedListNode(this,e),r=i,s=r.next;return n.next=s,n.prev=r,r.next=n,s.prev=n,this._size++,n}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Va.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let n=new t;return n.assign(i),n}t.from=e})(Xh||(Xh={}));(function(t){class e{constructor(n,r){this.list=null,this.next=null,this.prev=null,this.list=n,this.value=r}}t.LinkedListNode=e})(Va||(Va={}))});var mr,ec,Ae,Lb=$(()=>{LC();lD();mr=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ec=class extends mr{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(C=>x=>{let w=!1;return C.then(()=>!w&&x()),()=>{w=!0}})(Promise.resolve());function n(C,x){let w=f.get(C);if(!w||w.length===0){y(C,x);return}nD(sD(w),O=>O?_(O,C,x):!0)&&y(C,x)}t.sendMessage=n;function r(C,x){if(!x.isConflatable){S(C,x);return}rD(u,E=>E.handler!==C||!E.msg||E.msg.type!==x.type||!E.msg.isConflatable?!1:E.msg.conflate(x))||S(C,x)}t.postMessage=r;function s(C,x){let w=f.get(C);w&&w.indexOf(x)!==-1||(w?w.push(x):f.set(C,[x]))}t.installMessageHook=s;function o(C,x){let w=f.get(C);if(!w)return;let E=w.indexOf(x);E!==-1&&(w[E]=null,D(w))}t.removeMessageHook=o;function a(C){let x=f.get(C);x&&x.length>0&&(Be.fill(x,null),D(x));for(let w of u)w.handler===C&&(w.handler=null,w.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,T(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function d(C){let x=m;return m=C,x}t.setExceptionHandler=d;let u=new Xh,f=new WeakMap,h=new Set,m=C=>{console.error(C)},p=!1;function _(C,x,w){let E=!0;try{typeof C=="function"?E=C(x,w):E=C.messageHook(x,w)}catch(O){m(O)}return E}function y(C,x){try{C.processMessage(x)}catch(w){m(w)}}function S(C,x){u.addLast({handler:C,msg:x}),e===null&&(e=i(T))}function T(){if(e=null,u.isEmpty)return;let C={handler:null,msg:null};for(u.addLast(C);;){let x=u.removeFirst();if(x===C)return;x.handler&&x.msg&&n(x.handler,x.msg)}}function D(C){h.size===0&&i(k),h.add(C)}function k(){h.forEach(b),h.clear()}function b(C){Be.removeAllWhere(C,M)}function M(C){return C===null}})(Ae||(Ae={}))});var Xa,Yo,Qr,Hp,fe,Nb,Xo,dd,Jh,Zh,Fp,Wp,fo,Ya,NC,Ob,Db,OC,ud,DC,$p,zC,es,cd,zb,PC,Qh,Ga,Ko,pr,cD,HU,tc,Ps,BC,Xi,hd,Hi,Ka,pn,ef,Pb,dD,uD,jC,hD,fD,FC=$(()=>{LC();Xa=P(Jn());aD();Lb();fp();Cs();mv();gv();_v();fv();pv();Yo=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,d=0,u=0,f=0;for(let p=0;p<a;++p){let _=s[p],y=_.minSize,S=_.maxSize,T=_.sizeHint;_.done=!1,_.size=Math.max(y,Math.min(T,S)),d+=_.size,l+=y,c+=S,_.stretch>0&&(u+=_.stretch,f++)}if(o===d)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<d){let p=d-o;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size-D<=T.minSize?(p-=T.size-T.minSize,u-=T.stretch,T.size=T.minSize,T.done=!0,m--,f--):(p-=D,T.size-=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size-_<=S.minSize?(p-=S.size-S.minSize,S.size=S.minSize,S.done=!0,m--):(p-=_,S.size-=_))}}}else{let p=o-d;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size+D>=T.maxSize?(p-=T.maxSize-T.size,u-=T.stretch,T.size=T.maxSize,T.done=!0,m--,f--):(p-=D,T.size+=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size+_>=S.maxSize?(p-=S.maxSize-S.size,S.size=S.maxSize,S.done=!0,m--):(p-=_,S.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?n(s,o,a):r(s,o,-a))}t.adjust=i;function n(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.maxSize-h.size;m>=d?(h.sizeHint=h.size+d,d=0):(h.sizeHint=h.size+m,d-=m)}let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.size-m.minSize;p>=u?(m.sizeHint=m.size-u,u=0):(m.sizeHint=m.size-p,u-=p)}}function r(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.maxSize-m.size;p>=d?(m.sizeHint=m.size+d,d=0):(m.sizeHint=m.size+p,d-=p)}let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.size-h.minSize;m>=u?(h.sizeHint=h.size-u,u=0):(h.sizeHint=h.size-m,u-=m)}}})(Qr||(Qr={}));Hp=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Ie(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ie.clearData(this))}},fe=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Ie(this),this._hiddenMode=fe.HiddenMode.Display,this.node=Nb.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(fe.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&fe.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Ie.clearData(this),Ae.clearData(this),mt.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(fe.Flag.IsDisposed)}get isAttached(){return this.testFlag(fe.Flag.IsAttached)}get isHidden(){return this.testFlag(fe.Flag.IsHidden)}get isVisible(){return this.testFlag(fe.Flag.IsVisible)}get title(){return Nb.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==fe.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new fe.ChildMessage("child-removed",this);Ae.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new fe.ChildMessage("child-added",this);Ae.sendMessage(this._parent,i)}this.isDisposed||Ae.sendMessage(this,fe.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(fe.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Ae.postMessage(this,fe.Msg.UpdateRequest)}fit(){Ae.postMessage(this,fe.Msg.FitRequest)}activate(){Ae.postMessage(this,fe.Msg.ActivateRequest)}close(){Ae.sendMessage(this,fe.Msg.CloseRequest)}show(){if(this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,fe.Msg.BeforeShow),this.clearFlag(fe.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,fe.Msg.AfterShow),this.parent)){let e=new fe.ChildMessage("child-shown",this);Ae.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,fe.Msg.BeforeHide),this.setFlag(fe.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,fe.Msg.AfterHide),this.parent)){let e=new fe.ChildMessage("child-hidden",this);Ae.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(fe.Flag.IsVisible),this.setFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(fe.Flag.IsVisible),this.clearFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&fe.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case fe.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case fe.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new mr("before-show"),s.AfterShow=new mr("after-show"),s.BeforeHide=new mr("before-hide"),s.AfterHide=new mr("after-hide"),s.BeforeAttach=new mr("before-attach"),s.AfterAttach=new mr("after-attach"),s.BeforeDetach=new mr("before-detach"),s.AfterDetach=new mr("after-detach"),s.ParentChanged=new mr("parent-changed"),s.UpdateRequest=new ec("update-request"),s.FitRequest=new ec("fit-request"),s.ActivateRequest=new ec("activate-request"),s.CloseRequest=new ec("close-request")}(t.Msg||(t.Msg={}));class e extends mr{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends mr{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function n(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Ae.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),Ae.sendMessage(s,t.Msg.AfterAttach)}t.attach=n;function r(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Ae.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Ae.sendMessage(s,t.Msg.AfterDetach)}t.detach=r})(fe||(fe={}));(function(t){t.titleProperty=new mt({name:"title",create:i=>new Hp({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(Nb||(Nb={}));Xo=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Ie.clearData(this),mt.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)Ae.sendMessage(i,fe.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)Ae.sendMessage(i,fe.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)Ae.sendMessage(i,e)}onAfterAttach(e){for(let i of this)Ae.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)Ae.sendMessage(i,e)}onAfterDetach(e){for(let i of this)Ae.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||Ae.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||Ae.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||Ae.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||Ae.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return Jh.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){Jh.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function n(s){return Jh.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=n;function r(s,o){Jh.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=r})(Xo||(Xo={}));dd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ei.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,n,r){let s=Math.max(this._minWidth,Math.min(n,this._maxWidth)),o=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(s<n)switch(Xo.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-s)/2;break;case"right":e+=n-s;break;default:throw"unreachable"}if(o<r)switch(Xo.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(r-o)/2;break;case"bottom":i+=r-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new fe.ResizeMessage(s,o);Ae.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new mt({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new mt({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(Jh||(Jh={}));Zh=class extends Xo{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let n=this._widgets.indexOf(i),r=Math.max(0,Math.min(e,this._widgets.length));if(n===-1){Be.insert(this._widgets,r,i),this.parent&&this.attachWidget(r,i);return}r===this._widgets.length&&r--,n!==r&&(Be.move(this._widgets,n,r),this.parent&&this.moveWidget(n,r,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=Be.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let n=this.parent.node.children[e];this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,n),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterAttach)}moveWidget(e,i,n){this.parent.isAttached&&Ae.sendMessage(n,fe.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&Ae.sendMessage(n,fe.Msg.AfterDetach);let r=this.parent.node.children[i];this.parent.isAttached&&Ae.sendMessage(n,fe.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,r),this.parent.isAttached&&Ae.sendMessage(n,fe.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(Fp||(Fp={}));Wp=Fp,fo=class extends Zh{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Fp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Fp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Ya.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let n=this._sizers.length,r=e.slice(0,n);for(;r.length<n;)r.push(0);let s=Ya.normalize(r);for(let o=0;o<n;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let n=this._handles[e];if(!n||n.classList.contains("lm-mod-hidden"))return;let r;if(this._orientation==="horizontal"?r=i-n.offsetLeft:r=i-n.offsetTop,r!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);Qr.adjust(this._sizers,e,r),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let n=new dd(i),r=Ya.createHandle(this.renderer),s=Ya.averageSize(this._sizers),o=Ya.createSizer(s);Be.insert(this._items,e,n),Be.insert(this._sizers,e,o),Be.insert(this._handles,e,r),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(r),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Be.move(this._items,e,i),Be.move(this._sizers,e,i),Be.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let n=Be.removeAt(this._items,e),r=Be.removeAt(this._handles,e);Be.removeAt(this._sizers,e),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(r),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,n,r,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(n+=this.widgetOffset,l.update(n,r,a,s),n+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(r+=this.widgetOffset,l.update(n,r,o,a),r+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let n=this._orientation==="horizontal",r=n?this._fixed:0,s=n?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l],u=this._sizers[l];if(u.size>0&&(u.sizeHint=u.size),d.isHidden){u.minSize=0,u.maxSize=0;continue}d.fit(),u.stretch=fo.getStretch(d.widget),n?(u.minSize=d.minWidth,u.maxSize=d.maxWidth,r+=d.minWidth,s=Math.max(s,d.minHeight)):(u.minSize=d.minHeight,u.maxSize=d.maxHeight,s+=d.minHeight,r=Math.max(r,d.minWidth))}let o=this._box=ei.boxSizing(this.parent.node);r+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${r}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ei.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,d=this._orientation==="horizontal";if(n>0){let u;if(d?u=Math.max(0,o-this._fixed):u=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=u;this._hasNormedSizes=!1}let f=Qr.calc(this._sizers,u);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/n,c=0;break;default:throw"unreachable"}}for(let u=0,f=this._items.length;u<f;++u){let m=this._items[u].isHidden?0:this._sizers[u].size+l;this.updateItemPosition(u,d,d?s+c:s,d?r:r+c,a,o,m);let p=this.widgetOffset+(this._handles[u].classList.contains("lm-mod-hidden")?0:this._spacing);d?s+=m+p:r+=m+p}}};(function(t){function e(n){return Ya.stretchProperty.get(n)}t.getStretch=e;function i(n,r){Ya.stretchProperty.set(n,r)}t.setStretch=i})(fo||(fo={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new Yo;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function n(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=n;function r(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,d)=>c+Math.abs(d),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=r;function s(o){o.parent&&o.parent.layout instanceof fo&&o.parent.fit()}})(Ya||(Ya={}));NC=class extends fo{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Wp.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let n=this._titles[e],r=n.classList.contains("lm-mod-expanded"),s=Ob.createTitle(this.renderer,i.title,r);this._titles[e]=s,this.parent.node.replaceChild(s,n)}insertWidget(e,i){i.id||(i.id=`id-${Xa.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let n=Ob.createTitle(this.renderer,i.title);Be.insert(this._titles,e,n),this.parent.node.appendChild(n),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",n.id),super.attachWidget(e,i)}moveWidget(e,i,n){Be.move(this._titles,e,i),super.moveWidget(e,i,n)}detachWidget(e,i){let n=Be.removeAt(this._titles,e);this.parent.node.removeChild(n),super.detachWidget(e,i)}updateItemPosition(e,i,n,r,s,o,a){let l=this._titles[e].style;l.top=`${r}px`,l.left=`${n}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,n,r,s,o,a)}};(function(t){function e(i,n,r=!0){let s=i.createSectionTitle(n);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${n.label} Section`),s.setAttribute("aria-expanded",r?"true":"false"),s.setAttribute("aria-controls",n.owner.id),r&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(Ob||(Ob={}));Db=class extends fe{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=OC.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new Zh}t.createLayout=e})(OC||(OC={}));ud=class extends Db{constructor(e={}){super({layout:DC.createLayout(e)}),this._handleMoved=new Ie(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=Be.findFirstIndex(i.handles,c=>c.contains(e.target));if(n===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let r,s=i.handles[n],o=s.getBoundingClientRect();i.orientation==="horizontal"?r=e.clientX-o.left:r=e.clientY-o.top;let a=window.getComputedStyle(s),l=tn.overrideCursor(a.cursor);this._pressData={index:n,delta:r,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,n=this.layout,r=this.node.getBoundingClientRect();n.orientation==="horizontal"?i=e.clientX-r.left-this._pressData.delta:i=e.clientY-r.top-this._pressData.delta,n.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(r){return fo.getStretch(r)}t.getStretch=i;function n(r,s){fo.setStretch(r,s)}t.setStretch=n})(ud||(ud={}));(function(t){function e(i){return i.layout||new fo({renderer:i.renderer||ud.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(DC||(DC={}));$p=class extends ud{constructor(e={}){super({...e,layout:zC.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Ie(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=Be.findFirstIndex(this.widgets,n=>n.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,n=i.widgets[e];if(!n)return;let r=n.isHidden,s=i.absoluteSizes(),o=(r?-1:1)*this.spacing,a=s.reduce((c,d)=>c+d),l=[...s];if(r){let c=this._widgetSizesCache.get(n);if(!c)return;l[e]+=c;let d=l.map(u=>u-c>0).lastIndexOf(!0);d===-1?l.forEach((u,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[d]-=c-o}else{let c=s[e];this._widgetSizesCache.set(n,c),l[e]=0;let d=l.map(u=>u>0).lastIndexOf(!0);if(d===-1)return;l[d]=s[d]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let n=Be.findFirstIndex(this.titles,r=>r.contains(i));n>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(n))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,n=!1;if(i){let r=Be.findFirstIndex(this.titles,s=>s.contains(i));if(r>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),n=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(r+a+o)%a;this.titles[l].focus(),n=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),n=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],n=this.layout.widgets[e],r=this._computeWidgetSize(e);r&&this.setRelativeSizes(r,!1),n.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),n.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),n.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends ud.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(n){return document.createElement("span")}createSectionTitle(n){let r=document.createElement("h3");r.setAttribute("tabindex","0"),r.id=this.createTitleKey(n),r.className=this.titleClassName;for(let a in n.dataset)r.dataset[a]=n.dataset[a];let s=r.appendChild(this.createCollapseIcon(n));s.className="lm-AccordionPanel-titleCollapser";let o=r.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=n.label,o.title=n.caption||n.label,r}createTitleKey(n){let r=this._titleKeys.get(n);return r===void 0&&(r=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(n,r)),r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})($p||($p={}));(function(t){function e(i){return i.layout||new NC({renderer:i.renderer||$p.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(zC||(zC={}));es=class extends Zh{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Wp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Wp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){Be.insert(this._items,e,new dd(i)),Be.insert(this._sizers,e,new Yo),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Be.move(this._items,e,i),Be.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let n=Be.removeAt(this._items,e);Be.removeAt(this._sizers,e),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=cd.isHorizontal(this._direction),n=i?this._fixed:0,r=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],d=this._sizers[a];if(c.isHidden){d.minSize=0,d.maxSize=0;continue}c.fit(),d.sizeHint=es.getSizeBasis(c.widget),d.stretch=es.getStretch(c.widget),i?(d.minSize=c.minWidth,d.maxSize=c.maxWidth,n+=c.minWidth,r=Math.max(r,c.minHeight)):(d.minSize=c.minHeight,d.maxSize=c.maxHeight,r+=c.minHeight,n=Math.max(n,c.minWidth))}let s=this._box=ei.boxSizing(this.parent.node);n+=s.horizontalSum,r+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${n}px`,o.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ei.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=Qr.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=Qr.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=Qr.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=Qr.calc(this._sizers,Math.max(0,a-this._fixed)),r+=a;break;default:throw"unreachable"}let c=0,d=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,d=l/2;break;case"end":c=0,d=l;break;case"justify":c=l/n,d=0;break;default:throw"unreachable"}for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=this._sizers[u].size;switch(this._direction){case"left-to-right":h.update(s+d,r,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,r+d,o,m+c),r+=m+c+this._spacing;break;case"right-to-left":h.update(s-d-m-c,r,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,r-d-m-c,o,m+c),r-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return cd.stretchProperty.get(s)}t.getStretch=e;function i(s,o){cd.stretchProperty.set(s,o)}t.setStretch=i;function n(s){return cd.sizeBasisProperty.get(s)}t.getSizeBasis=n;function r(s,o){cd.sizeBasisProperty.set(s,o)}t.setSizeBasis=r})(es||(es={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n}),t.sizeBasisProperty=new mt({name:"sizeBasis",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n});function e(r){return r==="left-to-right"||r==="right-to-left"}t.isHorizontal=e;function i(r){return Math.max(0,Math.floor(r))}t.clampSpacing=i;function n(r){r.parent&&r.parent.layout instanceof es&&r.parent.fit()}})(cd||(cd={}));zb=class extends Db{constructor(e={}){super({layout:PC.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return es.getStretch(s)}t.getStretch=e;function i(s,o){es.setStretch(s,o)}t.setStretch=i;function n(s){return es.getSizeBasis(s)}t.getSizeBasis=n;function r(s,o){es.setSizeBasis(s,o)}t.setSizeBasis=r})(zb||(zb={}));(function(t){function e(i){return i.layout||new es(i)}t.createLayout=e})(PC||(PC={}));Qh=class extends fe{constructor(e){super({node:Ga.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Qh.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=Ga.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(n=>Ga.createItem(this.commands,n));return i.forEach(n=>this._items.push(n)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){Be.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,n=this.contentNode,r=this._results;if(r||(r=this._results=Ga.search(this._items,i),this._activeIndex=i?Be.findFirstIndex(r,Ga.canActivate):-1),!i&&r.length===0){Zt.render(null,n);return}if(i&&r.length===0){let l=this.renderer.renderEmptyMessage({query:i});Zt.render(l,n);return}let s=this.renderer,o=this._activeIndex,a=new Array(r.length);for(let l=0,c=r.length;l<c;++l){let d=r[l];if(d.type==="header"){let u=d.indices,f=d.category;a[l]=s.renderHeader({category:f,indices:u})}else{let u=d.item,f=d.indices,h=l===o;a[l]=s.renderItem({item:u,indices:f,active:h})}}if(Zt.render(a,n),o<0||o>=r.length)n.scrollTop=0;else{let l=n.children[o];ei.scrollIntoViewIfNeeded(n,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=Be.findFirstIndex(this.contentNode.children,n=>n.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<i-1?e+1:0,r=n===0?i-1:n-1;this._activeIndex=Be.findFirstIndex(this._results,Ga.canActivate,n,r),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<=0?i-1:e-1,r=n===i-1?0:n+1;this._activeIndex=Be.findLastIndex(this._results,Ga.canActivate,n,r),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let n=this.inputNode;n.value=`${i.category.toLowerCase()} `,n.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(n){let r=this.formatHeader(n);return Se.li({className:"lm-CommandPalette-header"},r)}renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n);return n.item.isToggleable?Se.li({className:r,dataset:s,role:"menuitemcheckbox","aria-checked":`${n.item.isToggled}`},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n)):Se.li({className:r,dataset:s,role:"menuitem"},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n))}renderEmptyMessage(n){let r=this.formatEmptyMessage(n);return Se.li({className:"lm-CommandPalette-emptyMessage"},r)}renderItemIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderItemContent(n){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(n),this.renderItemCaption(n))}renderItemLabel(n){let r=this.formatItemLabel(n);return Se.div({className:"lm-CommandPalette-itemLabel"},r)}renderItemCaption(n){let r=this.formatItemCaption(n);return Se.div({className:"lm-CommandPalette-itemCaption"},r)}renderItemShortcut(n){let r=this.formatItemShortcut(n);return Se.div({className:"lm-CommandPalette-itemShortcut"},r)}createItemClass(n){let r="lm-CommandPalette-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.active&&(r+=" lm-mod-active");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){return{...n.item.dataset,command:n.item.command}}createIconClass(n){let r="lm-CommandPalette-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}formatHeader(n){return!n.indices||n.indices.length===0?n.category:Yh.highlight(n.category,n.indices,Se.mark)}formatEmptyMessage(n){return`No commands found that match '${n.query}'`}formatItemShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}formatItemLabel(n){return!n.indices||n.indices.length===0?n.item.label:Yh.highlight(n.item.label,n.indices,Se.mark)}formatItemCaption(n){return n.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(Qh||(Qh={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),y=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",y.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(y),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new u(f,h)}t.createItem=i;function n(f,h){let m=a(f,h);return m.sort(c),d(m)}t.search=n;function r(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=r;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let y=f[p];if(!y.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:y});continue}let S=l(y,h);S&&(y.isEnabled||(S.score+=1e3),m.push(S))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,y=1/0,S=null,T=/\b\w/g;for(;;){let C=T.exec(_);if(!C)break;let x=Yh.matchSumOfDeltas(_,h,C.index);if(!x)break;x.score<=y&&(y=x.score,S=x.indices)}if(!S||y===1/0)return null;let D=m.length+1,k=Be.lowerBound(S,D,(C,x)=>C-x),b=S.slice(0,k),M=S.slice(k);for(let C=0,x=M.length;C<x;++C)M[C]-=D;return b.length===0?{matchType:0,categoryIndices:null,labelIndices:M,score:y,item:f}:M.length===0?{matchType:1,categoryIndices:b,labelIndices:null,score:y,item:f}:{matchType:2,categoryIndices:b,labelIndices:M,score:y,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,y=0;switch(f.matchType){case 0:_=f.labelIndices[0],y=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],y=h.categoryIndices[0];break}if(_!==y)return _-y;let S=f.item.category.localeCompare(h.item.category);if(S!==0)return S;let T=f.item.rank,D=h.item.rank;return T!==D?T<D?-1:1:f.item.label.localeCompare(h.item.label)}function d(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:y,labelIndices:S}=f[m],T=_.category;(m===0||T!==f[m-1].item.category)&&h.push({type:"header",category:T,indices:y}),h.push({type:"item",item:_,indices:S})}return h}class u{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||Xa.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return Be.findLastValue(this._commands.keyBindings,p=>p.command===h&&Xa.JSONExt.deepEqual(p.args,m))||null}}})(Ga||(Ga={}));Ko=class extends fe{constructor(e){super({node:pr.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Ie(this),this._menuRequested=new Ie(this),this.addClass("lm-Menu"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Ko.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!pr.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,n=i<e-1?i+1:0,r=n===0?e-1:n-1;this.activeIndex=Be.findFirstIndex(this._items,pr.canActivate,n,r)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,n=i<=0?e-1:i-1,r=n===e-1?0:n+1;this.activeIndex=Be.findLastIndex(this._items,pr.canActivate,n,r)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:n}=e;this.commands.isEnabled(i,n)?this.commands.execute(i,n):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let n=Math.max(0,Math.min(e,this._items.length)),r=pr.createItem(this,i);return Be.insert(this._items,n,r),this.update(),r}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,Be.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,n={}){var r,s;if(this.isAttached)return;let o=n.forceX||!1,a=n.forceY||!1,l=(r=n.host)!==null&&r!==void 0?r:null,c=(s=n.ref)!==null&&s!==void 0?s:null;pr.openRootMenu(this,e,i,o,a,l,c),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,n=this.renderer,r=this._activeIndex,s=pr.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],d=a===r,u=s[a];o[a]=n.renderItem({item:c,active:d,collapsed:u,onfocus:()=>{this.activeIndex=a}})}Zt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=pr.findMnemonic(this._items,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=Be.findFirstIndex(this.contentNode.children,r=>ei.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let n=this.activeItem;!n||n.type!=="submenu"||!n.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:n}=e;if(ei.hitTest(this._childMenu.node,i,n)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(pr.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let n=i.submenu;if(n===this._childMenu)return;Ko.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,Ae.sendMessage(this,fe.Msg.UpdateRequest);let r=this.contentNode.children[this._activeIndex];pr.openSubmenu(n,r),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},pr.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},pr.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){pr.saveWindowData()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,tabindex:"0",onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n),this.renderShortcut(n),this.renderSubmenu(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-Menu-itemLabel"},r)}renderShortcut(n){let r=this.formatShortcut(n);return Se.div({className:"lm-Menu-itemShortcut"},r)}renderSubmenu(n){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(n){let r="lm-Menu-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.item.isVisible||(r+=" lm-mod-hidden"),n.active&&(r+=" lm-mod-active"),n.collapsed&&(r+=" lm-mod-collapsed");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){let r,{type:s,command:o,dataset:a}=n.item;return s==="command"?r={...a,type:s,command:o}:r={...a,type:s},r}createIconClass(n){let r="lm-Menu-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}createItemARIA(n){let r={};switch(n.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",n.item.isEnabled||(r["aria-disabled"]="true");break;default:n.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r}formatLabel(n){let{label:r,mnemonic:s}=n.item;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Ko||(Ko={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function n(){return i>0?(i--,e):d()}function r(){e=d(),i++}t.saveWindowData=r;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,y){for(let S=p;S;S=S.childMenu)if(ei.hitTest(S.node,_,y))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);Be.fill(_,!1);let y=0,S=p.length;for(;y<S;++y){let k=p[y];if(k.isVisible){if(k.type!=="separator")break;_[y]=!0}}let T=S-1;for(;T>=0;--T){let k=p[T];if(k.isVisible){if(k.type!=="separator")break;_[T]=!0}}let D=!1;for(;++y<T;){let k=p[y];k.isVisible&&(k.type!=="separator"?D=!1:D?_[y]=!0:D=!0)}return _}t.computeCollapsed=c;function d(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function u(p,_,y,S,T,D,k){let b=n(),M=b.pageXOffset,C=b.pageYOffset,x=b.clientWidth,w=b.clientHeight;Ae.sendMessage(p,fe.Msg.UpdateRequest);let E=w-(T?y:0),O=p.node,j=O.style;j.opacity="0",j.maxHeight=`${E}px`,fe.attach(p,D||document.body,k);let{width:Q,height:X}=O.getBoundingClientRect();!S&&_+Q>M+x&&(_=M+x-Q),!T&&y+X>C+w&&(y>C+w?y=C+w-X:y=y-X),j.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,y)}px`,j.opacity="1"}t.openRootMenu=u;function f(p,_){let y=n(),S=y.pageXOffset,T=y.pageYOffset,D=y.clientWidth,k=y.clientHeight;Ae.sendMessage(p,fe.Msg.UpdateRequest);let b=k,M=p.node,C=M.style;C.opacity="0",C.maxHeight=`${b}px`,fe.attach(p,document.body);let{width:x,height:w}=M.getBoundingClientRect(),E=ei.boxSizing(p.node),O=_.getBoundingClientRect(),j=O.right-t.SUBMENU_OVERLAP;j+x>S+D&&(j=O.left+t.SUBMENU_OVERLAP-x);let Q=O.top-E.borderTop-E.paddingTop;Q+w>T+k&&(Q=O.bottom+E.borderBottom+E.paddingBottom-w),C.transform=`translate(${Math.max(0,j)}px, ${Math.max(0,Q)}px`,C.opacity="1"}t.openSubmenu=f;function h(p,_,y){let S=-1,T=-1,D=!1,k=_.toUpperCase();for(let b=0,M=p.length;b<M;++b){let C=(b+y)%M,x=p[C];if(!o(x))continue;let w=x.label;if(w.length===0)continue;let E=x.mnemonic;if(E>=0&&E<w.length){w[E].toUpperCase()===k&&(S===-1?S=C:D=!0);continue}T===-1&&w[0].toUpperCase()===k&&(T=C)}return{index:S,multiple:D,auto:T}}t.findMnemonic=h;class m{constructor(_,y){this._commands=_,this.type=y.type||"command",this.command=y.command||"",this.args=y.args||Xa.JSONExt.emptyObject,this.submenu=y.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:y}=this;return Be.findLastValue(this._commands.keyBindings,S=>S.command===_&&Xa.JSONExt.deepEqual(S.args,y))||null}return null}}})(pr||(pr={}));(function(t){function e(o,a){let l=n(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let d=a.target;if(!d)return null;let u=a.currentTarget;if(!u||!u.contains(d)&&(d=document.elementFromPoint(a.clientX,a.clientY),!d||!u.contains(d)))return null;let f=[],h=o.slice();for(;d!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let y=h[p];y&&ld.matches(d,y.selector)&&(m.push(y),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:r),f.push(...m)),d===u)break;d=d.parentElement}return l||f.sort(c?s:r),f}t.matchItems=i;function n(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!ld.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function r(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=ld.calculateSpecificity(o.selector),c=ld.calculateSpecificity(a.selector);return l!==c?c-l:r(o,a)}})(cD||(cD={}));HU=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],tc=class extends fe{constructor(e={}){super({node:Ps.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Ie(this),this._currentChanged=new Ie(this),this._addRequested=new Ie(this),this._tabCloseRequested=new Ie(this),this._tabDetachRequested=new Ie(this),this._tabActivateRequested=new Ie(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(fe.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||tc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,n=this._titles[i]||null,r=e,s=this._titles[r]||null;this._currentIndex=r,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:r,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let n=Ps.asTitle(i),r=this._titles.indexOf(n),s=Math.max(0,Math.min(e,this._titles.length));return r===-1?(Be.insert(this._titles,s,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,n),n):(s===this._titles.length&&s--,r===s||(Be.move(this._titles,r,s),this.update(),this._adjustCurrentForMove(r,s)),n)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=Be.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let n of this._titles)n.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let n=this._titles,r=this.renderer,s=this.currentTitle,o=new Array(n.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=n.length;l<c;++l){let d=n[l],u=d===s,f=u?c:c-l-1,h=a===l?0:-1;o[l]=r.renderTab({title:d,current:u,zIndex:f,tabIndex:h})}Zt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,n=Be.findFirstIndex(i,o=>ei.hitTest(o,e.clientX,e.clientY));if(n===-1)return;let r=this.titles[n],s=i[n].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=r.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",d=>d.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",d=>{d.key==="Enter"?(l.value!==""&&(r.label=r.caption=l.value),c()):d.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,n,r;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=Be.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(HU.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(n=s[o-1])!==null&&n!==void 0?n:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((r=s[o])===null||r===void 0||r.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,r=Be.findFirstIndex(n,o=>ei.hitTest(o,e.clientX,e.clientY));if(r===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[r],index:r,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=n[r].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===r?this.currentIndex=-1:this.currentIndex=r,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let n=this.contentNode.children;if(!(!i.dragActive&&!Ps.dragExceeded(i,e))){if(!i.dragActive){let r=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=r.width,i.tabPressPos=i.pressX-r.left):(i.tabPos=i.tab.offsetTop,i.tabSize=r.height,i.tabPressPos=i.pressY-r.top),i.tabPressOffset={x:i.pressX-r.left,y:i.pressY-r.top},i.tabLayout=Ps.snapTabLayout(n,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=tn.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ps.detachExceeded(i,e)){i.detachRequested=!0;let r=i.index,s=e.clientX,o=e.clientY,a=n[r],l=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ps.layoutTabs(n,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=Be.findFirstIndex(s,c=>ei.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ps.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let n=Ps.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ps.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let r=i.index,s=i.targetIndex;s===-1||r===s||(Be.move(this._titles,r,s),this._adjustCurrentForMove(r,s),this._tabMoved.emit({fromIndex:r,toIndex:s,title:this._titles[s]}),Ae.sendMessage(this,fe.Msg.UpdateRequest))},n)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ps.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let n=this.currentTitle,r=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&r===-1){this._currentIndex=e,this._previousTitle=n,this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:e,currentTitle:i});return}r>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let n=this._currentIndex,r=this.removeBehavior;if(n!==e){n>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(r==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(n){let r=n.title.caption,s=this.createTabKey(n),o=s,a=this.createTabStyle(n),l=this.createTabClass(n),c=this.createTabDataset(n),d=this.createTabARIA(n);return n.title.closable?Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n),this.renderCloseIcon(n)):Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let{title:r}=n,s=this.createIconClass(n);return Se.div({className:s},r.icon,r.iconLabel)}renderLabel(n){return Se.div({className:"lm-TabBar-tabLabel"},n.title.label)}renderCloseIcon(n){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(n){let r=this._tabKeys.get(n.title);return r===void 0&&(r=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(n.title,r)),r}createTabStyle(n){return{zIndex:`${n.zIndex}`}}createTabClass(n){let r="lm-TabBar-tab";return n.title.className&&(r+=` ${n.title.className}`),n.title.closable&&(r+=" lm-mod-closable"),n.current&&(r+=" lm-mod-current"),r}createTabDataset(n){return n.title.dataset}createTabARIA(n){var r;return{role:"tab","aria-selected":n.current.toString(),tabindex:`${(r=n.tabIndex)!==null&&r!==void 0?r:"-1"}`}}createIconClass(n){let r="lm-TabBar-tabIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(tc||(tc={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let d=document.createElement("div"),u=document.createElement("ul");u.setAttribute("role","tablist"),u.className="lm-TabBar-content",d.appendChild(u);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),d.appendChild(f),d}t.createNode=e;function i(d){return d instanceof Hp?d:new Hp(d)}t.asTitle=i;function n(d){let u=window.getComputedStyle(d);return 1e3*(parseFloat(u.transitionDuration)||0)}t.parseTransitionDuration=n;function r(d,u){let f=new Array(d.length);for(let h=0,m=d.length;h<m;++h){let p=d[h],_=window.getComputedStyle(p);u==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=r;function s(d,u){let f=Math.abs(u.clientX-d.pressX),h=Math.abs(u.clientY-d.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(d,u){let f=d.contentRect;return u.clientX<f.left-t.DETACH_THRESHOLD||u.clientX>=f.right+t.DETACH_THRESHOLD||u.clientY<f.top-t.DETACH_THRESHOLD||u.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(d,u,f,h){let m,p,_,y;h==="horizontal"?(m=u.pressX,p=f.clientX-u.contentRect.left,_=f.clientX,y=u.contentRect.width):(m=u.pressY,p=f.clientY-u.contentRect.top,_=f.clientY,y=u.contentRect.height);let S=u.index,T=p-u.tabPressPos,D=T+u.tabSize;for(let k=0,b=d.length;k<b;++k){let M,C=u.tabLayout[k],x=C.pos+(C.size>>1);if(k<u.index&&T<x)M=`${u.tabSize+u.tabLayout[k+1].margin}px`,S=Math.min(S,k);else if(k>u.index&&D>x)M=`${-u.tabSize-C.margin}px`,S=Math.max(S,k);else if(k===u.index){let w=_-m,E=y-(u.tabPos+u.tabSize);M=`${Math.max(-u.tabPos,Math.min(w,E))}px`}else M="";h==="horizontal"?d[k].style.left=M:d[k].style.top=M}u.targetIndex=S}t.layoutTabs=a;function l(d,u){let f;u==="horizontal"?f=d.contentRect.width:f=d.contentRect.height;let h;if(d.targetIndex===d.index)h=0;else if(d.targetIndex>d.index){let _=d.tabLayout[d.targetIndex];h=_.pos+_.size-d.tabSize-d.tabPos}else h=d.tabLayout[d.targetIndex].pos-d.tabPos;let m=f-(d.tabPos+d.tabSize),p=Math.max(-d.tabPos,Math.min(h,m));u==="horizontal"?d.tab.style.left=`${p}px`:d.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(d,u){for(let f of d)u==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ps||(Ps={}));BC=class extends Xo{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Wp.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let n of i.titles)n.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Wp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():Kh()}widgets(){return this._root?this._root.iterUserWidgets():Kh()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():Kh()}tabBars(){return this._root?this._root.iterTabBars():Kh()}handles(){return this._root?this._root.iterHandles():Kh()}moveHandle(e,i,n){let r=e.classList.contains("lm-mod-hidden");if(!this._root||r)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=n-e.offsetTop,o!==0&&(s.node.holdSizes(),Qr.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,n;e.main?n=Xi.normalizeAreaConfig(e.main,i):n=null;let r=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of r)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;n?this._root=Xi.realizeAreaConfig(n,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let n=i.ref||null,r=i.mode||"tab-after",s=null;if(this._root&&n&&(s=this._root.findTabNode(n)),n&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,r){case"tab-after":this._insertTab(e,n,s,!0);break;case"tab-before":this._insertTab(e,n,s,!1);break;case"split-top":this._insertSplit(e,n,s,"vertical",!1);break;case"split-left":this._insertSplit(e,n,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,n,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,n,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,n,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,n,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ei.boxSizing(this.parent.node));let n=this.parent.node.getBoundingClientRect(),r=e-n.left-this._box.borderLeft,s=i-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(r,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:d,height:u}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=n.width-f-(c+d),p=n.height-h-(l+u);return{tabBar:a,x:r,y:s,top:l,left:c,right:m,bottom:p,width:d,height:u}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new dd(e)),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Xi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===fe.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=fe.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let n=i.parent;i.parent=null;let r=Be.removeFirstOf(n.children,i),s=Be.removeAt(n.handles,r);if(Be.removeAt(n.sizers,r),s.parentNode&&s.parentNode.removeChild(s),n.children.length>1){n.syncHandles();return}let o=n.parent;n.parent=null;let a=n.children[0],l=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===n){a.parent=null,this._root=a;return}let c=o,d=c.children.indexOf(n);if(a instanceof Xi.TabLayoutNode){a.parent=c,c.children[d]=a;return}let u=Be.removeAt(c.handles,d);Be.removeAt(c.children,d),Be.removeAt(c.sizers,d),u.parentNode&&u.parentNode.removeChild(u);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];Be.insert(c.children,d+f,m),Be.insert(c.handles,d+f,p),Be.insert(c.sizers,d+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Xi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Xi.addAria(e,i.tabBar),i}_insertTab(e,i,n,r){if(e===i)return;if(!this._root){let o=new Xi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Xi.addAria(e,o.tabBar);return}n||(n=this._root.findFirstTabNode()),n.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=n.tabBar.titles.indexOf(i.title):s=n.tabBar.currentIndex,this._hiddenMode===fe.HiddenMode.Scale)if(n.tabBar.titles.length===0)e.hiddenMode=fe.HiddenMode.Display;else if(n.tabBar.titles.length==1){let o=n.tabBar.titles[0].owner;o.hiddenMode=fe.HiddenMode.Scale}else e.hiddenMode=fe.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;n.tabBar.insertTab(s+(r?1:0),e.title),Xi.addAria(e,n.tabBar)}_insertSplit(e,i,n,r,s,o=!1){if(e===i&&n&&n.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!n||!n.parent){let f=this._splitRoot(r),h=s?f.children.length:0;f.normalizeSizes();let m=Xi.createSizer(n?1:Xi.GOLDEN_RATIO),p=this._createTabNode(e);Be.insert(f.children,h,p),Be.insert(f.sizers,h,m),Be.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=n.parent;if(a.orientation===r){let f=a.children.indexOf(n);if(o){let _=f+(s?1:-1),y=a.children[_];if(y instanceof Xi.TabLayoutNode){this._insertTab(e,null,y,!0),++y.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);Be.insert(a.children,m,p),Be.insert(a.sizers,m,Xi.createSizer(h)),Be.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=Be.removeFirstOf(a.children,n),c=new Xi.SplitLayoutNode(r);c.normalized=!0,c.children.push(n),c.sizers.push(Xi.createSizer(.5)),c.handles.push(this._createHandle()),n.parent=c;let d=s?1:0,u=this._createTabNode(e);Be.insert(c.children,d,u),Be.insert(c.sizers,d,Xi.createSizer(.5)),Be.insert(c.handles,d,this._createHandle()),u.parent=c,c.syncHandles(),Be.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Xi.SplitLayoutNode&&i.orientation===e)return i;let n=this._root=new Xi.SplitLayoutNode(e);return i&&(n.children.push(i),n.sizers.push(Xi.createSizer(0)),n.handles.push(this._createHandle()),i.parent=n),n}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let n=this._box=ei.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ei.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(n,r,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new Yo;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function n(f,h,m){let p;return f.type==="tab-area"?p=d(f,h,m):p=u(f,h,m),p}t.realizeAreaConfig=n;class r{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new Yo,p=new Yo;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,y=1/0,S=1/0,T=m.get(this.tabBar),D=this.tabBar.currentTitle,k=D?m.get(D.owner):void 0,[b,M]=this.sizers;return T&&T.fit(),k&&k.fit(),T&&!T.isHidden?(p=Math.max(p,T.minWidth),_+=T.minHeight,b.minSize=T.minHeight,b.maxSize=T.maxHeight):(b.minSize=0,b.maxSize=0),k&&!k.isHidden?(p=Math.max(p,k.minWidth),_+=k.minHeight,M.minSize=k.minHeight,M.maxSize=1/0):(M.minSize=0,M.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:y,maxHeight:S}}update(h,m,p,_,y,S){this._top=m,this._left=h,this._width=p,this._height=_;let T=S.get(this.tabBar),D=this.tabBar.currentTitle,k=D?S.get(D.owner):void 0;if(Qr.calc(this.sizers,_),T&&!T.isHidden){let b=this.sizers[0].size;T.update(h,m,p,b),m+=b}if(k&&!k.isHidden){let b=this.sizers[1].size;k.update(h,m,p,b)}}}t.TabLayoutNode=r;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].findSplitNode(h);if(y)return y}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].hitTestTabNodes(h,m);if(y)return y}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,y)=>_+y,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,y=p?_:0,S=p?0:_,T=1/0,D=1/0;for(let k=0,b=this.children.length;k<b;++k){let M=this.children[k].fit(h,m);p?(S=Math.max(S,M.minHeight),y+=M.minWidth,this.sizers[k].minSize=M.minWidth):(y=Math.max(y,M.minWidth),S+=M.minHeight,this.sizers[k].minSize=M.minHeight)}return{minWidth:y,minHeight:S,maxWidth:T,maxHeight:D}}update(h,m,p,_,y,S){let T=this.orientation==="horizontal",D=Math.max(0,this.children.length-1)*y,k=Math.max(0,(T?p:_)-D);if(this.normalized){for(let b of this.sizers)b.sizeHint*=k;this.normalized=!1}Qr.calc(this.sizers,k);for(let b=0,M=this.children.length;b<M;++b){let C=this.children[b],x=this.sizers[b].size,w=this.handles[b].style;T?(C.update(h,m,x,_,y,S),h+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${y}px`,w.height=`${_}px`,h+=y):(C.update(h,m,p,x,y,S),m+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${p}px`,w.height=`${y}px`,m+=y)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof tc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let y=0,S=f.children.length;y<S;++y){let T=i(f.children[y],h);T&&(T.type==="tab-area"||T.orientation!==m?(p.push(T),_.push(Math.abs(f.sizes[y]||0))):(p.push(...T.children),_.push(...T.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function d(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new r(p)}function u(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,y)=>{let S=n(_,h,m),T=e(f.sizes[y]),D=h.createHandle();p.children.push(S),p.handles.push(D),p.sizers.push(T),S.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Xi||(Xi={}));hd=class extends fe{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Ie(this),this._addRequested=new Ie(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||hd.defaultRenderer,this._edges=e.edges||Hi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new BC({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new hd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let n of i.tabBars())n.show();break;case"single-document":i.restoreLayout(Hi.createSingleDocumentConfig(this));break;default:throw"unreachable"}Ae.postMessage(this,Hi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=kC(this.tabBars(),n=>n.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(ad.IS_EDGE||ad.IS_IE)&&Ae.flush(),Ae.postMessage(this,Hi.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),Ae.postMessage(this,Hi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Hi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Hi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Ae.postMessage(this,Hi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:n}=e,{zone:r,target:s}=Hi.findDropTarget(this,i,n,this._edges);if(this._tabsConstrained&&e.source!==this||r==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof fe)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Hi.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Ae.postMessage(this,Hi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=e.target,r=kC(i.handles(),d=>d.contains(n));if(!r)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=r.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(r),c=tn.overrideCursor(l.cursor,this._document);this._pressData={handle:r,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),n=e.clientX-i.left-this._pressData.deltaX,r=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,r)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Ae.postMessage(this,Hi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:n,target:r}=Hi.findDropTarget(this,e,i,this._edges);if(n==="invalid")return this.overlay.hide(100),n;let s,o,a,l,c=ei.boxSizing(this.node),d=this.node.getBoundingClientRect();switch(n){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=d.height*Hi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=d.width*Hi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=d.width*Hi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=d.height*Hi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=r.top,o=r.left,a=r.right,l=r.bottom;break;case"widget-top":s=r.top,o=r.left,a=r.right,l=r.bottom+r.height/2;break;case"widget-left":s=r.top,o=r.left,a=r.right+r.width/2,l=r.bottom;break;case"widget-right":s=r.top,o=r.left+r.width/2,a=r.right,l=r.bottom;break;case"widget-bottom":s=r.top+r.height/2,o=r.left,a=r.right,l=r.bottom;break;case"widget-tab":{let u=r.tabBar.node.getBoundingClientRect().height;s=r.top,o=r.left,a=r.right,l=r.bottom+r.height-u;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),n}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Hi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Ae.postMessage(this,Hi.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:n,currentTitle:r}=i;n&&n.owner.hide(),r&&r.owner.show(),(ad.IS_EDGE||ad.IS_IE)&&Ae.flush(),Ae.postMessage(this,Hi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:n,tab:r,clientX:s,clientY:o,offset:a}=i,l=new Xa.MimeData,c=()=>n.owner;l.setData("application/vnd.lumino.widget-factory",c);let d=r.cloneNode(!0);a&&(d.style.top=`-${a.y}px`,d.style.left=`-${a.x}px`),this._drag=new tn({document:this._document,mimeData:l,dragImage:d,proposedAction:"move",supportedActions:"move",source:this}),r.classList.add("lm-mod-hidden");let u=()=>{this._drag=null,r.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(u)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(r){let s=this.node.style;s.top=`${r.top}px`,s.left=`${r.left}px`,s.right=`${r.right}px`,s.bottom=`${r.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(r){if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},r))}}}t.Overlay=e;class i{createTabBar(r){let s=new tc({document:r});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let r=document.createElement("div");return r.className="lm-DockPanel-handle",r}}t.Renderer=i,t.defaultRenderer=new i})(hd||(hd={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ec("layout-modified"),t.isGeneratedTabBarProperty=new mt({name:"isGeneratedTabBar",create:()=>!1});function e(r){if(r.isEmpty)return{main:null};let s=Array.from(r.widgets()),o=r.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(r,s,o,a){if(!ei.hitTest(r.node,s,o))return{zone:"invalid",target:null};let l=r.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){let T=r.node.getBoundingClientRect(),D=s-T.left+1,k=o-T.top+1,b=T.right-s,M=T.bottom-o;switch(Math.min(k,b,M,D)){case k:if(k<a.top)return{zone:"root-top",target:null};break;case b:if(b<a.right)return{zone:"root-right",target:null};break;case M:if(M<a.bottom)return{zone:"root-bottom",target:null};break;case D:if(D<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:c};let d=c.x-c.left+1,u=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(u<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(d>p&&f>p&&u>_&&h>_)return{zone:"widget-all",target:c};d/=p,u/=_,f/=p,h/=_;let y=Math.min(d,u,f,h),S;switch(y){case d:S="widget-left";break;case u:S="widget-top";break;case f:S="widget-right";break;case h:S="widget-bottom";break;default:throw"unreachable"}return{zone:S,target:c}}t.findDropTarget=i;function n(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}t.getDropRef=n})(Hi||(Hi={}));Ka=class extends Xo{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new Yo],this._columnSizers=[new Yo],this._box=null,e.rowCount!==void 0&&pn.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&pn.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=pn.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=pn.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(pn.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(pn.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=pn.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=pn.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let n=this._rowSizers[e];n&&(i=pn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let n=this._columnSizers[e];n&&(i=pn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){Be.findFirstIndex(this._items,n=>n.widget===e)===-1&&(this._items.push(new dd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=Be.findFirstIndex(this._items,r=>r.widget===e);if(i===-1)return;let n=Be.removeAt(this._items,i);this.parent&&this.detachWidget(e),n.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,n=this.columnCount-1;e.sort(pn.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=Ka.getCellConfig(d.widget),f=Math.min(u.row,i),h=Math.min(u.row+u.rowSpan-1,i);pn.distributeMin(this._rowSizers,f,h,d.minHeight)}e.sort(pn.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=Ka.getCellConfig(d.widget),f=Math.min(u.column,n),h=Math.min(u.column+u.columnSpan-1,n);pn.distributeMin(this._columnSizers,f,h,d.minWidth)}if(this.fitPolicy==="set-no-constraint"){Ae.sendMessage(this.parent,fe.Msg.UpdateRequest);return}let r=i*this._rowSpacing,s=n*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)r+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=ei.boxSizing(this.parent.node);s+=o.horizontalSum,r+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ei.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,d=l*this._columnSpacing;Qr.calc(this._rowSizers,Math.max(0,o-c)),Qr.calc(this._columnSizers,Math.max(0,s-d));for(let u=0,f=n,h=this.rowCount;u<h;++u)this._rowStarts[u]=f,f+=this._rowSizers[u].size+this._rowSpacing;for(let u=0,f=r,h=this.columnCount;u<h;++u)this._columnStarts[u]=f,f+=this._columnSizers[u].size+this._columnSpacing;for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=Ka.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),y=Math.min(m.row+m.rowSpan-1,a),S=Math.min(m.column+m.columnSpan-1,l),T=this._columnStarts[_],D=this._rowStarts[p],k=this._columnStarts[S]+this._columnSizers[S].size-T,b=this._rowStarts[y]+this._rowSizers[y].size-D;h.update(T,D,k,b)}}};(function(t){function e(n){return pn.cellConfigProperty.get(n)}t.getCellConfig=e;function i(n,r){pn.cellConfigProperty.set(n,pn.normalizeConfig(r))}t.setCellConfig=i})(Ka||(Ka={}));(function(t){t.cellConfigProperty=new mt({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),d=Math.max(0,Math.floor(l.column||0)),u=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:d,rowSpan:u,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function n(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.rowSpan-u.rowSpan}t.rowSpanCmp=n;function r(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.columnSpan-u.columnSpan}t.columnSpanCmp=r;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new Yo);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,d,u){if(d<c)return;if(c===d){let m=l[c];m.minSize=Math.max(m.minSize,u);return}let f=0;for(let m=c;m<=d;++m)f+=l[m].minSize;if(f>=u)return;let h=(u-f)/(d-c+1);for(let m=c;m<=d;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof Ka&&l.parent.fit()}})(pn||(pn={}));ef=class extends fe{constructor(e={}){super({node:Pb.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(fe.Flag.DisallowLayout),this.renderer=e.renderer||ef.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,n=!0){this._closeChildMenu();let r=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(r===-1){Be.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),n&&this.update();return}s===this._menus.length&&s--,r!==s&&(Be.move(this._menus,r,s),n&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let n=Be.removeAt(this._menus,e);n&&(n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let n=this._menus,r=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:n.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let d=new Array(a);for(let u=0;u<a;++u)d[u]=r.renderItem({title:n[u].title,active:u===s,tabbable:u===o,disabled:n[u].items.length===0,onfocus:()=>{this._tabFocusIndex=u,this.activeIndex=u}}),l+=this._menuItemSizes[u],n[u].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let u=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new Ko({commands:new Zn}),this._overflowMenu.title.label=u,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let u=n.length-2;u>=a;u--){let f=this.menus[u];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}d[a]=r.renderItem({title:this._overflowMenu.title,active:a===s&&n[a].items.length!==0,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let u=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=n.length-1-m;if(f-l>this._menuItemSizes[p]){let _=u[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),d[a]=r.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),d.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Zt.render(d,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,n=0,r=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];n+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),n>i&&r===-1&&(r=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(n+=this._menuItemSizes[o],n>i){r=o;break}this._overflowIndex=r}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let d=(l+a+o*c)%l;if(this._menus[d].items.length){this._focusItemAt(d);return}}return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=Pb.findMnemonic(this._menus,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ei.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=Be.findFirstIndex(this.contentNode.children,n=>ei.hitTest(n,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let n=this._positionForMenu(i);Ko.saveWindowData(),this.activeIndex=i,this._openChildMenu(n)}}_evtMouseMove(e){let i=Be.findFirstIndex(this.contentNode.children,r=>ei.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let n=i>=0&&this._childMenu?this._positionForMenu(i):null;Ko.saveWindowData(),this.activeIndex=i,n&&this._openChildMenu(n)}_positionForMenu(e){let i=this.contentNode.children[e],{left:n,bottom:r}=i.getBoundingClientRect();return{top:r,left:n}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let n=this._childMenu;if(n===i)return;this._childMenu=i,n?n.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Ae.sendMessage(this,fe.Msg.UpdateRequest);let{left:r,top:s}=e;(typeof r>"u"||typeof s>"u")&&({left:r,top:s}=this._positionForMenu(this._activeIndex)),n||this.addClass("lm-mod-active"),i.items.length>0&&i.open(r,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let n=this._activeIndex,r=this._menus.length;switch(i){case"next":this.activeIndex=n===r-1?0:n+1;break;case"previous":this.activeIndex=n===0?r-1:n-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,...n.disabled?{}:{tabindex:n.tabbable?"0":"-1"},onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.title.icon,n.title.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-MenuBar-itemLabel"},r)}createItemClass(n){let r="lm-MenuBar-item";return n.title.className&&(r+=` ${n.title.className}`),n.active&&!n.disabled&&(r+=" lm-mod-active"),r}createItemDataset(n){return n.title.dataset}createItemARIA(n){return{role:"menuitem","aria-haspopup":"true","aria-disabled":n.disabled?"true":"false"}}createIconClass(n){let r="lm-MenuBar-itemIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}formatLabel(n){let{label:r,mnemonic:s}=n.title;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(ef||(ef={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",n.appendChild(r),r.setAttribute("role","menubar"),n}t.createNode=e;function i(n,r,s){let o=-1,a=-1,l=!1,c=r.toUpperCase();for(let d=0,u=n.length;d<u;++d){let f=(d+s)%u,h=n[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(Pb||(Pb={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return r.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",r.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),n.appendChild(r),n.appendChild(o),n.appendChild(s),n}t.createNode=e;function i(n,r){return n.thumbNode.contains(r)?"thumb":n.trackNode.contains(r)?"track":n.decrementNode.contains(r)?"decrement":n.incrementNode.contains(r)?"increment":null}t.findPart=i})(dD||(dD={}));uD=class extends Xo{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,fe.Msg.AfterDetach)}},jC=class extends Zh{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===fe.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=fe.HiddenMode.Scale),i.hiddenMode=fe.HiddenMode.Scale):i.hiddenMode=fe.HiddenMode.Display,Be.insert(this._items,e,new dd(i)),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Be.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let n=Be.removeAt(this._items,e);this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Ae.sendMessage(i,fe.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===fe.HiddenMode.Scale&&(i.hiddenMode=fe.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=fe.HiddenMode.Display)),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let n=this._box=ei.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let l=0,c=this._items.length;l<c;++l)n+=+!this._items[l].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ei.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l];d.isHidden||(d.widget.node.style.zIndex=`${l}`,d.update(s,r,o,a))}}};(function(t){function e(i){return i.layout||new jC}t.createLayout=e})(hD||(hD={}));(function(t){function e(s){return n[s]}t.orientationFromPlacement=e;function i(s){return r[s]}t.directionFromPlacement=i;let n={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(fD||(fD={}))});var mD=$(()=>{});var WC,Bb,tf,pD=$(()=>{i1();WC=P(Jn());Cs();Bb=class{constructor(e){this.trusted=!1,this._changed=new Ie(this),this._raw={};let i=tf.getData(e.value);this._data=new pp({values:i}),this._rawData=i;let n=e.value;for(let r in n)switch(r){case"data":break;default:this._raw[r]=tf.extract(n,r)}}get changed(){return this._changed}dispose(){this._data.dispose(),Ie.clearData(this)}get data(){return this._rawData}get metadata(){return{}}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),this._changed.emit(void 0)}toJSON(){let e={};for(let i in this._raw)e[i]=tf.extract(this._raw,i);return e}_updateObservable(e,i){let n=e.keys(),r=Object.keys(i);for(let s of n)r.indexOf(s)===-1&&e.delete(s);for(let s of r){let o=e.get(s),a=i[s];o!==a&&e.set(s,a)}}};(function(t){function e(i){return tf.getData(i)}t.getData=e})(Bb||(Bb={}));(function(t){function e(s){return r(s)}t.getData=e;function i(s){return{data:e(s.value)}}t.getBundleOptions=i;function n(s,o){let a=s[o];return a===void 0||WC.JSONExt.isPrimitive(a)?a:WC.JSONExt.deepCopy(a)}t.extract=n;function r(s){let o=Object.create(null);for(let a in s)o[a]=n(s,a);return o}})(tf||(tf={}))});function*rf(){}function $C(t,e){let i=0;for(let n of t)if(e(n,i++))return n}function _D(t,e){let i=0;for(let n of t)if(e(n,i++)===!1)return!1;return!0}function vD(t,e){let i=0;for(let n of t)if(e(n,i++))return!0;return!1}function*bD(t){if(typeof t.retro=="function")yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}var je,gD,nf,qC=$(()=>{(function(t){function e(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(M[Q]===C)return Q}return-1}t.firstIndexOf=e;function i(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(M[Q]===C)return Q}return-1}t.lastIndexOf=i;function n(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(C(M[Q],Q))return Q}return-1}t.findFirstIndex=n;function r(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(C(M[Q],Q))return Q}return-1}t.findLastIndex=r;function s(M,C,x=0,w=-1){let E=n(M,C,x,w);return E!==-1?M[E]:void 0}t.findFirstValue=s;function o(M,C,x=-1,w=0){let E=r(M,C,x,w);return E!==-1?M[E]:void 0}t.findLastValue=o;function a(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)<0?(j=K+1,Q-=X+1):Q=X}return j}t.lowerBound=a;function l(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)>0?Q=X:(j=K+1,Q-=X+1)}return j}t.upperBound=l;function c(M,C,x){if(M===C)return!0;if(M.length!==C.length)return!1;for(let w=0,E=M.length;w<E;++w)if(x?!x(M[w],C[w]):M[w]!==C[w])return!1;return!0}t.shallowEqual=c;function d(M,C={}){let{start:x,stop:w,step:E}=C;if(E===void 0&&(E=1),E===0)throw new Error("Slice `step` cannot be zero.");let O=M.length;x===void 0?x=E<0?O-1:0:x<0?x=Math.max(x+O,E<0?-1:0):x>=O&&(x=E<0?O-1:O),w===void 0?w=E<0?-1:O:w<0?w=Math.max(w+O,E<0?-1:0):w>=O&&(w=E<0?O-1:O);let j;E<0&&w>=x||E>0&&x>=w?j=0:E<0?j=Math.floor((w-x+1)/E+1):j=Math.floor((w-x-1)/E+1);let Q=[];for(let X=0;X<j;++X)Q[X]=M[x+X*E];return Q}t.slice=d;function u(M,C,x){let w=M.length;if(w<=1||(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1),C===x))return;let E=M[C],O=C<x?1:-1;for(let j=C;j!==x;j+=O)M[j]=M[j+O];M[x]=E}t.move=u;function f(M,C=0,x=-1){let w=M.length;if(!(w<=1))for(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1);C<x;){let E=M[C],O=M[x];M[C++]=O,M[x--]=E}}t.reverse=f;function h(M,C,x=0,w=-1){let E=M.length;if(E<=1||(x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1),x>=w))return;let O=w-x+1;if(C>0?C=C%O:C<0&&(C=(C%O+O)%O),C===0)return;let j=x+C;f(M,x,j-1),f(M,j,w),f(M,x,w)}t.rotate=h;function m(M,C,x=0,w=-1){let E=M.length;if(E===0)return;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j)M[(x+j)%E]=C}t.fill=m;function p(M,C,x){let w=M.length;C<0?C=Math.max(0,C+w):C=Math.min(C,w);for(let E=w;E>C;--E)M[E]=M[E-1];M[C]=x}t.insert=p;function _(M,C){let x=M.length;if(C<0&&(C+=x),C<0||C>=x)return;let w=M[C];for(let E=C+1;E<x;++E)M[E-1]=M[E];return M.length=x-1,w}t.removeAt=_;function y(M,C,x=0,w=-1){let E=e(M,C,x,w);return E!==-1&&_(M,E),E}t.removeFirstOf=y;function S(M,C,x=-1,w=0){let E=i(M,C,x,w);return E!==-1&&_(M,E),E}t.removeLastOf=S;function T(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&M[j]===C||w<x&&(j<=w||j>=x)&&M[j]===C?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllOf=T;function D(M,C,x=0,w=-1){let E,O=n(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeFirstWhere=D;function k(M,C,x=-1,w=0){let E,O=r(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeLastWhere=k;function b(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&C(M[j],j)||w<x&&(j<=w||j>=x)&&C(M[j],j)?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllWhere=b})(je||(je={}));(function(t){function e(i,n,r){return r===0?1/0:i>n&&r>0||i<n&&r<0?0:Math.ceil((n-i)/r)}t.rangeLength=e})(gD||(gD={}));(function(t){function e(o,a,l=0){let c=new Array(a.length);for(let d=0,u=l,f=a.length;d<f;++d,++u){if(u=o.indexOf(a[d],u),u===-1)return null;c[d]=u}return c}t.findIndices=e;function i(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0;for(let u=0,f=c.length;u<f;++u){let h=c[u]-l;d+=h*h}return{score:d,indices:c}}t.matchSumOfSquares=i;function n(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0,u=l-1;for(let f=0,h=c.length;f<h;++f){let m=c[f];d+=m-u-1,u=m}return{score:d,indices:c}}t.matchSumOfDeltas=n;function r(o,a,l){let c=[],d=0,u=0,f=a.length;for(;d<f;){let h=a[d],m=a[d];for(;++d<f&&a[d]===m+1;)m++;u<h&&c.push(o.slice(u,h)),h<m+1&&c.push(l(o.slice(h,m+1))),u=m+1}return u<o.length&&c.push(o.slice(u)),c}t.highlight=r;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})(nf||(nf={}))});var xD,ti,fd,md,mo,yD=$(()=>{(function(t){function e(i){let n=document.body,r=s=>{s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),n.removeEventListener("copy",r,!0)};n.addEventListener("copy",r,!0),document.execCommand("copy")}t.copyText=e})(xD||(xD={}));(function(t){function e(s){let o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,c=parseFloat(o.borderRightWidth)||0,d=parseFloat(o.borderBottomWidth)||0,u=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,h=parseFloat(o.paddingRight)||0,m=parseFloat(o.paddingBottom)||0,p=l+f+h+c,_=a+u+m+d;return{borderTop:a,borderLeft:l,borderRight:c,borderBottom:d,paddingTop:u,paddingLeft:f,paddingRight:h,paddingBottom:m,horizontalSum:p,verticalSum:_}}t.boxSizing=e;function i(s){let o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,c=parseFloat(o.maxWidth)||1/0,d=parseFloat(o.maxHeight)||1/0;return c=Math.max(a,c),d=Math.max(l,d),{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d}}t.sizeLimits=i;function n(s,o,a){let l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=n;function r(s,o){let a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=r})(ti||(ti={}));(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(fd||(fd={}));(function(t){function e(r){if(r in mo.specificityCache)return mo.specificityCache[r];let s=mo.calculateSingle(r);return mo.specificityCache[r]=s}t.calculateSpecificity=e;function i(r){if(r in mo.validityCache)return mo.validityCache[r];let s=!0;try{mo.testElem.querySelector(r)}catch{s=!1}return mo.validityCache[r]=s}t.isValid=i;function n(r,s){return mo.protoMatchFunc.call(r,s)}t.matches=n})(md||(md={}));(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(()=>{let d=Element.prototype;return d.matches||d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector||function(u){let f=this,h=f.ownerDocument?f.ownerDocument.querySelectorAll(u):[];return Array.prototype.indexOf.call(h,f)!==-1}})();function e(d){d=d.split(",",1)[0];let u=0,f=0,h=0;function m(p){let _=d.match(p);return _===null?!1:(d=d.slice(_[0].length),!0)}for(d=d.replace(c," $1 ");d.length>0;){if(m(i)){u++;continue}if(m(n)){f++;continue}if(m(r)){f++;continue}if(m(o)){h++;continue}if(m(a)){f++;continue}if(m(s)){h++;continue}if(!m(l))return 0}return u=Math.min(u,255),f=Math.min(f,255),h=Math.min(h,255),u<<16|f<<8|h}t.calculateSingle=e;let i=/^#[^\s\+>~#\.\[:]+/,n=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(mo||(mo={}))});var sf,Ja,wD=$(()=>{sf=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new Ja.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new Ja.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof Ja.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new Ja.LinkedListNode(this,e),r=i,s=r.prev;return n.next=r,n.prev=s,r.prev=n,s.next=n,this._size++,n}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof Ja.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new Ja.LinkedListNode(this,e),r=i,s=r.next;return n.next=s,n.prev=r,r.next=n,s.prev=n,this._size++,n}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Ja.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let n=new t;return n.assign(i),n}t.from=e})(sf||(sf={}));(function(t){class e{constructor(n,r){this.list=null,this.next=null,this.prev=null,this.list=n,this.value=r}}t.LinkedListNode=e})(Ja||(Ja={}))});var gr,ic,Oe,CD=$(()=>{qC();wD();gr=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ic=class extends gr{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(C=>x=>{let w=!1;return C.then(()=>!w&&x()),()=>{w=!0}})(Promise.resolve());function n(C,x){let w=f.get(C);if(!w||w.length===0){y(C,x);return}_D(bD(w),O=>O?_(O,C,x):!0)&&y(C,x)}t.sendMessage=n;function r(C,x){if(!x.isConflatable){S(C,x);return}vD(u,E=>E.handler!==C||!E.msg||E.msg.type!==x.type||!E.msg.isConflatable?!1:E.msg.conflate(x))||S(C,x)}t.postMessage=r;function s(C,x){let w=f.get(C);w&&w.indexOf(x)!==-1||(w?w.push(x):f.set(C,[x]))}t.installMessageHook=s;function o(C,x){let w=f.get(C);if(!w)return;let E=w.indexOf(x);E!==-1&&(w[E]=null,D(w))}t.removeMessageHook=o;function a(C){let x=f.get(C);x&&x.length>0&&(je.fill(x,null),D(x));for(let w of u)w.handler===C&&(w.handler=null,w.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,T(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function d(C){let x=m;return m=C,x}t.setExceptionHandler=d;let u=new sf,f=new WeakMap,h=new Set,m=C=>{console.error(C)},p=!1;function _(C,x,w){let E=!0;try{typeof C=="function"?E=C(x,w):E=C.messageHook(x,w)}catch(O){m(O)}return E}function y(C,x){try{C.processMessage(x)}catch(w){m(w)}}function S(C,x){u.addLast({handler:C,msg:x}),e===null&&(e=i(T))}function T(){if(e=null,u.isEmpty)return;let C={handler:null,msg:null};for(u.addLast(C);;){let x=u.removeFirst();if(x===C)return;x.handler&&x.msg&&n(x.handler,x.msg)}}function D(C){h.size===0&&i(k),h.add(C)}function k(){h.forEach(b),h.clear()}function b(C){je.removeAllWhere(C,M)}function M(C){return C===null}})(Oe||(Oe={}))});var tl,Jo,ts,qp,pe,jb,Qo,gd,of,af,Up,Vp,po,Qa,UC,Hb,Fb,VC,_d,GC,Gp,YC,is,pd,Wb,KC,lf,Za,Zo,_r,SD,WU,nc,Bs,XC,Ji,vd,Fi,el,gn,cf,$b,ED,MD,JC,ID,TD,RD=$(()=>{qC();tl=P(Jn());yD();CD();fp();Cs();mv();gv();_v();fv();pv();Jo=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,d=0,u=0,f=0;for(let p=0;p<a;++p){let _=s[p],y=_.minSize,S=_.maxSize,T=_.sizeHint;_.done=!1,_.size=Math.max(y,Math.min(T,S)),d+=_.size,l+=y,c+=S,_.stretch>0&&(u+=_.stretch,f++)}if(o===d)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<d){let p=d-o;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size-D<=T.minSize?(p-=T.size-T.minSize,u-=T.stretch,T.size=T.minSize,T.done=!0,m--,f--):(p-=D,T.size-=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size-_<=S.minSize?(p-=S.size-S.minSize,S.size=S.minSize,S.done=!0,m--):(p-=_,S.size-=_))}}}else{let p=o-d;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size+D>=T.maxSize?(p-=T.maxSize-T.size,u-=T.stretch,T.size=T.maxSize,T.done=!0,m--,f--):(p-=D,T.size+=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size+_>=S.maxSize?(p-=S.maxSize-S.size,S.size=S.maxSize,S.done=!0,m--):(p-=_,S.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?n(s,o,a):r(s,o,-a))}t.adjust=i;function n(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.maxSize-h.size;m>=d?(h.sizeHint=h.size+d,d=0):(h.sizeHint=h.size+m,d-=m)}let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.size-m.minSize;p>=u?(m.sizeHint=m.size-u,u=0):(m.sizeHint=m.size-p,u-=p)}}function r(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.maxSize-m.size;p>=d?(m.sizeHint=m.size+d,d=0):(m.sizeHint=m.size+p,d-=p)}let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.size-h.minSize;m>=u?(h.sizeHint=h.size-u,u=0):(h.sizeHint=h.size-m,u-=m)}}})(ts||(ts={}));qp=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Ie(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ie.clearData(this))}},pe=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Ie(this),this._hiddenMode=pe.HiddenMode.Display,this.node=jb.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(pe.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&pe.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Ie.clearData(this),Oe.clearData(this),mt.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(pe.Flag.IsDisposed)}get isAttached(){return this.testFlag(pe.Flag.IsAttached)}get isHidden(){return this.testFlag(pe.Flag.IsHidden)}get isVisible(){return this.testFlag(pe.Flag.IsVisible)}get title(){return jb.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==pe.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new pe.ChildMessage("child-removed",this);Oe.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new pe.ChildMessage("child-added",this);Oe.sendMessage(this._parent,i)}this.isDisposed||Oe.sendMessage(this,pe.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(pe.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Oe.postMessage(this,pe.Msg.UpdateRequest)}fit(){Oe.postMessage(this,pe.Msg.FitRequest)}activate(){Oe.postMessage(this,pe.Msg.ActivateRequest)}close(){Oe.sendMessage(this,pe.Msg.CloseRequest)}show(){if(this.testFlag(pe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,pe.Msg.BeforeShow),this.clearFlag(pe.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,pe.Msg.AfterShow),this.parent)){let e=new pe.ChildMessage("child-shown",this);Oe.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(pe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,pe.Msg.BeforeHide),this.setFlag(pe.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,pe.Msg.AfterHide),this.parent)){let e=new pe.ChildMessage("child-hidden",this);Oe.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(pe.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(pe.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(pe.Flag.IsVisible),this.setFlag(pe.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(pe.Flag.IsVisible),this.clearFlag(pe.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&pe.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case pe.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case pe.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case pe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case pe.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case pe.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case pe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new gr("before-show"),s.AfterShow=new gr("after-show"),s.BeforeHide=new gr("before-hide"),s.AfterHide=new gr("after-hide"),s.BeforeAttach=new gr("before-attach"),s.AfterAttach=new gr("after-attach"),s.BeforeDetach=new gr("before-detach"),s.AfterDetach=new gr("after-detach"),s.ParentChanged=new gr("parent-changed"),s.UpdateRequest=new ic("update-request"),s.FitRequest=new ic("fit-request"),s.ActivateRequest=new ic("activate-request"),s.CloseRequest=new ic("close-request")}(t.Msg||(t.Msg={}));class e extends gr{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends gr{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function n(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Oe.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),Oe.sendMessage(s,t.Msg.AfterAttach)}t.attach=n;function r(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Oe.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Oe.sendMessage(s,t.Msg.AfterDetach)}t.detach=r})(pe||(pe={}));(function(t){t.titleProperty=new mt({name:"title",create:i=>new qp({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(jb||(jb={}));Qo=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Ie.clearData(this),mt.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)Oe.sendMessage(i,pe.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)Oe.sendMessage(i,pe.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)Oe.sendMessage(i,e)}onAfterAttach(e){for(let i of this)Oe.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)Oe.sendMessage(i,e)}onAfterDetach(e){for(let i of this)Oe.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return of.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){of.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function n(s){return of.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=n;function r(s,o){of.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=r})(Qo||(Qo={}));gd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ti.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,n,r){let s=Math.max(this._minWidth,Math.min(n,this._maxWidth)),o=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(s<n)switch(Qo.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-s)/2;break;case"right":e+=n-s;break;default:throw"unreachable"}if(o<r)switch(Qo.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(r-o)/2;break;case"bottom":i+=r-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new pe.ResizeMessage(s,o);Oe.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new mt({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new mt({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(of||(of={}));af=class extends Qo{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let n=this._widgets.indexOf(i),r=Math.max(0,Math.min(e,this._widgets.length));if(n===-1){je.insert(this._widgets,r,i),this.parent&&this.attachWidget(r,i);return}r===this._widgets.length&&r--,n!==r&&(je.move(this._widgets,n,r),this.parent&&this.moveWidget(n,r,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=je.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let n=this.parent.node.children[e];this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,n),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterAttach)}moveWidget(e,i,n){this.parent.isAttached&&Oe.sendMessage(n,pe.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&Oe.sendMessage(n,pe.Msg.AfterDetach);let r=this.parent.node.children[i];this.parent.isAttached&&Oe.sendMessage(n,pe.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,r),this.parent.isAttached&&Oe.sendMessage(n,pe.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(Up||(Up={}));Vp=Up,po=class extends af{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Up.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Up.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Qa.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let n=this._sizers.length,r=e.slice(0,n);for(;r.length<n;)r.push(0);let s=Qa.normalize(r);for(let o=0;o<n;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let n=this._handles[e];if(!n||n.classList.contains("lm-mod-hidden"))return;let r;if(this._orientation==="horizontal"?r=i-n.offsetLeft:r=i-n.offsetTop,r!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);ts.adjust(this._sizers,e,r),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let n=new gd(i),r=Qa.createHandle(this.renderer),s=Qa.averageSize(this._sizers),o=Qa.createSizer(s);je.insert(this._items,e,n),je.insert(this._sizers,e,o),je.insert(this._handles,e,r),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(r),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){je.move(this._items,e,i),je.move(this._sizers,e,i),je.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let n=je.removeAt(this._items,e),r=je.removeAt(this._handles,e);je.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(r),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,n,r,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(n+=this.widgetOffset,l.update(n,r,a,s),n+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(r+=this.widgetOffset,l.update(n,r,o,a),r+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let n=this._orientation==="horizontal",r=n?this._fixed:0,s=n?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l],u=this._sizers[l];if(u.size>0&&(u.sizeHint=u.size),d.isHidden){u.minSize=0,u.maxSize=0;continue}d.fit(),u.stretch=po.getStretch(d.widget),n?(u.minSize=d.minWidth,u.maxSize=d.maxWidth,r+=d.minWidth,s=Math.max(s,d.minHeight)):(u.minSize=d.minHeight,u.maxSize=d.maxHeight,s+=d.minHeight,r=Math.max(r,d.minWidth))}let o=this._box=ti.boxSizing(this.parent.node);r+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${r}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ti.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,d=this._orientation==="horizontal";if(n>0){let u;if(d?u=Math.max(0,o-this._fixed):u=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=u;this._hasNormedSizes=!1}let f=ts.calc(this._sizers,u);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/n,c=0;break;default:throw"unreachable"}}for(let u=0,f=this._items.length;u<f;++u){let m=this._items[u].isHidden?0:this._sizers[u].size+l;this.updateItemPosition(u,d,d?s+c:s,d?r:r+c,a,o,m);let p=this.widgetOffset+(this._handles[u].classList.contains("lm-mod-hidden")?0:this._spacing);d?s+=m+p:r+=m+p}}};(function(t){function e(n){return Qa.stretchProperty.get(n)}t.getStretch=e;function i(n,r){Qa.stretchProperty.set(n,r)}t.setStretch=i})(po||(po={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new Jo;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function n(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=n;function r(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,d)=>c+Math.abs(d),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=r;function s(o){o.parent&&o.parent.layout instanceof po&&o.parent.fit()}})(Qa||(Qa={}));UC=class extends po{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Vp.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let n=this._titles[e],r=n.classList.contains("lm-mod-expanded"),s=Hb.createTitle(this.renderer,i.title,r);this._titles[e]=s,this.parent.node.replaceChild(s,n)}insertWidget(e,i){i.id||(i.id=`id-${tl.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let n=Hb.createTitle(this.renderer,i.title);je.insert(this._titles,e,n),this.parent.node.appendChild(n),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",n.id),super.attachWidget(e,i)}moveWidget(e,i,n){je.move(this._titles,e,i),super.moveWidget(e,i,n)}detachWidget(e,i){let n=je.removeAt(this._titles,e);this.parent.node.removeChild(n),super.detachWidget(e,i)}updateItemPosition(e,i,n,r,s,o,a){let l=this._titles[e].style;l.top=`${r}px`,l.left=`${n}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,n,r,s,o,a)}};(function(t){function e(i,n,r=!0){let s=i.createSectionTitle(n);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${n.label} Section`),s.setAttribute("aria-expanded",r?"true":"false"),s.setAttribute("aria-controls",n.owner.id),r&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(Hb||(Hb={}));Fb=class extends pe{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=VC.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new af}t.createLayout=e})(VC||(VC={}));_d=class extends Fb{constructor(e={}){super({layout:GC.createLayout(e)}),this._handleMoved=new Ie(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=je.findFirstIndex(i.handles,c=>c.contains(e.target));if(n===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let r,s=i.handles[n],o=s.getBoundingClientRect();i.orientation==="horizontal"?r=e.clientX-o.left:r=e.clientY-o.top;let a=window.getComputedStyle(s),l=tn.overrideCursor(a.cursor);this._pressData={index:n,delta:r,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,n=this.layout,r=this.node.getBoundingClientRect();n.orientation==="horizontal"?i=e.clientX-r.left-this._pressData.delta:i=e.clientY-r.top-this._pressData.delta,n.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(r){return po.getStretch(r)}t.getStretch=i;function n(r,s){po.setStretch(r,s)}t.setStretch=n})(_d||(_d={}));(function(t){function e(i){return i.layout||new po({renderer:i.renderer||_d.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(GC||(GC={}));Gp=class extends _d{constructor(e={}){super({...e,layout:YC.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Ie(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=je.findFirstIndex(this.widgets,n=>n.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,n=i.widgets[e];if(!n)return;let r=n.isHidden,s=i.absoluteSizes(),o=(r?-1:1)*this.spacing,a=s.reduce((c,d)=>c+d),l=[...s];if(r){let c=this._widgetSizesCache.get(n);if(!c)return;l[e]+=c;let d=l.map(u=>u-c>0).lastIndexOf(!0);d===-1?l.forEach((u,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[d]-=c-o}else{let c=s[e];this._widgetSizesCache.set(n,c),l[e]=0;let d=l.map(u=>u>0).lastIndexOf(!0);if(d===-1)return;l[d]=s[d]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let n=je.findFirstIndex(this.titles,r=>r.contains(i));n>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(n))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,n=!1;if(i){let r=je.findFirstIndex(this.titles,s=>s.contains(i));if(r>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),n=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(r+a+o)%a;this.titles[l].focus(),n=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),n=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],n=this.layout.widgets[e],r=this._computeWidgetSize(e);r&&this.setRelativeSizes(r,!1),n.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),n.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),n.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends _d.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(n){return document.createElement("span")}createSectionTitle(n){let r=document.createElement("h3");r.setAttribute("tabindex","0"),r.id=this.createTitleKey(n),r.className=this.titleClassName;for(let a in n.dataset)r.dataset[a]=n.dataset[a];let s=r.appendChild(this.createCollapseIcon(n));s.className="lm-AccordionPanel-titleCollapser";let o=r.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=n.label,o.title=n.caption||n.label,r}createTitleKey(n){let r=this._titleKeys.get(n);return r===void 0&&(r=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(n,r)),r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(Gp||(Gp={}));(function(t){function e(i){return i.layout||new UC({renderer:i.renderer||Gp.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(YC||(YC={}));is=class extends af{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Vp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Vp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){je.insert(this._items,e,new gd(i)),je.insert(this._sizers,e,new Jo),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){je.move(this._items,e,i),je.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let n=je.removeAt(this._items,e);je.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=pd.isHorizontal(this._direction),n=i?this._fixed:0,r=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],d=this._sizers[a];if(c.isHidden){d.minSize=0,d.maxSize=0;continue}c.fit(),d.sizeHint=is.getSizeBasis(c.widget),d.stretch=is.getStretch(c.widget),i?(d.minSize=c.minWidth,d.maxSize=c.maxWidth,n+=c.minWidth,r=Math.max(r,c.minHeight)):(d.minSize=c.minHeight,d.maxSize=c.maxHeight,r+=c.minHeight,n=Math.max(n,c.minWidth))}let s=this._box=ti.boxSizing(this.parent.node);n+=s.horizontalSum,r+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${n}px`,o.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ti.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=ts.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=ts.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=ts.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=ts.calc(this._sizers,Math.max(0,a-this._fixed)),r+=a;break;default:throw"unreachable"}let c=0,d=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,d=l/2;break;case"end":c=0,d=l;break;case"justify":c=l/n,d=0;break;default:throw"unreachable"}for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=this._sizers[u].size;switch(this._direction){case"left-to-right":h.update(s+d,r,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,r+d,o,m+c),r+=m+c+this._spacing;break;case"right-to-left":h.update(s-d-m-c,r,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,r-d-m-c,o,m+c),r-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return pd.stretchProperty.get(s)}t.getStretch=e;function i(s,o){pd.stretchProperty.set(s,o)}t.setStretch=i;function n(s){return pd.sizeBasisProperty.get(s)}t.getSizeBasis=n;function r(s,o){pd.sizeBasisProperty.set(s,o)}t.setSizeBasis=r})(is||(is={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n}),t.sizeBasisProperty=new mt({name:"sizeBasis",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n});function e(r){return r==="left-to-right"||r==="right-to-left"}t.isHorizontal=e;function i(r){return Math.max(0,Math.floor(r))}t.clampSpacing=i;function n(r){r.parent&&r.parent.layout instanceof is&&r.parent.fit()}})(pd||(pd={}));Wb=class extends Fb{constructor(e={}){super({layout:KC.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return is.getStretch(s)}t.getStretch=e;function i(s,o){is.setStretch(s,o)}t.setStretch=i;function n(s){return is.getSizeBasis(s)}t.getSizeBasis=n;function r(s,o){is.setSizeBasis(s,o)}t.setSizeBasis=r})(Wb||(Wb={}));(function(t){function e(i){return i.layout||new is(i)}t.createLayout=e})(KC||(KC={}));lf=class extends pe{constructor(e){super({node:Za.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(pe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||lf.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=Za.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(n=>Za.createItem(this.commands,n));return i.forEach(n=>this._items.push(n)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){je.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,n=this.contentNode,r=this._results;if(r||(r=this._results=Za.search(this._items,i),this._activeIndex=i?je.findFirstIndex(r,Za.canActivate):-1),!i&&r.length===0){Zt.render(null,n);return}if(i&&r.length===0){let l=this.renderer.renderEmptyMessage({query:i});Zt.render(l,n);return}let s=this.renderer,o=this._activeIndex,a=new Array(r.length);for(let l=0,c=r.length;l<c;++l){let d=r[l];if(d.type==="header"){let u=d.indices,f=d.category;a[l]=s.renderHeader({category:f,indices:u})}else{let u=d.item,f=d.indices,h=l===o;a[l]=s.renderItem({item:u,indices:f,active:h})}}if(Zt.render(a,n),o<0||o>=r.length)n.scrollTop=0;else{let l=n.children[o];ti.scrollIntoViewIfNeeded(n,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=je.findFirstIndex(this.contentNode.children,n=>n.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<i-1?e+1:0,r=n===0?i-1:n-1;this._activeIndex=je.findFirstIndex(this._results,Za.canActivate,n,r),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<=0?i-1:e-1,r=n===i-1?0:n+1;this._activeIndex=je.findLastIndex(this._results,Za.canActivate,n,r),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let n=this.inputNode;n.value=`${i.category.toLowerCase()} `,n.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(n){let r=this.formatHeader(n);return Se.li({className:"lm-CommandPalette-header"},r)}renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n);return n.item.isToggleable?Se.li({className:r,dataset:s,role:"menuitemcheckbox","aria-checked":`${n.item.isToggled}`},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n)):Se.li({className:r,dataset:s,role:"menuitem"},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n))}renderEmptyMessage(n){let r=this.formatEmptyMessage(n);return Se.li({className:"lm-CommandPalette-emptyMessage"},r)}renderItemIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderItemContent(n){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(n),this.renderItemCaption(n))}renderItemLabel(n){let r=this.formatItemLabel(n);return Se.div({className:"lm-CommandPalette-itemLabel"},r)}renderItemCaption(n){let r=this.formatItemCaption(n);return Se.div({className:"lm-CommandPalette-itemCaption"},r)}renderItemShortcut(n){let r=this.formatItemShortcut(n);return Se.div({className:"lm-CommandPalette-itemShortcut"},r)}createItemClass(n){let r="lm-CommandPalette-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.active&&(r+=" lm-mod-active");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){return{...n.item.dataset,command:n.item.command}}createIconClass(n){let r="lm-CommandPalette-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}formatHeader(n){return!n.indices||n.indices.length===0?n.category:nf.highlight(n.category,n.indices,Se.mark)}formatEmptyMessage(n){return`No commands found that match '${n.query}'`}formatItemShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}formatItemLabel(n){return!n.indices||n.indices.length===0?n.item.label:nf.highlight(n.item.label,n.indices,Se.mark)}formatItemCaption(n){return n.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(lf||(lf={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),y=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",y.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(y),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new u(f,h)}t.createItem=i;function n(f,h){let m=a(f,h);return m.sort(c),d(m)}t.search=n;function r(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=r;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let y=f[p];if(!y.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:y});continue}let S=l(y,h);S&&(y.isEnabled||(S.score+=1e3),m.push(S))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,y=1/0,S=null,T=/\b\w/g;for(;;){let C=T.exec(_);if(!C)break;let x=nf.matchSumOfDeltas(_,h,C.index);if(!x)break;x.score<=y&&(y=x.score,S=x.indices)}if(!S||y===1/0)return null;let D=m.length+1,k=je.lowerBound(S,D,(C,x)=>C-x),b=S.slice(0,k),M=S.slice(k);for(let C=0,x=M.length;C<x;++C)M[C]-=D;return b.length===0?{matchType:0,categoryIndices:null,labelIndices:M,score:y,item:f}:M.length===0?{matchType:1,categoryIndices:b,labelIndices:null,score:y,item:f}:{matchType:2,categoryIndices:b,labelIndices:M,score:y,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,y=0;switch(f.matchType){case 0:_=f.labelIndices[0],y=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],y=h.categoryIndices[0];break}if(_!==y)return _-y;let S=f.item.category.localeCompare(h.item.category);if(S!==0)return S;let T=f.item.rank,D=h.item.rank;return T!==D?T<D?-1:1:f.item.label.localeCompare(h.item.label)}function d(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:y,labelIndices:S}=f[m],T=_.category;(m===0||T!==f[m-1].item.category)&&h.push({type:"header",category:T,indices:y}),h.push({type:"item",item:_,indices:S})}return h}class u{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||tl.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return je.findLastValue(this._commands.keyBindings,p=>p.command===h&&tl.JSONExt.deepEqual(p.args,m))||null}}})(Za||(Za={}));Zo=class extends pe{constructor(e){super({node:_r.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Ie(this),this._menuRequested=new Ie(this),this.addClass("lm-Menu"),this.setFlag(pe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Zo.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!_r.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,n=i<e-1?i+1:0,r=n===0?e-1:n-1;this.activeIndex=je.findFirstIndex(this._items,_r.canActivate,n,r)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,n=i<=0?e-1:i-1,r=n===e-1?0:n+1;this.activeIndex=je.findLastIndex(this._items,_r.canActivate,n,r)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:n}=e;this.commands.isEnabled(i,n)?this.commands.execute(i,n):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let n=Math.max(0,Math.min(e,this._items.length)),r=_r.createItem(this,i);return je.insert(this._items,n,r),this.update(),r}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,je.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,n={}){var r,s;if(this.isAttached)return;let o=n.forceX||!1,a=n.forceY||!1,l=(r=n.host)!==null&&r!==void 0?r:null,c=(s=n.ref)!==null&&s!==void 0?s:null;_r.openRootMenu(this,e,i,o,a,l,c),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,n=this.renderer,r=this._activeIndex,s=_r.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],d=a===r,u=s[a];o[a]=n.renderItem({item:c,active:d,collapsed:u,onfocus:()=>{this.activeIndex=a}})}Zt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=_r.findMnemonic(this._items,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=je.findFirstIndex(this.contentNode.children,r=>ti.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let n=this.activeItem;!n||n.type!=="submenu"||!n.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:n}=e;if(ti.hitTest(this._childMenu.node,i,n)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(_r.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let n=i.submenu;if(n===this._childMenu)return;Zo.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,Oe.sendMessage(this,pe.Msg.UpdateRequest);let r=this.contentNode.children[this._activeIndex];_r.openSubmenu(n,r),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},_r.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},_r.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){_r.saveWindowData()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,tabindex:"0",onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n),this.renderShortcut(n),this.renderSubmenu(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-Menu-itemLabel"},r)}renderShortcut(n){let r=this.formatShortcut(n);return Se.div({className:"lm-Menu-itemShortcut"},r)}renderSubmenu(n){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(n){let r="lm-Menu-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.item.isVisible||(r+=" lm-mod-hidden"),n.active&&(r+=" lm-mod-active"),n.collapsed&&(r+=" lm-mod-collapsed");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){let r,{type:s,command:o,dataset:a}=n.item;return s==="command"?r={...a,type:s,command:o}:r={...a,type:s},r}createIconClass(n){let r="lm-Menu-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}createItemARIA(n){let r={};switch(n.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",n.item.isEnabled||(r["aria-disabled"]="true");break;default:n.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r}formatLabel(n){let{label:r,mnemonic:s}=n.item;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Zo||(Zo={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function n(){return i>0?(i--,e):d()}function r(){e=d(),i++}t.saveWindowData=r;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,y){for(let S=p;S;S=S.childMenu)if(ti.hitTest(S.node,_,y))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);je.fill(_,!1);let y=0,S=p.length;for(;y<S;++y){let k=p[y];if(k.isVisible){if(k.type!=="separator")break;_[y]=!0}}let T=S-1;for(;T>=0;--T){let k=p[T];if(k.isVisible){if(k.type!=="separator")break;_[T]=!0}}let D=!1;for(;++y<T;){let k=p[y];k.isVisible&&(k.type!=="separator"?D=!1:D?_[y]=!0:D=!0)}return _}t.computeCollapsed=c;function d(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function u(p,_,y,S,T,D,k){let b=n(),M=b.pageXOffset,C=b.pageYOffset,x=b.clientWidth,w=b.clientHeight;Oe.sendMessage(p,pe.Msg.UpdateRequest);let E=w-(T?y:0),O=p.node,j=O.style;j.opacity="0",j.maxHeight=`${E}px`,pe.attach(p,D||document.body,k);let{width:Q,height:X}=O.getBoundingClientRect();!S&&_+Q>M+x&&(_=M+x-Q),!T&&y+X>C+w&&(y>C+w?y=C+w-X:y=y-X),j.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,y)}px`,j.opacity="1"}t.openRootMenu=u;function f(p,_){let y=n(),S=y.pageXOffset,T=y.pageYOffset,D=y.clientWidth,k=y.clientHeight;Oe.sendMessage(p,pe.Msg.UpdateRequest);let b=k,M=p.node,C=M.style;C.opacity="0",C.maxHeight=`${b}px`,pe.attach(p,document.body);let{width:x,height:w}=M.getBoundingClientRect(),E=ti.boxSizing(p.node),O=_.getBoundingClientRect(),j=O.right-t.SUBMENU_OVERLAP;j+x>S+D&&(j=O.left+t.SUBMENU_OVERLAP-x);let Q=O.top-E.borderTop-E.paddingTop;Q+w>T+k&&(Q=O.bottom+E.borderBottom+E.paddingBottom-w),C.transform=`translate(${Math.max(0,j)}px, ${Math.max(0,Q)}px`,C.opacity="1"}t.openSubmenu=f;function h(p,_,y){let S=-1,T=-1,D=!1,k=_.toUpperCase();for(let b=0,M=p.length;b<M;++b){let C=(b+y)%M,x=p[C];if(!o(x))continue;let w=x.label;if(w.length===0)continue;let E=x.mnemonic;if(E>=0&&E<w.length){w[E].toUpperCase()===k&&(S===-1?S=C:D=!0);continue}T===-1&&w[0].toUpperCase()===k&&(T=C)}return{index:S,multiple:D,auto:T}}t.findMnemonic=h;class m{constructor(_,y){this._commands=_,this.type=y.type||"command",this.command=y.command||"",this.args=y.args||tl.JSONExt.emptyObject,this.submenu=y.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:y}=this;return je.findLastValue(this._commands.keyBindings,S=>S.command===_&&tl.JSONExt.deepEqual(S.args,y))||null}return null}}})(_r||(_r={}));(function(t){function e(o,a){let l=n(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let d=a.target;if(!d)return null;let u=a.currentTarget;if(!u||!u.contains(d)&&(d=document.elementFromPoint(a.clientX,a.clientY),!d||!u.contains(d)))return null;let f=[],h=o.slice();for(;d!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let y=h[p];y&&md.matches(d,y.selector)&&(m.push(y),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:r),f.push(...m)),d===u)break;d=d.parentElement}return l||f.sort(c?s:r),f}t.matchItems=i;function n(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!md.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function r(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=md.calculateSpecificity(o.selector),c=md.calculateSpecificity(a.selector);return l!==c?c-l:r(o,a)}})(SD||(SD={}));WU=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],nc=class extends pe{constructor(e={}){super({node:Bs.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Ie(this),this._currentChanged=new Ie(this),this._addRequested=new Ie(this),this._tabCloseRequested=new Ie(this),this._tabDetachRequested=new Ie(this),this._tabActivateRequested=new Ie(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(pe.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||nc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,n=this._titles[i]||null,r=e,s=this._titles[r]||null;this._currentIndex=r,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:r,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let n=Bs.asTitle(i),r=this._titles.indexOf(n),s=Math.max(0,Math.min(e,this._titles.length));return r===-1?(je.insert(this._titles,s,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,n),n):(s===this._titles.length&&s--,r===s||(je.move(this._titles,r,s),this.update(),this._adjustCurrentForMove(r,s)),n)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=je.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let n of this._titles)n.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let n=this._titles,r=this.renderer,s=this.currentTitle,o=new Array(n.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=n.length;l<c;++l){let d=n[l],u=d===s,f=u?c:c-l-1,h=a===l?0:-1;o[l]=r.renderTab({title:d,current:u,zIndex:f,tabIndex:h})}Zt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,n=je.findFirstIndex(i,o=>ti.hitTest(o,e.clientX,e.clientY));if(n===-1)return;let r=this.titles[n],s=i[n].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=r.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",d=>d.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",d=>{d.key==="Enter"?(l.value!==""&&(r.label=r.caption=l.value),c()):d.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,n,r;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=je.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(WU.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(n=s[o-1])!==null&&n!==void 0?n:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((r=s[o])===null||r===void 0||r.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,r=je.findFirstIndex(n,o=>ti.hitTest(o,e.clientX,e.clientY));if(r===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[r],index:r,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=n[r].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===r?this.currentIndex=-1:this.currentIndex=r,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let n=this.contentNode.children;if(!(!i.dragActive&&!Bs.dragExceeded(i,e))){if(!i.dragActive){let r=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=r.width,i.tabPressPos=i.pressX-r.left):(i.tabPos=i.tab.offsetTop,i.tabSize=r.height,i.tabPressPos=i.pressY-r.top),i.tabPressOffset={x:i.pressX-r.left,y:i.pressY-r.top},i.tabLayout=Bs.snapTabLayout(n,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=tn.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Bs.detachExceeded(i,e)){i.detachRequested=!0;let r=i.index,s=e.clientX,o=e.clientY,a=n[r],l=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Bs.layoutTabs(n,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=je.findFirstIndex(s,c=>ti.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Bs.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let n=Bs.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Bs.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let r=i.index,s=i.targetIndex;s===-1||r===s||(je.move(this._titles,r,s),this._adjustCurrentForMove(r,s),this._tabMoved.emit({fromIndex:r,toIndex:s,title:this._titles[s]}),Oe.sendMessage(this,pe.Msg.UpdateRequest))},n)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Bs.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let n=this.currentTitle,r=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&r===-1){this._currentIndex=e,this._previousTitle=n,this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:e,currentTitle:i});return}r>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let n=this._currentIndex,r=this.removeBehavior;if(n!==e){n>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(r==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(n){let r=n.title.caption,s=this.createTabKey(n),o=s,a=this.createTabStyle(n),l=this.createTabClass(n),c=this.createTabDataset(n),d=this.createTabARIA(n);return n.title.closable?Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n),this.renderCloseIcon(n)):Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let{title:r}=n,s=this.createIconClass(n);return Se.div({className:s},r.icon,r.iconLabel)}renderLabel(n){return Se.div({className:"lm-TabBar-tabLabel"},n.title.label)}renderCloseIcon(n){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(n){let r=this._tabKeys.get(n.title);return r===void 0&&(r=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(n.title,r)),r}createTabStyle(n){return{zIndex:`${n.zIndex}`}}createTabClass(n){let r="lm-TabBar-tab";return n.title.className&&(r+=` ${n.title.className}`),n.title.closable&&(r+=" lm-mod-closable"),n.current&&(r+=" lm-mod-current"),r}createTabDataset(n){return n.title.dataset}createTabARIA(n){var r;return{role:"tab","aria-selected":n.current.toString(),tabindex:`${(r=n.tabIndex)!==null&&r!==void 0?r:"-1"}`}}createIconClass(n){let r="lm-TabBar-tabIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(nc||(nc={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let d=document.createElement("div"),u=document.createElement("ul");u.setAttribute("role","tablist"),u.className="lm-TabBar-content",d.appendChild(u);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),d.appendChild(f),d}t.createNode=e;function i(d){return d instanceof qp?d:new qp(d)}t.asTitle=i;function n(d){let u=window.getComputedStyle(d);return 1e3*(parseFloat(u.transitionDuration)||0)}t.parseTransitionDuration=n;function r(d,u){let f=new Array(d.length);for(let h=0,m=d.length;h<m;++h){let p=d[h],_=window.getComputedStyle(p);u==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=r;function s(d,u){let f=Math.abs(u.clientX-d.pressX),h=Math.abs(u.clientY-d.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(d,u){let f=d.contentRect;return u.clientX<f.left-t.DETACH_THRESHOLD||u.clientX>=f.right+t.DETACH_THRESHOLD||u.clientY<f.top-t.DETACH_THRESHOLD||u.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(d,u,f,h){let m,p,_,y;h==="horizontal"?(m=u.pressX,p=f.clientX-u.contentRect.left,_=f.clientX,y=u.contentRect.width):(m=u.pressY,p=f.clientY-u.contentRect.top,_=f.clientY,y=u.contentRect.height);let S=u.index,T=p-u.tabPressPos,D=T+u.tabSize;for(let k=0,b=d.length;k<b;++k){let M,C=u.tabLayout[k],x=C.pos+(C.size>>1);if(k<u.index&&T<x)M=`${u.tabSize+u.tabLayout[k+1].margin}px`,S=Math.min(S,k);else if(k>u.index&&D>x)M=`${-u.tabSize-C.margin}px`,S=Math.max(S,k);else if(k===u.index){let w=_-m,E=y-(u.tabPos+u.tabSize);M=`${Math.max(-u.tabPos,Math.min(w,E))}px`}else M="";h==="horizontal"?d[k].style.left=M:d[k].style.top=M}u.targetIndex=S}t.layoutTabs=a;function l(d,u){let f;u==="horizontal"?f=d.contentRect.width:f=d.contentRect.height;let h;if(d.targetIndex===d.index)h=0;else if(d.targetIndex>d.index){let _=d.tabLayout[d.targetIndex];h=_.pos+_.size-d.tabSize-d.tabPos}else h=d.tabLayout[d.targetIndex].pos-d.tabPos;let m=f-(d.tabPos+d.tabSize),p=Math.max(-d.tabPos,Math.min(h,m));u==="horizontal"?d.tab.style.left=`${p}px`:d.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(d,u){for(let f of d)u==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Bs||(Bs={}));XC=class extends Qo{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Vp.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:pe.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let n of i.titles)n.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Vp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():rf()}widgets(){return this._root?this._root.iterUserWidgets():rf()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():rf()}tabBars(){return this._root?this._root.iterTabBars():rf()}handles(){return this._root?this._root.iterHandles():rf()}moveHandle(e,i,n){let r=e.classList.contains("lm-mod-hidden");if(!this._root||r)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=n-e.offsetTop,o!==0&&(s.node.holdSizes(),ts.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,n;e.main?n=Ji.normalizeAreaConfig(e.main,i):n=null;let r=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of r)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;n?this._root=Ji.realizeAreaConfig(n,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let n=i.ref||null,r=i.mode||"tab-after",s=null;if(this._root&&n&&(s=this._root.findTabNode(n)),n&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,r){case"tab-after":this._insertTab(e,n,s,!0);break;case"tab-before":this._insertTab(e,n,s,!1);break;case"split-top":this._insertSplit(e,n,s,"vertical",!1);break;case"split-left":this._insertSplit(e,n,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,n,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,n,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,n,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,n,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ti.boxSizing(this.parent.node));let n=this.parent.node.getBoundingClientRect(),r=e-n.left-this._box.borderLeft,s=i-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(r,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:d,height:u}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=n.width-f-(c+d),p=n.height-h-(l+u);return{tabBar:a,x:r,y:s,top:l,left:c,right:m,bottom:p,width:d,height:u}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new gd(e)),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Ji.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===pe.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=pe.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let n=i.parent;i.parent=null;let r=je.removeFirstOf(n.children,i),s=je.removeAt(n.handles,r);if(je.removeAt(n.sizers,r),s.parentNode&&s.parentNode.removeChild(s),n.children.length>1){n.syncHandles();return}let o=n.parent;n.parent=null;let a=n.children[0],l=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===n){a.parent=null,this._root=a;return}let c=o,d=c.children.indexOf(n);if(a instanceof Ji.TabLayoutNode){a.parent=c,c.children[d]=a;return}let u=je.removeAt(c.handles,d);je.removeAt(c.children,d),je.removeAt(c.sizers,d),u.parentNode&&u.parentNode.removeChild(u);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];je.insert(c.children,d+f,m),je.insert(c.handles,d+f,p),je.insert(c.sizers,d+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Ji.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Ji.addAria(e,i.tabBar),i}_insertTab(e,i,n,r){if(e===i)return;if(!this._root){let o=new Ji.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Ji.addAria(e,o.tabBar);return}n||(n=this._root.findFirstTabNode()),n.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=n.tabBar.titles.indexOf(i.title):s=n.tabBar.currentIndex,this._hiddenMode===pe.HiddenMode.Scale)if(n.tabBar.titles.length===0)e.hiddenMode=pe.HiddenMode.Display;else if(n.tabBar.titles.length==1){let o=n.tabBar.titles[0].owner;o.hiddenMode=pe.HiddenMode.Scale}else e.hiddenMode=pe.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;n.tabBar.insertTab(s+(r?1:0),e.title),Ji.addAria(e,n.tabBar)}_insertSplit(e,i,n,r,s,o=!1){if(e===i&&n&&n.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!n||!n.parent){let f=this._splitRoot(r),h=s?f.children.length:0;f.normalizeSizes();let m=Ji.createSizer(n?1:Ji.GOLDEN_RATIO),p=this._createTabNode(e);je.insert(f.children,h,p),je.insert(f.sizers,h,m),je.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=n.parent;if(a.orientation===r){let f=a.children.indexOf(n);if(o){let _=f+(s?1:-1),y=a.children[_];if(y instanceof Ji.TabLayoutNode){this._insertTab(e,null,y,!0),++y.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);je.insert(a.children,m,p),je.insert(a.sizers,m,Ji.createSizer(h)),je.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=je.removeFirstOf(a.children,n),c=new Ji.SplitLayoutNode(r);c.normalized=!0,c.children.push(n),c.sizers.push(Ji.createSizer(.5)),c.handles.push(this._createHandle()),n.parent=c;let d=s?1:0,u=this._createTabNode(e);je.insert(c.children,d,u),je.insert(c.sizers,d,Ji.createSizer(.5)),je.insert(c.handles,d,this._createHandle()),u.parent=c,c.syncHandles(),je.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Ji.SplitLayoutNode&&i.orientation===e)return i;let n=this._root=new Ji.SplitLayoutNode(e);return i&&(n.children.push(i),n.sizers.push(Ji.createSizer(0)),n.handles.push(this._createHandle()),i.parent=n),n}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let n=this._box=ti.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ti.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(n,r,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new Jo;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function n(f,h,m){let p;return f.type==="tab-area"?p=d(f,h,m):p=u(f,h,m),p}t.realizeAreaConfig=n;class r{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new Jo,p=new Jo;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,y=1/0,S=1/0,T=m.get(this.tabBar),D=this.tabBar.currentTitle,k=D?m.get(D.owner):void 0,[b,M]=this.sizers;return T&&T.fit(),k&&k.fit(),T&&!T.isHidden?(p=Math.max(p,T.minWidth),_+=T.minHeight,b.minSize=T.minHeight,b.maxSize=T.maxHeight):(b.minSize=0,b.maxSize=0),k&&!k.isHidden?(p=Math.max(p,k.minWidth),_+=k.minHeight,M.minSize=k.minHeight,M.maxSize=1/0):(M.minSize=0,M.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:y,maxHeight:S}}update(h,m,p,_,y,S){this._top=m,this._left=h,this._width=p,this._height=_;let T=S.get(this.tabBar),D=this.tabBar.currentTitle,k=D?S.get(D.owner):void 0;if(ts.calc(this.sizers,_),T&&!T.isHidden){let b=this.sizers[0].size;T.update(h,m,p,b),m+=b}if(k&&!k.isHidden){let b=this.sizers[1].size;k.update(h,m,p,b)}}}t.TabLayoutNode=r;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].findSplitNode(h);if(y)return y}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].hitTestTabNodes(h,m);if(y)return y}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,y)=>_+y,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,y=p?_:0,S=p?0:_,T=1/0,D=1/0;for(let k=0,b=this.children.length;k<b;++k){let M=this.children[k].fit(h,m);p?(S=Math.max(S,M.minHeight),y+=M.minWidth,this.sizers[k].minSize=M.minWidth):(y=Math.max(y,M.minWidth),S+=M.minHeight,this.sizers[k].minSize=M.minHeight)}return{minWidth:y,minHeight:S,maxWidth:T,maxHeight:D}}update(h,m,p,_,y,S){let T=this.orientation==="horizontal",D=Math.max(0,this.children.length-1)*y,k=Math.max(0,(T?p:_)-D);if(this.normalized){for(let b of this.sizers)b.sizeHint*=k;this.normalized=!1}ts.calc(this.sizers,k);for(let b=0,M=this.children.length;b<M;++b){let C=this.children[b],x=this.sizers[b].size,w=this.handles[b].style;T?(C.update(h,m,x,_,y,S),h+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${y}px`,w.height=`${_}px`,h+=y):(C.update(h,m,p,x,y,S),m+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${p}px`,w.height=`${y}px`,m+=y)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof nc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let y=0,S=f.children.length;y<S;++y){let T=i(f.children[y],h);T&&(T.type==="tab-area"||T.orientation!==m?(p.push(T),_.push(Math.abs(f.sizes[y]||0))):(p.push(...T.children),_.push(...T.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function d(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new r(p)}function u(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,y)=>{let S=n(_,h,m),T=e(f.sizes[y]),D=h.createHandle();p.children.push(S),p.handles.push(D),p.sizers.push(T),S.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Ji||(Ji={}));vd=class extends pe{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Ie(this),this._addRequested=new Ie(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||vd.defaultRenderer,this._edges=e.edges||Fi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new XC({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new vd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let n of i.tabBars())n.show();break;case"single-document":i.restoreLayout(Fi.createSingleDocumentConfig(this));break;default:throw"unreachable"}Oe.postMessage(this,Fi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=$C(this.tabBars(),n=>n.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(fd.IS_EDGE||fd.IS_IE)&&Oe.flush(),Oe.postMessage(this,Fi.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),Oe.postMessage(this,Fi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Fi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Fi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Oe.postMessage(this,Fi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:n}=e,{zone:r,target:s}=Fi.findDropTarget(this,i,n,this._edges);if(this._tabsConstrained&&e.source!==this||r==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof pe)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Fi.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Oe.postMessage(this,Fi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=e.target,r=$C(i.handles(),d=>d.contains(n));if(!r)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=r.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(r),c=tn.overrideCursor(l.cursor,this._document);this._pressData={handle:r,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),n=e.clientX-i.left-this._pressData.deltaX,r=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,r)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Oe.postMessage(this,Fi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:n,target:r}=Fi.findDropTarget(this,e,i,this._edges);if(n==="invalid")return this.overlay.hide(100),n;let s,o,a,l,c=ti.boxSizing(this.node),d=this.node.getBoundingClientRect();switch(n){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=d.height*Fi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=d.width*Fi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=d.width*Fi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=d.height*Fi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=r.top,o=r.left,a=r.right,l=r.bottom;break;case"widget-top":s=r.top,o=r.left,a=r.right,l=r.bottom+r.height/2;break;case"widget-left":s=r.top,o=r.left,a=r.right+r.width/2,l=r.bottom;break;case"widget-right":s=r.top,o=r.left+r.width/2,a=r.right,l=r.bottom;break;case"widget-bottom":s=r.top+r.height/2,o=r.left,a=r.right,l=r.bottom;break;case"widget-tab":{let u=r.tabBar.node.getBoundingClientRect().height;s=r.top,o=r.left,a=r.right,l=r.bottom+r.height-u;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),n}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Fi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Oe.postMessage(this,Fi.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:n,currentTitle:r}=i;n&&n.owner.hide(),r&&r.owner.show(),(fd.IS_EDGE||fd.IS_IE)&&Oe.flush(),Oe.postMessage(this,Fi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:n,tab:r,clientX:s,clientY:o,offset:a}=i,l=new tl.MimeData,c=()=>n.owner;l.setData("application/vnd.lumino.widget-factory",c);let d=r.cloneNode(!0);a&&(d.style.top=`-${a.y}px`,d.style.left=`-${a.x}px`),this._drag=new tn({document:this._document,mimeData:l,dragImage:d,proposedAction:"move",supportedActions:"move",source:this}),r.classList.add("lm-mod-hidden");let u=()=>{this._drag=null,r.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(u)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(r){let s=this.node.style;s.top=`${r.top}px`,s.left=`${r.left}px`,s.right=`${r.right}px`,s.bottom=`${r.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(r){if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},r))}}}t.Overlay=e;class i{createTabBar(r){let s=new nc({document:r});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let r=document.createElement("div");return r.className="lm-DockPanel-handle",r}}t.Renderer=i,t.defaultRenderer=new i})(vd||(vd={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ic("layout-modified"),t.isGeneratedTabBarProperty=new mt({name:"isGeneratedTabBar",create:()=>!1});function e(r){if(r.isEmpty)return{main:null};let s=Array.from(r.widgets()),o=r.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(r,s,o,a){if(!ti.hitTest(r.node,s,o))return{zone:"invalid",target:null};let l=r.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){let T=r.node.getBoundingClientRect(),D=s-T.left+1,k=o-T.top+1,b=T.right-s,M=T.bottom-o;switch(Math.min(k,b,M,D)){case k:if(k<a.top)return{zone:"root-top",target:null};break;case b:if(b<a.right)return{zone:"root-right",target:null};break;case M:if(M<a.bottom)return{zone:"root-bottom",target:null};break;case D:if(D<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:c};let d=c.x-c.left+1,u=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(u<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(d>p&&f>p&&u>_&&h>_)return{zone:"widget-all",target:c};d/=p,u/=_,f/=p,h/=_;let y=Math.min(d,u,f,h),S;switch(y){case d:S="widget-left";break;case u:S="widget-top";break;case f:S="widget-right";break;case h:S="widget-bottom";break;default:throw"unreachable"}return{zone:S,target:c}}t.findDropTarget=i;function n(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}t.getDropRef=n})(Fi||(Fi={}));el=class extends Qo{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new Jo],this._columnSizers=[new Jo],this._box=null,e.rowCount!==void 0&&gn.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&gn.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=gn.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=gn.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(gn.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(gn.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=gn.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=gn.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let n=this._rowSizers[e];n&&(i=gn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let n=this._columnSizers[e];n&&(i=gn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){je.findFirstIndex(this._items,n=>n.widget===e)===-1&&(this._items.push(new gd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=je.findFirstIndex(this._items,r=>r.widget===e);if(i===-1)return;let n=je.removeAt(this._items,i);this.parent&&this.detachWidget(e),n.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,n=this.columnCount-1;e.sort(gn.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=el.getCellConfig(d.widget),f=Math.min(u.row,i),h=Math.min(u.row+u.rowSpan-1,i);gn.distributeMin(this._rowSizers,f,h,d.minHeight)}e.sort(gn.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=el.getCellConfig(d.widget),f=Math.min(u.column,n),h=Math.min(u.column+u.columnSpan-1,n);gn.distributeMin(this._columnSizers,f,h,d.minWidth)}if(this.fitPolicy==="set-no-constraint"){Oe.sendMessage(this.parent,pe.Msg.UpdateRequest);return}let r=i*this._rowSpacing,s=n*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)r+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=ti.boxSizing(this.parent.node);s+=o.horizontalSum,r+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ti.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,d=l*this._columnSpacing;ts.calc(this._rowSizers,Math.max(0,o-c)),ts.calc(this._columnSizers,Math.max(0,s-d));for(let u=0,f=n,h=this.rowCount;u<h;++u)this._rowStarts[u]=f,f+=this._rowSizers[u].size+this._rowSpacing;for(let u=0,f=r,h=this.columnCount;u<h;++u)this._columnStarts[u]=f,f+=this._columnSizers[u].size+this._columnSpacing;for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=el.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),y=Math.min(m.row+m.rowSpan-1,a),S=Math.min(m.column+m.columnSpan-1,l),T=this._columnStarts[_],D=this._rowStarts[p],k=this._columnStarts[S]+this._columnSizers[S].size-T,b=this._rowStarts[y]+this._rowSizers[y].size-D;h.update(T,D,k,b)}}};(function(t){function e(n){return gn.cellConfigProperty.get(n)}t.getCellConfig=e;function i(n,r){gn.cellConfigProperty.set(n,gn.normalizeConfig(r))}t.setCellConfig=i})(el||(el={}));(function(t){t.cellConfigProperty=new mt({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),d=Math.max(0,Math.floor(l.column||0)),u=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:d,rowSpan:u,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function n(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.rowSpan-u.rowSpan}t.rowSpanCmp=n;function r(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.columnSpan-u.columnSpan}t.columnSpanCmp=r;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new Jo);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,d,u){if(d<c)return;if(c===d){let m=l[c];m.minSize=Math.max(m.minSize,u);return}let f=0;for(let m=c;m<=d;++m)f+=l[m].minSize;if(f>=u)return;let h=(u-f)/(d-c+1);for(let m=c;m<=d;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof el&&l.parent.fit()}})(gn||(gn={}));cf=class extends pe{constructor(e={}){super({node:$b.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(pe.Flag.DisallowLayout),this.renderer=e.renderer||cf.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,n=!0){this._closeChildMenu();let r=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(r===-1){je.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),n&&this.update();return}s===this._menus.length&&s--,r!==s&&(je.move(this._menus,r,s),n&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let n=je.removeAt(this._menus,e);n&&(n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let n=this._menus,r=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:n.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let d=new Array(a);for(let u=0;u<a;++u)d[u]=r.renderItem({title:n[u].title,active:u===s,tabbable:u===o,disabled:n[u].items.length===0,onfocus:()=>{this._tabFocusIndex=u,this.activeIndex=u}}),l+=this._menuItemSizes[u],n[u].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let u=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new Zo({commands:new Zn}),this._overflowMenu.title.label=u,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let u=n.length-2;u>=a;u--){let f=this.menus[u];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}d[a]=r.renderItem({title:this._overflowMenu.title,active:a===s&&n[a].items.length!==0,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let u=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=n.length-1-m;if(f-l>this._menuItemSizes[p]){let _=u[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),d[a]=r.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),d.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Zt.render(d,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,n=0,r=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];n+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),n>i&&r===-1&&(r=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(n+=this._menuItemSizes[o],n>i){r=o;break}this._overflowIndex=r}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let d=(l+a+o*c)%l;if(this._menus[d].items.length){this._focusItemAt(d);return}}return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=$b.findMnemonic(this._menus,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ti.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=je.findFirstIndex(this.contentNode.children,n=>ti.hitTest(n,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let n=this._positionForMenu(i);Zo.saveWindowData(),this.activeIndex=i,this._openChildMenu(n)}}_evtMouseMove(e){let i=je.findFirstIndex(this.contentNode.children,r=>ti.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let n=i>=0&&this._childMenu?this._positionForMenu(i):null;Zo.saveWindowData(),this.activeIndex=i,n&&this._openChildMenu(n)}_positionForMenu(e){let i=this.contentNode.children[e],{left:n,bottom:r}=i.getBoundingClientRect();return{top:r,left:n}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let n=this._childMenu;if(n===i)return;this._childMenu=i,n?n.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Oe.sendMessage(this,pe.Msg.UpdateRequest);let{left:r,top:s}=e;(typeof r>"u"||typeof s>"u")&&({left:r,top:s}=this._positionForMenu(this._activeIndex)),n||this.addClass("lm-mod-active"),i.items.length>0&&i.open(r,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let n=this._activeIndex,r=this._menus.length;switch(i){case"next":this.activeIndex=n===r-1?0:n+1;break;case"previous":this.activeIndex=n===0?r-1:n-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,...n.disabled?{}:{tabindex:n.tabbable?"0":"-1"},onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.title.icon,n.title.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-MenuBar-itemLabel"},r)}createItemClass(n){let r="lm-MenuBar-item";return n.title.className&&(r+=` ${n.title.className}`),n.active&&!n.disabled&&(r+=" lm-mod-active"),r}createItemDataset(n){return n.title.dataset}createItemARIA(n){return{role:"menuitem","aria-haspopup":"true","aria-disabled":n.disabled?"true":"false"}}createIconClass(n){let r="lm-MenuBar-itemIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}formatLabel(n){let{label:r,mnemonic:s}=n.title;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(cf||(cf={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",n.appendChild(r),r.setAttribute("role","menubar"),n}t.createNode=e;function i(n,r,s){let o=-1,a=-1,l=!1,c=r.toUpperCase();for(let d=0,u=n.length;d<u;++d){let f=(d+s)%u,h=n[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})($b||($b={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return r.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",r.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),n.appendChild(r),n.appendChild(o),n.appendChild(s),n}t.createNode=e;function i(n,r){return n.thumbNode.contains(r)?"thumb":n.trackNode.contains(r)?"track":n.decrementNode.contains(r)?"decrement":n.incrementNode.contains(r)?"increment":null}t.findPart=i})(ED||(ED={}));MD=class extends Qo{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,pe.Msg.AfterDetach)}},JC=class extends af{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:pe.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===pe.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=pe.HiddenMode.Scale),i.hiddenMode=pe.HiddenMode.Scale):i.hiddenMode=pe.HiddenMode.Display,je.insert(this._items,e,new gd(i)),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){je.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let n=je.removeAt(this._items,e);this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,pe.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===pe.HiddenMode.Scale&&(i.hiddenMode=pe.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=pe.HiddenMode.Display)),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let n=this._box=ti.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let l=0,c=this._items.length;l<c;++l)n+=+!this._items[l].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ti.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l];d.isHidden||(d.widget.node.style.zIndex=`${l}`,d.update(s,r,o,a))}}};(function(t){function e(i){return i.layout||new JC}t.createLayout=e})(ID||(ID={}));(function(t){function e(s){return n[s]}t.orientationFromPlacement=e;function i(s){return r[s]}t.directionFromPlacement=i;let n={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(TD||(TD={}))});var DD=Ve((she,OD)=>{var $U=1/0,qU="[object Symbol]",ND=/[&<>"'`]/g,UU=RegExp(ND.source),VU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},GU=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,YU=typeof self=="object"&&self&&self.Object===Object&&self,KU=GU||YU||Function("return this")();function XU(t){return function(e){return t?.[e]}}var JU=XU(VU),ZU=Object.prototype,QU=ZU.toString,AD=KU.Symbol,kD=AD?AD.prototype:void 0,LD=kD?kD.toString:void 0;function eV(t){if(typeof t=="string")return t;if(iV(t))return LD?LD.call(t):"";var e=t+"";return e=="0"&&1/t==-$U?"-0":e}function tV(t){return!!t&&typeof t=="object"}function iV(t){return typeof t=="symbol"||tV(t)&&QU.call(t)==qU}function nV(t){return t==null?"":eV(t)}function rV(t){return t=nV(t),t&&UU.test(t)?t.replace(ND,JU):t}OD.exports=rV});function PD(t){let e=[],i=null,n=null,r=null,s=0,o;t.includes("`")||t.includes("~~~")?(t=t.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,c=>c.replace(/\$/g,"~D")).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(d,u)=>u==="T"?"~":zD)):o=c=>c;let l=t.replace(/\r\n?/g,`
`).split(sV);for(let c=1,d=l.length;c<d;c+=2){let u=l[c];u.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(u)):i!==null?u===n?s?r=c:(l=ZC(i,c,o,e,l),i=null,n=null,r=null):u.match(/\n.*\n/)?(r!==null&&(c=r,l=ZC(i,c,o,e,l)),i=null,n=null,r=null,s=0):u==="{"?s++:u==="}"&&s&&s--:u===zD||u==="$$"?(i=c,n=u,s=0):u==="\\\\("||u==="\\\\["?(i=c,n=u.slice(-1)==="("?"\\\\)":"\\\\]",s=0):u.substr(1,5)==="begin"&&(i=c,n="\\end"+u.substr(6),s=0)}return i!==null&&r!==null&&(l=ZC(i,r,o,e,l),i=null,n=null,r=null),{text:o(l.join("")),math:e}}function BD(t,e){let i=(n,r)=>{let s=e[r];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return t.replace(/@@(\d+)@@/g,i)}function ZC(t,e,i,n,r){let s=r.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)r[e]="",e--;return r[t]="@@"+n.length+"@@",i&&(s=i(s)),n.push(s),r}var zD,sV,QC=$(()=>{zD="$",sV=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});function iS(t){let{host:e,source:i,trusted:n,sanitizer:r,resolver:s,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=t;c=c||ro;let d=c?.load("jupyterlab"),u=i;if(!i)return e.textContent="",Promise.resolve(void 0);if(n||(u=`${i}`,i=r.sanitize(i)),e.innerHTML=i,e.getElementsByTagName("script").length>0)if(n)ea.evalInnerHTMLScriptTags(e);else{let h=document.createElement("div"),m=document.createElement("pre");m.textContent=d.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let p=document.createElement("button");p.textContent=d.__("Run"),p.onclick=_=>{e.innerHTML=u,ea.evalInnerHTMLScriptTags(e),e.firstChild&&e.removeChild(e.firstChild)},h.appendChild(m),h.appendChild(p),e.insertBefore(h,e.firstChild)}ea.handleDefaults(e,s);let f;return s?f=ea.handleUrls(e,s,o):f=Promise.resolve(void 0),f.then(()=>{a&&l&&l.typeset(e)})}function WD(t){let{host:e,mimeType:i,source:n,width:r,height:s,needsBackground:o,unconfined:a}=t;e.textContent="";let l=document.createElement("img");return l.src=`data:${i};base64,${n}`,typeof s=="number"&&(l.height=s),typeof r=="number"&&(l.width=r),o==="light"?l.classList.add("jp-needs-light-background"):o==="dark"&&l.classList.add("jp-needs-dark-background"),a===!0&&l.classList.add("jp-mod-unconfined"),e.appendChild(l),Promise.resolve(void 0)}function $D(t){let{host:e,source:i,shouldTypeset:n,latexTypesetter:r}=t;return e.textContent=i,n&&r&&r.typeset(e),Promise.resolve(void 0)}async function Yp(t){let{host:e,source:i,markdownParser:n,...r}=t;if(!i){e.textContent="";return}let s="";if(n){let o=PD(i);s=await n.render(o.text),s=BD(s,o.math)}else s=`<pre>${i}</pre>`;await iS({host:e,source:s,...r}),ea.headerAnchors(e)}function qD(t){let{host:e,source:i,trusted:n,unconfined:r}=t;if(!i)return e.textContent="",Promise.resolve(void 0);if(!n)return e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);let s="<svg[^>]+xmlns=[^>]+svg";i.search(s)<0&&(i=i.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));let o=new Image;return o.src=`data:image/svg+xml,${encodeURIComponent(i)}`,e.appendChild(o),r===!0&&e.classList.add("jp-mod-unconfined"),Promise.resolve()}function UD(t,e){let i=[];e.checkWeb&&i.push(new eS),e.checkPaths&&i.push(new tS);let n=[],r=(s,o)=>{if(o>=i.length){n.push(document.createTextNode(s));return}let a=i[o],l,c=0,d=a.regex;for(d.lastIndex=0;(l=d.exec(s))!=null;){let f=s.substring(c,l.index);f&&r(f,o+1);let{path:h,...m}=l.groups,p=a.processPath?a.processPath(h):h,_=a.processLabel?a.processLabel(l[0]):l[0];n.push(a.createAnchor(p,_,m)),c=l.index+_.length}let u=s.substring(c);u&&r(u,o+1)};return r(t,0),n}function jD(t,e){var i,n;let r=t.cloneNode();r.textContent=(i=t.textContent)===null||i===void 0?void 0:i.slice(0,e);let s=t.cloneNode();return s.textContent=(n=t.textContent)===null||n===void 0?void 0:n.slice(e),{pre:r,post:s}}function*HD(t){var e;let i=0,n;for(let r of t)n=i+(((e=r.textContent)===null||e===void 0?void 0:e.length)||0),yield{node:r,start:i,end:n,isText:r.nodeType===Node.TEXT_NODE},i=n}function*oV(t,e){var i,n;let r=HD(t),s=HD(e),o=r.next(),a=s.next();for(;!o.done&&!a.done;){let l=o.value,c=a.value;if(l.isText&&l.start<=c.start&&l.end>=c.end)yield[null,c.node],a=s.next();else if(c.isText&&c.start<=l.start&&c.end>=l.end)yield[l.node,null],o=r.next();else if(l.end===c.end&&l.start===c.start)yield[l.node,c.node],o=r.next(),a=s.next();else if(l.end>c.end){let{pre:d,post:u}=jD(l.node,c.end-l.start);c.start<l.start&&(c.node.textContent=(i=c.node.textContent)===null||i===void 0?void 0:i.slice(l.start-c.start)),yield[d,c.node],l.node=u,l.start=c.end,a=s.next()}else if(c.end>l.end){let{pre:d,post:u}=jD(c.node,l.end-c.start);l.start<c.start&&(l.node.textContent=(n=l.node.textContent)===null||n===void 0?void 0:n.slice(c.start-l.start)),yield[l.node,d],c.node=u,c.start=l.end,o=r.next()}else throw new Error(`Unexpected intersection: ${JSON.stringify(l)} ${JSON.stringify(c)}`)}}function nS(t){var e,i;let{host:n,sanitizer:r,source:s}=t,o=r.sanitize(ea.ansiSpan(s),{allowedTags:["span"]}),a=document.createElement("pre");a.innerHTML=o;let l=a.textContent,c;if(l){let d=!((i=(e=r.getAutolink)===null||e===void 0?void 0:e.call(r))!==null&&i!==void 0)||i?UD(l,{checkWeb:!0,checkPaths:!1}):[document.createTextNode(o)],u=Array.from(a.childNodes);c=GD(u,d)}else c=document.createElement("pre");return n.appendChild(c),Promise.resolve(void 0)}function VD(t){var e,i;let{host:n,linkHandler:r,sanitizer:s,resolver:o,source:a}=t,l=s.sanitize(ea.ansiSpan(a),{allowedTags:["span"]}),c=document.createElement("pre");c.innerHTML=l;let d=c.textContent,u;if(d){let h=!((i=(e=s.getAutolink)===null||e===void 0?void 0:e.call(s))!==null&&i!==void 0)||i?UD(d,{checkWeb:!0,checkPaths:!0}):[document.createTextNode(l)],m=Array.from(c.childNodes);u=GD(m,h)}else u=document.createElement("pre");n.appendChild(u);let f;return o?f=ea.handlePaths(n,o,r):f=Promise.resolve(void 0),f}function GD(t,e){let i=document.createElement("pre"),n=!1,r=[];for(let s of oV(t,e)){if(s[0]){if(!s[1]){r.push(s[0]),n=!1;continue}}else{r.push(s[1]),n=s[1].nodeType!==Node.TEXT_NODE;continue}let[o,a]=s,l=r[r.length-1];n&&a.href===l.href?l.appendChild(o):a.nodeType!==Node.TEXT_NODE?(a.textContent="",a.appendChild(o),r.push(a),n=!0):(r.push(o),n=!1)}for(let s of r)i.appendChild(s);return i}var df,FD,qb,eS,tS,ea,rS=$(()=>{df=P(fk());mp();FD=P(DD());QC();(function(t){function e(i){var n;return((n=i.textContent)!==null&&n!==void 0?n:"").replace(/ /g,"-")}t.createHeaderId=e})(Yp||(Yp={}));(function(t){let e="\\u0000-\\u0020\\u007f-\\u009f";t.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+e+'"]{2,}[^\\s'+e+`"'(){}\\[\\],:;.!?])`,"ug");let i=/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/,n=/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/,r=new RegExp(`(${i.source}|${n.source})`),s=/((?:\~|\.)?(?:\/[\w\.-]*)+)/,o=/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/,a=navigator.userAgent.indexOf("Windows")>=0;t.pathLinkRegex=new RegExp(`(?<path>${a?r.source:s.source})${o.source}`,"g")})(qb||(qb={}));eS=class{constructor(){this.regex=qb.webLinkRegex}createAnchor(e,i){let n=document.createElement("a");return n.href=e.startsWith("www.")?"https://"+e:e,n.rel="noopener",n.target="_blank",n.appendChild(document.createTextNode(i)),n}processPath(e){let i=e.slice(-1),r=[">","<"].indexOf(i)!==-1?e.length-1:e.length;return e=e.slice(0,r),e}processLabel(e){return this.processPath(e)}},tS=class{constructor(){this.regex=qb.pathLinkRegex}createAnchor(e,i,n){let r=document.createElement("a");r.dataset.path=e;let s=parseInt(n.line,10),o=isNaN(s)?"":`line=${s-1}`;return r.dataset.locator=o,r.appendChild(document.createTextNode(i)),r}};(function(t){function e(h){let m=Array.from(h.getElementsByTagName("script"));for(let p of m){if(!p.parentNode)continue;let _=document.createElement("script"),y=p.attributes;for(let S=0,T=y.length;S<T;++S){let{name:D,value:k}=y[S];_.setAttribute(D,k)}_.textContent=p.textContent,p.parentNode.replaceChild(_,p)}}t.evalInnerHTMLScriptTags=e;function i(h,m){let p=h.getElementsByTagName("a");for(let y=0;y<p.length;y++){let S=p[y];if(!(S instanceof HTMLAnchorElement))continue;let T=S.href,D=m&&m.isLocal?m.isLocal(T):df.URLExt.isLocal(T);S.target||(S.target=D?"_self":"_blank"),D||(S.rel="noopener")}let _=h.getElementsByTagName("img");for(let y=0;y<_.length;y++)_[y].alt||(_[y].alt="Image")}t.handleDefaults=i;function n(h,m,p){let _=[],y=h.querySelectorAll("*[src]");for(let D=0;D<y.length;D++)_.push(o(y[D],"src",m));let S=h.getElementsByTagName("a");for(let D=0;D<S.length;D++)_.push(a(S[D],m,p));let T=h.getElementsByTagName("link");for(let D=0;D<T.length;D++)_.push(o(T[D],"href",m));return Promise.all(_).then(()=>{})}t.handleUrls=n;async function r(h,m,p){let _=h.getElementsByTagName("a");for(let y=0;y<_.length;y++)await l(_[y],m,p)}t.handlePaths=r;function s(h){let m=["h1","h2","h3","h4","h5","h6"];for(let p of m){let _=h.getElementsByTagName(p);for(let y=0;y<_.length;y++){let S=_[y];S.id=Yp.createHeaderId(S);let T=document.createElement("a");T.target="_self",T.textContent="\xB6",T.href="#"+S.id,T.classList.add("jp-InternalAnchorLink"),S.appendChild(T)}}}t.headerAnchors=s;async function o(h,m,p){let _=h.getAttribute(m)||"",y=p.isLocal?p.isLocal(_):df.URLExt.isLocal(_);if(!(!_||!y))try{let S=await p.resolveUrl(_),T=await p.getDownloadUrl(S);df.URLExt.parse(T).protocol!=="data:"&&(T+=(/\?/.test(T)?"&":"?")+new Date().getTime()),h.setAttribute(m,T)}catch(S){throw h.setAttribute(m,""),S}}function a(h,m,p){let _=h.getAttribute("href")||"",y=m.isLocal?m.isLocal(_):df.URLExt.isLocal(_);if(!_||!y)return Promise.resolve(void 0);let S=h.hash;if(S){if(S===_)return h.target="_self",Promise.resolve(void 0);_=_.replace(S,"")}return m.resolveUrl(_).then(T=>{let D=decodeURIComponent(T);return p&&p.handleLink(h,D,S),m.getDownloadUrl(T)}).then(T=>{h.href=T+S}).catch(T=>{h.href=""})}async function l(h,m,p){let _=h.dataset.path||"",y=h.dataset.locator?"#"+h.dataset.locator:"";delete h.dataset.path,delete h.dataset.locator;let S=!0,T=m.isLocal?m.isLocal(_,S):df.URLExt.isLocal(_,S);if(!_||!T||!m.resolvePath||!p||!p.handlePath)return h.replaceWith(...h.childNodes),Promise.resolve(void 0);try{let D=await m.resolvePath(_);if(!D)return console.log("Path resolution bailing: does not exist"),Promise.resolve(void 0);p.handlePath(h,D.path,D.scope,y),h.href=D.path+y}catch(D){console.warn("Path anchor error:",D),h.href="#linking-failed-see-console"}}let c=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function d(h,m,p,_,y,S,T){if(h){let D=[],k=[];_&&typeof m=="number"&&0<=m&&m<8&&(m+=8),S&&([m,p]=[p,m]),typeof m=="number"?D.push(c[m]+"-fg"):m.length?k.push(`color: rgb(${m})`):S&&D.push("ansi-default-inverse-fg"),typeof p=="number"?D.push(c[p]+"-bg"):p.length?k.push(`background-color: rgb(${p})`):S&&D.push("ansi-default-inverse-bg"),_&&D.push("ansi-bold"),y&&D.push("ansi-underline"),D.length||k.length?(T.push("<span"),D.length&&T.push(` class="${D.join(" ")}"`),k.length&&T.push(` style="${k.join("; ")}"`),T.push(">"),T.push(h),T.push("</span>")):T.push(h)}}function u(h){let m,p,_,y=h.shift();if(y===2&&h.length>=3){if(m=h.shift(),p=h.shift(),_=h.shift(),[m,p,_].some(S=>S<0||255<S))throw new RangeError("Invalid range for RGB colors")}else if(y===5&&h.length>=1){let S=h.shift();if(S<0)throw new RangeError("Color index must be >= 0");if(S<16)return S;if(S<232)m=Math.floor((S-16)/36),m=m>0?55+m*40:0,p=Math.floor((S-16)%36/6),p=p>0?55+p*40:0,_=(S-16)%6,_=_>0?55+_*40:0;else if(S<256)m=p=_=(S-232)*10+8;else throw new RangeError("Color index must be < 256")}else throw new RangeError("Invalid extended color specification");return[m,p,_]}function f(h){let m=/\x1b\[(.*?)([@-~])/g,p=[],_=[],y=!1,S=!1,T=!1,D,k=[],b=[],M=0;for(h=(0,FD.default)(h),h+="\x1B[m";D=m.exec(h);){if(D[2]==="m"){let x=D[1].split(";");for(let w=0;w<x.length;w++){let E=x[w];if(E==="")b.push(0);else if(E.search(/^\d+$/)!==-1)b.push(parseInt(E,10));else{b.length=0;break}}}let C=h.substring(M,D.index);for(d(C,p,_,y,S,T,k),M=m.lastIndex;b.length;){let x=b.shift();switch(x){case 0:p=_=[],y=!1,S=!1,T=!1;break;case 1:case 5:y=!0;break;case 4:S=!0;break;case 7:T=!0;break;case 21:case 22:y=!1;break;case 24:S=!1;break;case 27:T=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:p=x-30;break;case 38:try{p=u(b)}catch{b.length=0}break;case 39:p=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:_=x-40;break;case 48:try{_=u(b)}catch{b.length=0}break;case 49:_=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:p=x-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:_=x-100+8;break;default:}}}return k.join("")}t.ansiSpan=f})(ea||(ea={}))});var il,Ub,Vb,Gb,Yb,Kb,Xb,Jb,Zb,Kp,sS=$(()=>{mp();RD();rS();il=class extends pe{constructor(e){var i,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=(i=e.translator)!==null&&i!==void 0?i:ro,this.latexTypesetter=e.latexTypesetter,this.markdownParser=(n=e.markdownParser)!==null&&n!==void 0?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,i){if(!i)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);let{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}},Ub=class extends il{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let i;try{i=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(n){console.warn("Unable to set URI fragment identifier.",n)}i&&i.scrollIntoView()}},Vb=class extends Ub{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedHTML")}render(e){return this._rendered=iS({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},Gb=class extends il{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedLatex")}render(e){return this._rendered=$D({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},Yb=class extends il{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){let i=e.metadata[this.mimeType];return WD({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:i&&i.width,height:i&&i.height,needsBackground:e.metadata.needs_background,unconfined:i&&i.unconfined})}},Kb=class extends Ub{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedMarkdown")}render(e){return this._rendered=Yp({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},Xb=class extends il{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedSVG")}render(e){let i=e.metadata[this.mimeType];return this._rendered=qD({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:i&&i.unconfined,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},Jb=class extends il{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return nS({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}},Zb=class extends il{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return VD({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),linkHandler:this.linkHandler,resolver:this.resolver,translator:this.translator})}},Kp=class extends il{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){let i=this.translator.load("jupyterlab");return nS({host:this.node,sanitizer:this.sanitizer,source:i.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}});var YD,KD,XD,JD,ZD,QD,ez,tz=$(()=>{sS();YD={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:t=>new Vb(t)},KD={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:t=>new Yb(t)},XD={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:t=>new Gb(t)},JD={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:t=>new Kb(t)},ZD={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:t=>new Xb(t)},QD={safe:!0,mimeTypes:["application/vnd.jupyter.stderr"],defaultRank:110,createRenderer:t=>new Zb(t)},ez={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout"],defaultRank:120,createRenderer:t=>new Jb(t)}});var Qb,oS,aS=$(()=>{Qb=class{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||oS.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}};(function(t){function e(){}t.noOp=e})(oS||(oS={}))});function e0(t){return t.output_type==="execute_result"}function lS(t){return t.output_type==="display_data"}function iz(t){return t.output_type==="update_display_data"}function bd(t){return t.output_type==="stream"}function nz(t){return t.output_type==="error"}var cV,cS=$(()=>{cV=P(Jn())});var sz,uf,xd,oz=$(()=>{cS();i1();sz=P(Jn());Cs();uf=class{constructor(e){this._changed=new Ie(this),this._raw={};let{data:i,metadata:n,trusted:r}=xd.getBundleOptions(e);this._data=new pp({values:i}),this._rawData=i,this._metadata=new pp({values:n}),this._rawMetadata=n,this.trusted=r;let s=e.value;for(let o in s)switch(o){case"data":case"metadata":break;default:this._raw[o]=xd.extract(s,o)}this.type=s.output_type,e0(s)?this.executionCount=s.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){this._data.dispose(),this._metadata.dispose(),Ie.clearData(this)}get data(){return this._rawData}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){let e={};for(let i in this._raw)e[i]=xd.extract(this._raw,i);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata;break;default:break}return delete e.transient,e}_updateObservable(e,i){let n=e.keys(),r=Object.keys(i);for(let s of n)r.indexOf(s)===-1&&e.delete(s);for(let s of r){let o=e.get(s),a=i[s];o!==a&&e.set(s,a)}}};(function(t){function e(n){return xd.getData(n)}t.getData=e;function i(n){return xd.getMetadata(n)}t.getMetadata=i})(uf||(uf={}));(function(t){function e(o){let a={};if(e0(o)||lS(o)||iz(o))a=o.data;else if(bd(o))o.name==="stderr"?a["application/vnd.jupyter.stderr"]=o.text:a["application/vnd.jupyter.stdout"]=o.text;else if(nz(o)){a["application/vnd.jupyter.error"]=o;let l=o.traceback.join(`
`);a["application/vnd.jupyter.stderr"]=l||`${o.ename}: ${o.evalue}`}return s(a)}t.getData=e;function i(o){let a=Object.create(null);if(e0(o)||lS(o))for(let l in o.metadata)a[l]=r(o.metadata,l);return a}t.getMetadata=i;function n(o){let a=e(o.value),l=i(o.value),c=!!o.trusted;return{data:a,metadata:l,trusted:c}}t.getBundleOptions=n;function r(o,a){let l=o[a];return l===void 0||sz.JSONExt.isPrimitive(l)?l:JSON.parse(JSON.stringify(l))}t.extract=r;function s(o){let a=Object.create(null);for(let l in o)a[l]=r(o,l);return a}})(xd||(xd={}))});var yd,rc,dS,az=$(()=>{r1();yd=P(fk());mp();aS();rc=class{constructor(e={}){var i,n,r,s,o,a;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=(i=e.translator)!==null&&i!==void 0?i:ro,this.resolver=(n=e.resolver)!==null&&n!==void 0?n:null,this.linkHandler=(r=e.linkHandler)!==null&&r!==void 0?r:null,this.latexTypesetter=(s=e.latexTypesetter)!==null&&s!==void 0?s:null,this.markdownParser=(o=e.markdownParser)!==null&&o!==void 0?o:null,this.sanitizer=(a=e.sanitizer)!==null&&a!==void 0?a:new gk,e.initialFactories)for(let l of e.initialFactories)this.addFactory(l)}get mimeTypes(){return this._types||(this._types=dS.sortedTypes(this._ranks))}preferredMimeType(e,i="ensure"){if(i==="ensure"||i==="prefer"){for(let n of this.mimeTypes)if(n in e&&this._factories[n].safe)return n}if(i!=="ensure"){for(let n of this.mimeTypes)if(n in e)return n}}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new Qb(e)}clone(e={}){var i,n,r,s,o,a,l,c,d,u;let f=new rc({resolver:(n=(i=e.resolver)!==null&&i!==void 0?i:this.resolver)!==null&&n!==void 0?n:void 0,sanitizer:(s=(r=e.sanitizer)!==null&&r!==void 0?r:this.sanitizer)!==null&&s!==void 0?s:void 0,linkHandler:(a=(o=e.linkHandler)!==null&&o!==void 0?o:this.linkHandler)!==null&&a!==void 0?a:void 0,latexTypesetter:(c=(l=e.latexTypesetter)!==null&&l!==void 0?l:this.latexTypesetter)!==null&&c!==void 0?c:void 0,markdownParser:(u=(d=e.markdownParser)!==null&&d!==void 0?d:this.markdownParser)!==null&&u!==void 0?u:void 0,translator:this.translator});return f._factories={...this._factories},f._ranks={...this._ranks},f._id=this._id,f}getFactory(e){return this._factories[e]}addFactory(e,i){i===void 0&&(i=e.defaultRank,i===void 0&&(i=100));for(let n of e.mimeTypes)this._factories[n]=e,this._ranks[n]={rank:i,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){let i=this._ranks[e];return i&&i.rank}setRank(e,i){if(!this._ranks[e])return;let n=this._id++;this._ranks[e]={rank:i,id:n},this._types=null}};(function(t){class e{constructor(n){this._path=n.path,this._contents=n.contents}get path(){return this._path}set path(n){this._path=n}async resolveUrl(n){if(this.isLocal(n)){let r=encodeURI(yd.PathExt.dirname(this.path));n=yd.PathExt.resolve(r,n)}return n}async getDownloadUrl(n){return this.isLocal(n)?this._contents.getDownloadUrl(decodeURIComponent(n)):n}isLocal(n,r=!1){return this.isMalformed(n)?!1:yd.URLExt.isLocal(n,r)||!!this._contents.driveName(decodeURI(n))}async resolvePath(n){let r=yd.PageConfig.getOption("rootUri").replace("file://","");if(n.startsWith("~/")&&r.startsWith("/home/")&&(n=r.split("/").slice(0,3).join("/")+n.substring(1)),n.startsWith(r)||n.startsWith("./"))try{let s=n.replace(r,"");return{path:(await this._contents.get(s,{content:!1})).path,scope:"server"}}catch{return console.warn(`Could not resolve location of ${n} on server`),null}return{path:n,scope:"kernel"}}isMalformed(n){try{return decodeURI(n),!1}catch(r){if(r instanceof URIError)return!0;throw r}}}t.UrlResolver=e})(rc||(rc={}));(function(t){function e(i){return Object.keys(i).sort((n,r)=>{let s=i[n],o=i[r];return s.rank!==o.rank?s.rank-o.rank:s.id-o.id})}t.sortedTypes=e})(dS||(dS={}))});var t0,xhe,yhe,whe,lz=$(()=>{t0=P(Jn()),xhe=new t0.Token("@jupyterlab/rendermime:IRenderMimeRegistry",'A service for the rendermime registry for the application. Use this to create renderers for various mime-types in your extension. Many times it will be easier to create a "mime renderer extension" rather than using this service directly.'),yhe=new t0.Token("@jupyterlab/rendermime:ILatexTypesetter","A service for the LaTeX typesetter for the application. Use this if you want to typeset math in your extension."),whe=new t0.Token("@jupyterlab/rendermime:IMarkdownParser","A service for rendering markdown syntax as HTML content.")});var i0=$(()=>{mD();pD();tz();QC();aS();oz();az();rS();lz();sS()});function*ff(){}function uS(t,e){let i=0;for(let n of t)if(e(n,i++))return n}function dz(t,e){let i=0;for(let n of t)if(e(n,i++)===!1)return!1;return!0}function uz(t,e){let i=0;for(let n of t)if(e(n,i++))return!0;return!1}function*hz(t,e){let i=0;for(let n of t)yield e(n,i++)}function*fz(t){if(typeof t.retro=="function")yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}var He,cz,hf,n0=$(()=>{(function(t){function e(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(M[Q]===C)return Q}return-1}t.firstIndexOf=e;function i(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(M[Q]===C)return Q}return-1}t.lastIndexOf=i;function n(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(C(M[Q],Q))return Q}return-1}t.findFirstIndex=n;function r(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(C(M[Q],Q))return Q}return-1}t.findLastIndex=r;function s(M,C,x=0,w=-1){let E=n(M,C,x,w);return E!==-1?M[E]:void 0}t.findFirstValue=s;function o(M,C,x=-1,w=0){let E=r(M,C,x,w);return E!==-1?M[E]:void 0}t.findLastValue=o;function a(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)<0?(j=K+1,Q-=X+1):Q=X}return j}t.lowerBound=a;function l(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)>0?Q=X:(j=K+1,Q-=X+1)}return j}t.upperBound=l;function c(M,C,x){if(M===C)return!0;if(M.length!==C.length)return!1;for(let w=0,E=M.length;w<E;++w)if(x?!x(M[w],C[w]):M[w]!==C[w])return!1;return!0}t.shallowEqual=c;function d(M,C={}){let{start:x,stop:w,step:E}=C;if(E===void 0&&(E=1),E===0)throw new Error("Slice `step` cannot be zero.");let O=M.length;x===void 0?x=E<0?O-1:0:x<0?x=Math.max(x+O,E<0?-1:0):x>=O&&(x=E<0?O-1:O),w===void 0?w=E<0?-1:O:w<0?w=Math.max(w+O,E<0?-1:0):w>=O&&(w=E<0?O-1:O);let j;E<0&&w>=x||E>0&&x>=w?j=0:E<0?j=Math.floor((w-x+1)/E+1):j=Math.floor((w-x-1)/E+1);let Q=[];for(let X=0;X<j;++X)Q[X]=M[x+X*E];return Q}t.slice=d;function u(M,C,x){let w=M.length;if(w<=1||(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1),C===x))return;let E=M[C],O=C<x?1:-1;for(let j=C;j!==x;j+=O)M[j]=M[j+O];M[x]=E}t.move=u;function f(M,C=0,x=-1){let w=M.length;if(!(w<=1))for(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1);C<x;){let E=M[C],O=M[x];M[C++]=O,M[x--]=E}}t.reverse=f;function h(M,C,x=0,w=-1){let E=M.length;if(E<=1||(x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1),x>=w))return;let O=w-x+1;if(C>0?C=C%O:C<0&&(C=(C%O+O)%O),C===0)return;let j=x+C;f(M,x,j-1),f(M,j,w),f(M,x,w)}t.rotate=h;function m(M,C,x=0,w=-1){let E=M.length;if(E===0)return;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j)M[(x+j)%E]=C}t.fill=m;function p(M,C,x){let w=M.length;C<0?C=Math.max(0,C+w):C=Math.min(C,w);for(let E=w;E>C;--E)M[E]=M[E-1];M[C]=x}t.insert=p;function _(M,C){let x=M.length;if(C<0&&(C+=x),C<0||C>=x)return;let w=M[C];for(let E=C+1;E<x;++E)M[E-1]=M[E];return M.length=x-1,w}t.removeAt=_;function y(M,C,x=0,w=-1){let E=e(M,C,x,w);return E!==-1&&_(M,E),E}t.removeFirstOf=y;function S(M,C,x=-1,w=0){let E=i(M,C,x,w);return E!==-1&&_(M,E),E}t.removeLastOf=S;function T(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&M[j]===C||w<x&&(j<=w||j>=x)&&M[j]===C?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllOf=T;function D(M,C,x=0,w=-1){let E,O=n(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeFirstWhere=D;function k(M,C,x=-1,w=0){let E,O=r(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeLastWhere=k;function b(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&C(M[j],j)||w<x&&(j<=w||j>=x)&&C(M[j],j)?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllWhere=b})(He||(He={}));(function(t){function e(i,n,r){return r===0?1/0:i>n&&r>0||i<n&&r<0?0:Math.ceil((n-i)/r)}t.rangeLength=e})(cz||(cz={}));(function(t){function e(o,a,l=0){let c=new Array(a.length);for(let d=0,u=l,f=a.length;d<f;++d,++u){if(u=o.indexOf(a[d],u),u===-1)return null;c[d]=u}return c}t.findIndices=e;function i(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0;for(let u=0,f=c.length;u<f;++u){let h=c[u]-l;d+=h*h}return{score:d,indices:c}}t.matchSumOfSquares=i;function n(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0,u=l-1;for(let f=0,h=c.length;f<h;++f){let m=c[f];d+=m-u-1,u=m}return{score:d,indices:c}}t.matchSumOfDeltas=n;function r(o,a,l){let c=[],d=0,u=0,f=a.length;for(;d<f;){let h=a[d],m=a[d];for(;++d<f&&a[d]===m+1;)m++;u<h&&c.push(o.slice(u,h)),h<m+1&&c.push(l(o.slice(h,m+1))),u=m+1}return u<o.length&&c.push(o.slice(u)),c}t.highlight=r;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})(hf||(hf={}))});var hS,ta,mf,mz=$(()=>{cS();i1();i0();n0();hS=P(Jn());Cs();ta=class{constructor(e={}){if(this.clearNext=!1,this._lastStream="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new Ie(this),this._changed=new Ie(this),this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||ta.defaultContentFactory,this.list=new mk,e.values)for(let i of e.values){let n=this._add(i)-1;this.list.get(n).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;let i=this._trusted=e;for(let n=0;n<this.list.length;n++){let r=this.list.get(n),s=r.toJSON(),o=this._createItem({value:s,trusted:i});this.list.set(n,o),r.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),Ie.clearData(this))}get(e){return this.list.get(e)}set(e,i){i=hS.JSONExt.deepCopy(i),mf.normalize(i);let n=this._createItem({value:i,trusted:this._trusted});this.list.set(e,n)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}clear(e=!1){if(this._lastStream="",e){this.clearNext=!0;return}for(let i of this.list)i.dispose();this.list.clear()}fromJSON(e){this.clear();for(let i of e)this._add(i)}toJSON(){return Array.from(hz(this.list,e=>e.toJSON()))}_add(e){let i=this._trusted;if(e=hS.JSONExt.deepCopy(e),mf.normalize(e),bd(e)&&this._lastStream&&e.name===this._lastName&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){this._lastStream+=e.text,this._lastStream=mf.removeOverwrittenChars(this._lastStream),e.text=this._lastStream;let r=this._createItem({value:e,trusted:i}),s=this.length-1,o=this.list.get(s);return this.list.set(s,r),o.dispose(),this.length}bd(e)&&(e.text=mf.removeOverwrittenChars(e.text));let n=this._createItem({value:e,trusted:i});return bd(e)?(this._lastStream=e.text,this._lastName=e.name):this._lastStream="",this.list.push(n)}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,i){switch(i.type){case"add":i.newValues.forEach(n=>{n.changed.connect(this._onGenericChange,this)});break;case"remove":i.oldValues.forEach(n=>{n.changed.disconnect(this._onGenericChange,this)});break;case"set":i.newValues.forEach(n=>{n.changed.connect(this._onGenericChange,this)}),i.oldValues.forEach(n=>{n.changed.disconnect(this._onGenericChange,this)});break}this._changed.emit(i)}_onGenericChange(e){let i,n=null;for(i=0;i<this.list.length&&(n=this.list.get(i),n!==e);i++);n!=null&&(this._stateChanged.emit(i),this._changed.emit({type:"set",newIndex:i,oldIndex:i,oldValues:[n],newValues:[n]}))}};(function(t){class e{createOutputModel(n){return new uf(n)}}t.ContentFactory=e,t.defaultContentFactory=new e})(ta||(ta={}));(function(t){function e(s){bd(s)&&Array.isArray(s.text)&&(s.text=s.text.join(`
`))}t.normalize=e;function i(s){let o=s;do s=o,o=s.replace(/[^\n]\x08/gm,"");while(o.length<s.length);return s}function n(s){for(s=s.replace(/\r+\n/gm,`
`);s.search(/\r[^$]/g)>-1;){let o=s.match(/^(.*)\r+/m)[1],a=s.match(/\r+(.*)$/m)[1];a=a+o.slice(a.length,o.length),s=s.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,a)}return s}function r(s){return n(i(s))}t.removeOverwrittenChars=r})(mf||(mf={}))});var pz,ii,wd,Cd,go,gz=$(()=>{(function(t){function e(i){let n=document.body,r=s=>{s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),n.removeEventListener("copy",r,!0)};n.addEventListener("copy",r,!0),document.execCommand("copy")}t.copyText=e})(pz||(pz={}));(function(t){function e(s){let o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,c=parseFloat(o.borderRightWidth)||0,d=parseFloat(o.borderBottomWidth)||0,u=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,h=parseFloat(o.paddingRight)||0,m=parseFloat(o.paddingBottom)||0,p=l+f+h+c,_=a+u+m+d;return{borderTop:a,borderLeft:l,borderRight:c,borderBottom:d,paddingTop:u,paddingLeft:f,paddingRight:h,paddingBottom:m,horizontalSum:p,verticalSum:_}}t.boxSizing=e;function i(s){let o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,c=parseFloat(o.maxWidth)||1/0,d=parseFloat(o.maxHeight)||1/0;return c=Math.max(a,c),d=Math.max(l,d),{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d}}t.sizeLimits=i;function n(s,o,a){let l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=n;function r(s,o){let a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=r})(ii||(ii={}));(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(wd||(wd={}));(function(t){function e(r){if(r in go.specificityCache)return go.specificityCache[r];let s=go.calculateSingle(r);return go.specificityCache[r]=s}t.calculateSpecificity=e;function i(r){if(r in go.validityCache)return go.validityCache[r];let s=!0;try{go.testElem.querySelector(r)}catch{s=!1}return go.validityCache[r]=s}t.isValid=i;function n(r,s){return go.protoMatchFunc.call(r,s)}t.matches=n})(Cd||(Cd={}));(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(()=>{let d=Element.prototype;return d.matches||d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector||function(u){let f=this,h=f.ownerDocument?f.ownerDocument.querySelectorAll(u):[];return Array.prototype.indexOf.call(h,f)!==-1}})();function e(d){d=d.split(",",1)[0];let u=0,f=0,h=0;function m(p){let _=d.match(p);return _===null?!1:(d=d.slice(_[0].length),!0)}for(d=d.replace(c," $1 ");d.length>0;){if(m(i)){u++;continue}if(m(n)){f++;continue}if(m(r)){f++;continue}if(m(o)){h++;continue}if(m(a)){f++;continue}if(m(s)){h++;continue}if(!m(l))return 0}return u=Math.min(u,255),f=Math.min(f,255),h=Math.min(h,255),u<<16|f<<8|h}t.calculateSingle=e;let i=/^#[^\s\+>~#\.\[:]+/,n=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(go||(go={}))});var pf,nl,_z=$(()=>{pf=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new nl.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new nl.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof nl.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new nl.LinkedListNode(this,e),r=i,s=r.prev;return n.next=r,n.prev=s,r.prev=n,s.next=n,this._size++,n}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof nl.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new nl.LinkedListNode(this,e),r=i,s=r.next;return n.next=s,n.prev=r,r.next=n,s.prev=n,this._size++,n}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof nl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let n=new t;return n.assign(i),n}t.from=e})(pf||(pf={}));(function(t){class e{constructor(n,r){this.list=null,this.next=null,this.prev=null,this.list=n,this.value=r}}t.LinkedListNode=e})(nl||(nl={}))});var vr,sc,De,vz=$(()=>{n0();_z();vr=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},sc=class extends vr{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(C=>x=>{let w=!1;return C.then(()=>!w&&x()),()=>{w=!0}})(Promise.resolve());function n(C,x){let w=f.get(C);if(!w||w.length===0){y(C,x);return}dz(fz(w),O=>O?_(O,C,x):!0)&&y(C,x)}t.sendMessage=n;function r(C,x){if(!x.isConflatable){S(C,x);return}uz(u,E=>E.handler!==C||!E.msg||E.msg.type!==x.type||!E.msg.isConflatable?!1:E.msg.conflate(x))||S(C,x)}t.postMessage=r;function s(C,x){let w=f.get(C);w&&w.indexOf(x)!==-1||(w?w.push(x):f.set(C,[x]))}t.installMessageHook=s;function o(C,x){let w=f.get(C);if(!w)return;let E=w.indexOf(x);E!==-1&&(w[E]=null,D(w))}t.removeMessageHook=o;function a(C){let x=f.get(C);x&&x.length>0&&(He.fill(x,null),D(x));for(let w of u)w.handler===C&&(w.handler=null,w.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,T(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function d(C){let x=m;return m=C,x}t.setExceptionHandler=d;let u=new pf,f=new WeakMap,h=new Set,m=C=>{console.error(C)},p=!1;function _(C,x,w){let E=!0;try{typeof C=="function"?E=C(x,w):E=C.messageHook(x,w)}catch(O){m(O)}return E}function y(C,x){try{C.processMessage(x)}catch(w){m(w)}}function S(C,x){u.addLast({handler:C,msg:x}),e===null&&(e=i(T))}function T(){if(e=null,u.isEmpty)return;let C={handler:null,msg:null};for(u.addLast(C);;){let x=u.removeFirst();if(x===C)return;x.handler&&x.msg&&n(x.handler,x.msg)}}function D(C){h.size===0&&i(k),h.add(C)}function k(){h.forEach(b),h.clear()}function b(C){He.removeAllWhere(C,M)}function M(C){return C===null}})(De||(De={}))});var al,ia,ns,Xp,he,r0,ra,Ed,gf,oc,Jp,Zp,_o,sl,fS,s0,Md,mS,Id,pS,Qp,gS,rs,Sd,o0,_S,_f,rl,na,br,bz,dV,ac,js,vS,Zi,Td,Wi,ol,_n,vf,a0,xz,yz,bS,wz,Cz,Sz=$(()=>{n0();al=P(Jn());gz();vz();fp();Cs();mv();gv();_v();fv();pv();ia=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,d=0,u=0,f=0;for(let p=0;p<a;++p){let _=s[p],y=_.minSize,S=_.maxSize,T=_.sizeHint;_.done=!1,_.size=Math.max(y,Math.min(T,S)),d+=_.size,l+=y,c+=S,_.stretch>0&&(u+=_.stretch,f++)}if(o===d)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<d){let p=d-o;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size-D<=T.minSize?(p-=T.size-T.minSize,u-=T.stretch,T.size=T.minSize,T.done=!0,m--,f--):(p-=D,T.size-=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size-_<=S.minSize?(p-=S.size-S.minSize,S.size=S.minSize,S.done=!0,m--):(p-=_,S.size-=_))}}}else{let p=o-d;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size+D>=T.maxSize?(p-=T.maxSize-T.size,u-=T.stretch,T.size=T.maxSize,T.done=!0,m--,f--):(p-=D,T.size+=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size+_>=S.maxSize?(p-=S.maxSize-S.size,S.size=S.maxSize,S.done=!0,m--):(p-=_,S.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?n(s,o,a):r(s,o,-a))}t.adjust=i;function n(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.maxSize-h.size;m>=d?(h.sizeHint=h.size+d,d=0):(h.sizeHint=h.size+m,d-=m)}let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.size-m.minSize;p>=u?(m.sizeHint=m.size-u,u=0):(m.sizeHint=m.size-p,u-=p)}}function r(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.maxSize-m.size;p>=d?(m.sizeHint=m.size+d,d=0):(m.sizeHint=m.size+p,d-=p)}let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.size-h.minSize;m>=u?(h.sizeHint=h.size-u,u=0):(h.sizeHint=h.size-m,u-=m)}}})(ns||(ns={}));Xp=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Ie(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ie.clearData(this))}},he=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Ie(this),this._hiddenMode=he.HiddenMode.Display,this.node=r0.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(he.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&he.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Ie.clearData(this),De.clearData(this),mt.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(he.Flag.IsDisposed)}get isAttached(){return this.testFlag(he.Flag.IsAttached)}get isHidden(){return this.testFlag(he.Flag.IsHidden)}get isVisible(){return this.testFlag(he.Flag.IsVisible)}get title(){return r0.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==he.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new he.ChildMessage("child-removed",this);De.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new he.ChildMessage("child-added",this);De.sendMessage(this._parent,i)}this.isDisposed||De.sendMessage(this,he.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(he.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){De.postMessage(this,he.Msg.UpdateRequest)}fit(){De.postMessage(this,he.Msg.FitRequest)}activate(){De.postMessage(this,he.Msg.ActivateRequest)}close(){De.sendMessage(this,he.Msg.CloseRequest)}show(){if(this.testFlag(he.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,he.Msg.BeforeShow),this.clearFlag(he.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,he.Msg.AfterShow),this.parent)){let e=new he.ChildMessage("child-shown",this);De.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(he.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,he.Msg.BeforeHide),this.setFlag(he.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,he.Msg.AfterHide),this.parent)){let e=new he.ChildMessage("child-hidden",this);De.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(he.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(he.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(he.Flag.IsVisible),this.setFlag(he.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(he.Flag.IsVisible),this.clearFlag(he.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&he.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case he.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case he.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case he.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case he.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case he.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case he.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new vr("before-show"),s.AfterShow=new vr("after-show"),s.BeforeHide=new vr("before-hide"),s.AfterHide=new vr("after-hide"),s.BeforeAttach=new vr("before-attach"),s.AfterAttach=new vr("after-attach"),s.BeforeDetach=new vr("before-detach"),s.AfterDetach=new vr("after-detach"),s.ParentChanged=new vr("parent-changed"),s.UpdateRequest=new sc("update-request"),s.FitRequest=new sc("fit-request"),s.ActivateRequest=new sc("activate-request"),s.CloseRequest=new sc("close-request")}(t.Msg||(t.Msg={}));class e extends vr{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends vr{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function n(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");De.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),De.sendMessage(s,t.Msg.AfterAttach)}t.attach=n;function r(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");De.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),De.sendMessage(s,t.Msg.AfterDetach)}t.detach=r})(he||(he={}));(function(t){t.titleProperty=new mt({name:"title",create:i=>new Xp({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(r0||(r0={}));ra=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Ie.clearData(this),mt.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)De.sendMessage(i,he.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)De.sendMessage(i,he.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)De.sendMessage(i,e)}onAfterAttach(e){for(let i of this)De.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)De.sendMessage(i,e)}onAfterDetach(e){for(let i of this)De.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return gf.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){gf.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function n(s){return gf.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=n;function r(s,o){gf.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=r})(ra||(ra={}));Ed=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ii.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,n,r){let s=Math.max(this._minWidth,Math.min(n,this._maxWidth)),o=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(s<n)switch(ra.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-s)/2;break;case"right":e+=n-s;break;default:throw"unreachable"}if(o<r)switch(ra.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(r-o)/2;break;case"bottom":i+=r-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new he.ResizeMessage(s,o);De.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new mt({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new mt({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(gf||(gf={}));oc=class extends ra{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let n=this._widgets.indexOf(i),r=Math.max(0,Math.min(e,this._widgets.length));if(n===-1){He.insert(this._widgets,r,i),this.parent&&this.attachWidget(r,i);return}r===this._widgets.length&&r--,n!==r&&(He.move(this._widgets,n,r),this.parent&&this.moveWidget(n,r,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=He.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let n=this.parent.node.children[e];this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,n),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterAttach)}moveWidget(e,i,n){this.parent.isAttached&&De.sendMessage(n,he.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&De.sendMessage(n,he.Msg.AfterDetach);let r=this.parent.node.children[i];this.parent.isAttached&&De.sendMessage(n,he.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,r),this.parent.isAttached&&De.sendMessage(n,he.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(Jp||(Jp={}));Zp=Jp,_o=class extends oc{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Jp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Jp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return sl.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let n=this._sizers.length,r=e.slice(0,n);for(;r.length<n;)r.push(0);let s=sl.normalize(r);for(let o=0;o<n;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let n=this._handles[e];if(!n||n.classList.contains("lm-mod-hidden"))return;let r;if(this._orientation==="horizontal"?r=i-n.offsetLeft:r=i-n.offsetTop,r!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);ns.adjust(this._sizers,e,r),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let n=new Ed(i),r=sl.createHandle(this.renderer),s=sl.averageSize(this._sizers),o=sl.createSizer(s);He.insert(this._items,e,n),He.insert(this._sizers,e,o),He.insert(this._handles,e,r),this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(r),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){He.move(this._items,e,i),He.move(this._sizers,e,i),He.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let n=He.removeAt(this._items,e),r=He.removeAt(this._handles,e);He.removeAt(this._sizers,e),this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(r),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,n,r,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(n+=this.widgetOffset,l.update(n,r,a,s),n+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(r+=this.widgetOffset,l.update(n,r,o,a),r+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let n=this._orientation==="horizontal",r=n?this._fixed:0,s=n?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l],u=this._sizers[l];if(u.size>0&&(u.sizeHint=u.size),d.isHidden){u.minSize=0,u.maxSize=0;continue}d.fit(),u.stretch=_o.getStretch(d.widget),n?(u.minSize=d.minWidth,u.maxSize=d.maxWidth,r+=d.minWidth,s=Math.max(s,d.minHeight)):(u.minSize=d.minHeight,u.maxSize=d.maxHeight,s+=d.minHeight,r=Math.max(r,d.minWidth))}let o=this._box=ii.boxSizing(this.parent.node);r+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${r}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,he.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,he.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ii.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,d=this._orientation==="horizontal";if(n>0){let u;if(d?u=Math.max(0,o-this._fixed):u=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=u;this._hasNormedSizes=!1}let f=ns.calc(this._sizers,u);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/n,c=0;break;default:throw"unreachable"}}for(let u=0,f=this._items.length;u<f;++u){let m=this._items[u].isHidden?0:this._sizers[u].size+l;this.updateItemPosition(u,d,d?s+c:s,d?r:r+c,a,o,m);let p=this.widgetOffset+(this._handles[u].classList.contains("lm-mod-hidden")?0:this._spacing);d?s+=m+p:r+=m+p}}};(function(t){function e(n){return sl.stretchProperty.get(n)}t.getStretch=e;function i(n,r){sl.stretchProperty.set(n,r)}t.setStretch=i})(_o||(_o={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new ia;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function n(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=n;function r(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,d)=>c+Math.abs(d),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=r;function s(o){o.parent&&o.parent.layout instanceof _o&&o.parent.fit()}})(sl||(sl={}));fS=class extends _o{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Zp.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let n=this._titles[e],r=n.classList.contains("lm-mod-expanded"),s=s0.createTitle(this.renderer,i.title,r);this._titles[e]=s,this.parent.node.replaceChild(s,n)}insertWidget(e,i){i.id||(i.id=`id-${al.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let n=s0.createTitle(this.renderer,i.title);He.insert(this._titles,e,n),this.parent.node.appendChild(n),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",n.id),super.attachWidget(e,i)}moveWidget(e,i,n){He.move(this._titles,e,i),super.moveWidget(e,i,n)}detachWidget(e,i){let n=He.removeAt(this._titles,e);this.parent.node.removeChild(n),super.detachWidget(e,i)}updateItemPosition(e,i,n,r,s,o,a){let l=this._titles[e].style;l.top=`${r}px`,l.left=`${n}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,n,r,s,o,a)}};(function(t){function e(i,n,r=!0){let s=i.createSectionTitle(n);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${n.label} Section`),s.setAttribute("aria-expanded",r?"true":"false"),s.setAttribute("aria-controls",n.owner.id),r&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(s0||(s0={}));Md=class extends he{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=mS.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new oc}t.createLayout=e})(mS||(mS={}));Id=class extends Md{constructor(e={}){super({layout:pS.createLayout(e)}),this._handleMoved=new Ie(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=He.findFirstIndex(i.handles,c=>c.contains(e.target));if(n===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let r,s=i.handles[n],o=s.getBoundingClientRect();i.orientation==="horizontal"?r=e.clientX-o.left:r=e.clientY-o.top;let a=window.getComputedStyle(s),l=tn.overrideCursor(a.cursor);this._pressData={index:n,delta:r,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,n=this.layout,r=this.node.getBoundingClientRect();n.orientation==="horizontal"?i=e.clientX-r.left-this._pressData.delta:i=e.clientY-r.top-this._pressData.delta,n.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(r){return _o.getStretch(r)}t.getStretch=i;function n(r,s){_o.setStretch(r,s)}t.setStretch=n})(Id||(Id={}));(function(t){function e(i){return i.layout||new _o({renderer:i.renderer||Id.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(pS||(pS={}));Qp=class extends Id{constructor(e={}){super({...e,layout:gS.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Ie(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=He.findFirstIndex(this.widgets,n=>n.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,n=i.widgets[e];if(!n)return;let r=n.isHidden,s=i.absoluteSizes(),o=(r?-1:1)*this.spacing,a=s.reduce((c,d)=>c+d),l=[...s];if(r){let c=this._widgetSizesCache.get(n);if(!c)return;l[e]+=c;let d=l.map(u=>u-c>0).lastIndexOf(!0);d===-1?l.forEach((u,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[d]-=c-o}else{let c=s[e];this._widgetSizesCache.set(n,c),l[e]=0;let d=l.map(u=>u>0).lastIndexOf(!0);if(d===-1)return;l[d]=s[d]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let n=He.findFirstIndex(this.titles,r=>r.contains(i));n>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(n))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,n=!1;if(i){let r=He.findFirstIndex(this.titles,s=>s.contains(i));if(r>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),n=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(r+a+o)%a;this.titles[l].focus(),n=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),n=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],n=this.layout.widgets[e],r=this._computeWidgetSize(e);r&&this.setRelativeSizes(r,!1),n.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),n.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),n.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends Id.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(n){return document.createElement("span")}createSectionTitle(n){let r=document.createElement("h3");r.setAttribute("tabindex","0"),r.id=this.createTitleKey(n),r.className=this.titleClassName;for(let a in n.dataset)r.dataset[a]=n.dataset[a];let s=r.appendChild(this.createCollapseIcon(n));s.className="lm-AccordionPanel-titleCollapser";let o=r.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=n.label,o.title=n.caption||n.label,r}createTitleKey(n){let r=this._titleKeys.get(n);return r===void 0&&(r=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(n,r)),r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(Qp||(Qp={}));(function(t){function e(i){return i.layout||new fS({renderer:i.renderer||Qp.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(gS||(gS={}));rs=class extends oc{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Zp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Zp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){He.insert(this._items,e,new Ed(i)),He.insert(this._sizers,e,new ia),this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){He.move(this._items,e,i),He.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let n=He.removeAt(this._items,e);He.removeAt(this._sizers,e),this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=Sd.isHorizontal(this._direction),n=i?this._fixed:0,r=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],d=this._sizers[a];if(c.isHidden){d.minSize=0,d.maxSize=0;continue}c.fit(),d.sizeHint=rs.getSizeBasis(c.widget),d.stretch=rs.getStretch(c.widget),i?(d.minSize=c.minWidth,d.maxSize=c.maxWidth,n+=c.minWidth,r=Math.max(r,c.minHeight)):(d.minSize=c.minHeight,d.maxSize=c.maxHeight,r+=c.minHeight,n=Math.max(n,c.minWidth))}let s=this._box=ii.boxSizing(this.parent.node);n+=s.horizontalSum,r+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${n}px`,o.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,he.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,he.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ii.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=ns.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=ns.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=ns.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=ns.calc(this._sizers,Math.max(0,a-this._fixed)),r+=a;break;default:throw"unreachable"}let c=0,d=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,d=l/2;break;case"end":c=0,d=l;break;case"justify":c=l/n,d=0;break;default:throw"unreachable"}for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=this._sizers[u].size;switch(this._direction){case"left-to-right":h.update(s+d,r,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,r+d,o,m+c),r+=m+c+this._spacing;break;case"right-to-left":h.update(s-d-m-c,r,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,r-d-m-c,o,m+c),r-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return Sd.stretchProperty.get(s)}t.getStretch=e;function i(s,o){Sd.stretchProperty.set(s,o)}t.setStretch=i;function n(s){return Sd.sizeBasisProperty.get(s)}t.getSizeBasis=n;function r(s,o){Sd.sizeBasisProperty.set(s,o)}t.setSizeBasis=r})(rs||(rs={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n}),t.sizeBasisProperty=new mt({name:"sizeBasis",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n});function e(r){return r==="left-to-right"||r==="right-to-left"}t.isHorizontal=e;function i(r){return Math.max(0,Math.floor(r))}t.clampSpacing=i;function n(r){r.parent&&r.parent.layout instanceof rs&&r.parent.fit()}})(Sd||(Sd={}));o0=class extends Md{constructor(e={}){super({layout:_S.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return rs.getStretch(s)}t.getStretch=e;function i(s,o){rs.setStretch(s,o)}t.setStretch=i;function n(s){return rs.getSizeBasis(s)}t.getSizeBasis=n;function r(s,o){rs.setSizeBasis(s,o)}t.setSizeBasis=r})(o0||(o0={}));(function(t){function e(i){return i.layout||new rs(i)}t.createLayout=e})(_S||(_S={}));_f=class extends he{constructor(e){super({node:rl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(he.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||_f.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=rl.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(n=>rl.createItem(this.commands,n));return i.forEach(n=>this._items.push(n)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){He.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,n=this.contentNode,r=this._results;if(r||(r=this._results=rl.search(this._items,i),this._activeIndex=i?He.findFirstIndex(r,rl.canActivate):-1),!i&&r.length===0){Zt.render(null,n);return}if(i&&r.length===0){let l=this.renderer.renderEmptyMessage({query:i});Zt.render(l,n);return}let s=this.renderer,o=this._activeIndex,a=new Array(r.length);for(let l=0,c=r.length;l<c;++l){let d=r[l];if(d.type==="header"){let u=d.indices,f=d.category;a[l]=s.renderHeader({category:f,indices:u})}else{let u=d.item,f=d.indices,h=l===o;a[l]=s.renderItem({item:u,indices:f,active:h})}}if(Zt.render(a,n),o<0||o>=r.length)n.scrollTop=0;else{let l=n.children[o];ii.scrollIntoViewIfNeeded(n,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=He.findFirstIndex(this.contentNode.children,n=>n.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<i-1?e+1:0,r=n===0?i-1:n-1;this._activeIndex=He.findFirstIndex(this._results,rl.canActivate,n,r),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<=0?i-1:e-1,r=n===i-1?0:n+1;this._activeIndex=He.findLastIndex(this._results,rl.canActivate,n,r),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let n=this.inputNode;n.value=`${i.category.toLowerCase()} `,n.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(n){let r=this.formatHeader(n);return Se.li({className:"lm-CommandPalette-header"},r)}renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n);return n.item.isToggleable?Se.li({className:r,dataset:s,role:"menuitemcheckbox","aria-checked":`${n.item.isToggled}`},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n)):Se.li({className:r,dataset:s,role:"menuitem"},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n))}renderEmptyMessage(n){let r=this.formatEmptyMessage(n);return Se.li({className:"lm-CommandPalette-emptyMessage"},r)}renderItemIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderItemContent(n){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(n),this.renderItemCaption(n))}renderItemLabel(n){let r=this.formatItemLabel(n);return Se.div({className:"lm-CommandPalette-itemLabel"},r)}renderItemCaption(n){let r=this.formatItemCaption(n);return Se.div({className:"lm-CommandPalette-itemCaption"},r)}renderItemShortcut(n){let r=this.formatItemShortcut(n);return Se.div({className:"lm-CommandPalette-itemShortcut"},r)}createItemClass(n){let r="lm-CommandPalette-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.active&&(r+=" lm-mod-active");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){return{...n.item.dataset,command:n.item.command}}createIconClass(n){let r="lm-CommandPalette-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}formatHeader(n){return!n.indices||n.indices.length===0?n.category:hf.highlight(n.category,n.indices,Se.mark)}formatEmptyMessage(n){return`No commands found that match '${n.query}'`}formatItemShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}formatItemLabel(n){return!n.indices||n.indices.length===0?n.item.label:hf.highlight(n.item.label,n.indices,Se.mark)}formatItemCaption(n){return n.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(_f||(_f={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),y=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",y.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(y),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new u(f,h)}t.createItem=i;function n(f,h){let m=a(f,h);return m.sort(c),d(m)}t.search=n;function r(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=r;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let y=f[p];if(!y.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:y});continue}let S=l(y,h);S&&(y.isEnabled||(S.score+=1e3),m.push(S))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,y=1/0,S=null,T=/\b\w/g;for(;;){let C=T.exec(_);if(!C)break;let x=hf.matchSumOfDeltas(_,h,C.index);if(!x)break;x.score<=y&&(y=x.score,S=x.indices)}if(!S||y===1/0)return null;let D=m.length+1,k=He.lowerBound(S,D,(C,x)=>C-x),b=S.slice(0,k),M=S.slice(k);for(let C=0,x=M.length;C<x;++C)M[C]-=D;return b.length===0?{matchType:0,categoryIndices:null,labelIndices:M,score:y,item:f}:M.length===0?{matchType:1,categoryIndices:b,labelIndices:null,score:y,item:f}:{matchType:2,categoryIndices:b,labelIndices:M,score:y,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,y=0;switch(f.matchType){case 0:_=f.labelIndices[0],y=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],y=h.categoryIndices[0];break}if(_!==y)return _-y;let S=f.item.category.localeCompare(h.item.category);if(S!==0)return S;let T=f.item.rank,D=h.item.rank;return T!==D?T<D?-1:1:f.item.label.localeCompare(h.item.label)}function d(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:y,labelIndices:S}=f[m],T=_.category;(m===0||T!==f[m-1].item.category)&&h.push({type:"header",category:T,indices:y}),h.push({type:"item",item:_,indices:S})}return h}class u{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||al.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return He.findLastValue(this._commands.keyBindings,p=>p.command===h&&al.JSONExt.deepEqual(p.args,m))||null}}})(rl||(rl={}));na=class extends he{constructor(e){super({node:br.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Ie(this),this._menuRequested=new Ie(this),this.addClass("lm-Menu"),this.setFlag(he.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||na.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!br.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,n=i<e-1?i+1:0,r=n===0?e-1:n-1;this.activeIndex=He.findFirstIndex(this._items,br.canActivate,n,r)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,n=i<=0?e-1:i-1,r=n===e-1?0:n+1;this.activeIndex=He.findLastIndex(this._items,br.canActivate,n,r)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:n}=e;this.commands.isEnabled(i,n)?this.commands.execute(i,n):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let n=Math.max(0,Math.min(e,this._items.length)),r=br.createItem(this,i);return He.insert(this._items,n,r),this.update(),r}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,He.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,n={}){var r,s;if(this.isAttached)return;let o=n.forceX||!1,a=n.forceY||!1,l=(r=n.host)!==null&&r!==void 0?r:null,c=(s=n.ref)!==null&&s!==void 0?s:null;br.openRootMenu(this,e,i,o,a,l,c),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,n=this.renderer,r=this._activeIndex,s=br.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],d=a===r,u=s[a];o[a]=n.renderItem({item:c,active:d,collapsed:u,onfocus:()=>{this.activeIndex=a}})}Zt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=br.findMnemonic(this._items,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=He.findFirstIndex(this.contentNode.children,r=>ii.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let n=this.activeItem;!n||n.type!=="submenu"||!n.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:n}=e;if(ii.hitTest(this._childMenu.node,i,n)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(br.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let n=i.submenu;if(n===this._childMenu)return;na.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,De.sendMessage(this,he.Msg.UpdateRequest);let r=this.contentNode.children[this._activeIndex];br.openSubmenu(n,r),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},br.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},br.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){br.saveWindowData()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,tabindex:"0",onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n),this.renderShortcut(n),this.renderSubmenu(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-Menu-itemLabel"},r)}renderShortcut(n){let r=this.formatShortcut(n);return Se.div({className:"lm-Menu-itemShortcut"},r)}renderSubmenu(n){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(n){let r="lm-Menu-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.item.isVisible||(r+=" lm-mod-hidden"),n.active&&(r+=" lm-mod-active"),n.collapsed&&(r+=" lm-mod-collapsed");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){let r,{type:s,command:o,dataset:a}=n.item;return s==="command"?r={...a,type:s,command:o}:r={...a,type:s},r}createIconClass(n){let r="lm-Menu-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}createItemARIA(n){let r={};switch(n.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",n.item.isEnabled||(r["aria-disabled"]="true");break;default:n.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r}formatLabel(n){let{label:r,mnemonic:s}=n.item;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(na||(na={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function n(){return i>0?(i--,e):d()}function r(){e=d(),i++}t.saveWindowData=r;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,y){for(let S=p;S;S=S.childMenu)if(ii.hitTest(S.node,_,y))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);He.fill(_,!1);let y=0,S=p.length;for(;y<S;++y){let k=p[y];if(k.isVisible){if(k.type!=="separator")break;_[y]=!0}}let T=S-1;for(;T>=0;--T){let k=p[T];if(k.isVisible){if(k.type!=="separator")break;_[T]=!0}}let D=!1;for(;++y<T;){let k=p[y];k.isVisible&&(k.type!=="separator"?D=!1:D?_[y]=!0:D=!0)}return _}t.computeCollapsed=c;function d(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function u(p,_,y,S,T,D,k){let b=n(),M=b.pageXOffset,C=b.pageYOffset,x=b.clientWidth,w=b.clientHeight;De.sendMessage(p,he.Msg.UpdateRequest);let E=w-(T?y:0),O=p.node,j=O.style;j.opacity="0",j.maxHeight=`${E}px`,he.attach(p,D||document.body,k);let{width:Q,height:X}=O.getBoundingClientRect();!S&&_+Q>M+x&&(_=M+x-Q),!T&&y+X>C+w&&(y>C+w?y=C+w-X:y=y-X),j.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,y)}px`,j.opacity="1"}t.openRootMenu=u;function f(p,_){let y=n(),S=y.pageXOffset,T=y.pageYOffset,D=y.clientWidth,k=y.clientHeight;De.sendMessage(p,he.Msg.UpdateRequest);let b=k,M=p.node,C=M.style;C.opacity="0",C.maxHeight=`${b}px`,he.attach(p,document.body);let{width:x,height:w}=M.getBoundingClientRect(),E=ii.boxSizing(p.node),O=_.getBoundingClientRect(),j=O.right-t.SUBMENU_OVERLAP;j+x>S+D&&(j=O.left+t.SUBMENU_OVERLAP-x);let Q=O.top-E.borderTop-E.paddingTop;Q+w>T+k&&(Q=O.bottom+E.borderBottom+E.paddingBottom-w),C.transform=`translate(${Math.max(0,j)}px, ${Math.max(0,Q)}px`,C.opacity="1"}t.openSubmenu=f;function h(p,_,y){let S=-1,T=-1,D=!1,k=_.toUpperCase();for(let b=0,M=p.length;b<M;++b){let C=(b+y)%M,x=p[C];if(!o(x))continue;let w=x.label;if(w.length===0)continue;let E=x.mnemonic;if(E>=0&&E<w.length){w[E].toUpperCase()===k&&(S===-1?S=C:D=!0);continue}T===-1&&w[0].toUpperCase()===k&&(T=C)}return{index:S,multiple:D,auto:T}}t.findMnemonic=h;class m{constructor(_,y){this._commands=_,this.type=y.type||"command",this.command=y.command||"",this.args=y.args||al.JSONExt.emptyObject,this.submenu=y.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:y}=this;return He.findLastValue(this._commands.keyBindings,S=>S.command===_&&al.JSONExt.deepEqual(S.args,y))||null}return null}}})(br||(br={}));(function(t){function e(o,a){let l=n(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let d=a.target;if(!d)return null;let u=a.currentTarget;if(!u||!u.contains(d)&&(d=document.elementFromPoint(a.clientX,a.clientY),!d||!u.contains(d)))return null;let f=[],h=o.slice();for(;d!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let y=h[p];y&&Cd.matches(d,y.selector)&&(m.push(y),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:r),f.push(...m)),d===u)break;d=d.parentElement}return l||f.sort(c?s:r),f}t.matchItems=i;function n(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!Cd.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function r(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=Cd.calculateSpecificity(o.selector),c=Cd.calculateSpecificity(a.selector);return l!==c?c-l:r(o,a)}})(bz||(bz={}));dV=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],ac=class extends he{constructor(e={}){super({node:js.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Ie(this),this._currentChanged=new Ie(this),this._addRequested=new Ie(this),this._tabCloseRequested=new Ie(this),this._tabDetachRequested=new Ie(this),this._tabActivateRequested=new Ie(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(he.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||ac.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,n=this._titles[i]||null,r=e,s=this._titles[r]||null;this._currentIndex=r,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:r,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let n=js.asTitle(i),r=this._titles.indexOf(n),s=Math.max(0,Math.min(e,this._titles.length));return r===-1?(He.insert(this._titles,s,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,n),n):(s===this._titles.length&&s--,r===s||(He.move(this._titles,r,s),this.update(),this._adjustCurrentForMove(r,s)),n)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=He.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let n of this._titles)n.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let n=this._titles,r=this.renderer,s=this.currentTitle,o=new Array(n.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=n.length;l<c;++l){let d=n[l],u=d===s,f=u?c:c-l-1,h=a===l?0:-1;o[l]=r.renderTab({title:d,current:u,zIndex:f,tabIndex:h})}Zt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,n=He.findFirstIndex(i,o=>ii.hitTest(o,e.clientX,e.clientY));if(n===-1)return;let r=this.titles[n],s=i[n].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=r.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",d=>d.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",d=>{d.key==="Enter"?(l.value!==""&&(r.label=r.caption=l.value),c()):d.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,n,r;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=He.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(dV.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(n=s[o-1])!==null&&n!==void 0?n:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((r=s[o])===null||r===void 0||r.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,r=He.findFirstIndex(n,o=>ii.hitTest(o,e.clientX,e.clientY));if(r===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[r],index:r,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=n[r].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===r?this.currentIndex=-1:this.currentIndex=r,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let n=this.contentNode.children;if(!(!i.dragActive&&!js.dragExceeded(i,e))){if(!i.dragActive){let r=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=r.width,i.tabPressPos=i.pressX-r.left):(i.tabPos=i.tab.offsetTop,i.tabSize=r.height,i.tabPressPos=i.pressY-r.top),i.tabPressOffset={x:i.pressX-r.left,y:i.pressY-r.top},i.tabLayout=js.snapTabLayout(n,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=tn.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&js.detachExceeded(i,e)){i.detachRequested=!0;let r=i.index,s=e.clientX,o=e.clientY,a=n[r],l=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}js.layoutTabs(n,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=He.findFirstIndex(s,c=>ii.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;js.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let n=js.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,js.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let r=i.index,s=i.targetIndex;s===-1||r===s||(He.move(this._titles,r,s),this._adjustCurrentForMove(r,s),this._tabMoved.emit({fromIndex:r,toIndex:s,title:this._titles[s]}),De.sendMessage(this,he.Msg.UpdateRequest))},n)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(js.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let n=this.currentTitle,r=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&r===-1){this._currentIndex=e,this._previousTitle=n,this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:e,currentTitle:i});return}r>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let n=this._currentIndex,r=this.removeBehavior;if(n!==e){n>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(r==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(n){let r=n.title.caption,s=this.createTabKey(n),o=s,a=this.createTabStyle(n),l=this.createTabClass(n),c=this.createTabDataset(n),d=this.createTabARIA(n);return n.title.closable?Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n),this.renderCloseIcon(n)):Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let{title:r}=n,s=this.createIconClass(n);return Se.div({className:s},r.icon,r.iconLabel)}renderLabel(n){return Se.div({className:"lm-TabBar-tabLabel"},n.title.label)}renderCloseIcon(n){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(n){let r=this._tabKeys.get(n.title);return r===void 0&&(r=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(n.title,r)),r}createTabStyle(n){return{zIndex:`${n.zIndex}`}}createTabClass(n){let r="lm-TabBar-tab";return n.title.className&&(r+=` ${n.title.className}`),n.title.closable&&(r+=" lm-mod-closable"),n.current&&(r+=" lm-mod-current"),r}createTabDataset(n){return n.title.dataset}createTabARIA(n){var r;return{role:"tab","aria-selected":n.current.toString(),tabindex:`${(r=n.tabIndex)!==null&&r!==void 0?r:"-1"}`}}createIconClass(n){let r="lm-TabBar-tabIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(ac||(ac={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let d=document.createElement("div"),u=document.createElement("ul");u.setAttribute("role","tablist"),u.className="lm-TabBar-content",d.appendChild(u);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),d.appendChild(f),d}t.createNode=e;function i(d){return d instanceof Xp?d:new Xp(d)}t.asTitle=i;function n(d){let u=window.getComputedStyle(d);return 1e3*(parseFloat(u.transitionDuration)||0)}t.parseTransitionDuration=n;function r(d,u){let f=new Array(d.length);for(let h=0,m=d.length;h<m;++h){let p=d[h],_=window.getComputedStyle(p);u==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=r;function s(d,u){let f=Math.abs(u.clientX-d.pressX),h=Math.abs(u.clientY-d.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(d,u){let f=d.contentRect;return u.clientX<f.left-t.DETACH_THRESHOLD||u.clientX>=f.right+t.DETACH_THRESHOLD||u.clientY<f.top-t.DETACH_THRESHOLD||u.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(d,u,f,h){let m,p,_,y;h==="horizontal"?(m=u.pressX,p=f.clientX-u.contentRect.left,_=f.clientX,y=u.contentRect.width):(m=u.pressY,p=f.clientY-u.contentRect.top,_=f.clientY,y=u.contentRect.height);let S=u.index,T=p-u.tabPressPos,D=T+u.tabSize;for(let k=0,b=d.length;k<b;++k){let M,C=u.tabLayout[k],x=C.pos+(C.size>>1);if(k<u.index&&T<x)M=`${u.tabSize+u.tabLayout[k+1].margin}px`,S=Math.min(S,k);else if(k>u.index&&D>x)M=`${-u.tabSize-C.margin}px`,S=Math.max(S,k);else if(k===u.index){let w=_-m,E=y-(u.tabPos+u.tabSize);M=`${Math.max(-u.tabPos,Math.min(w,E))}px`}else M="";h==="horizontal"?d[k].style.left=M:d[k].style.top=M}u.targetIndex=S}t.layoutTabs=a;function l(d,u){let f;u==="horizontal"?f=d.contentRect.width:f=d.contentRect.height;let h;if(d.targetIndex===d.index)h=0;else if(d.targetIndex>d.index){let _=d.tabLayout[d.targetIndex];h=_.pos+_.size-d.tabSize-d.tabPos}else h=d.tabLayout[d.targetIndex].pos-d.tabPos;let m=f-(d.tabPos+d.tabSize),p=Math.max(-d.tabPos,Math.min(h,m));u==="horizontal"?d.tab.style.left=`${p}px`:d.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(d,u){for(let f of d)u==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(js||(js={}));vS=class extends ra{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Zp.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:he.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let n of i.titles)n.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Zp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():ff()}widgets(){return this._root?this._root.iterUserWidgets():ff()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():ff()}tabBars(){return this._root?this._root.iterTabBars():ff()}handles(){return this._root?this._root.iterHandles():ff()}moveHandle(e,i,n){let r=e.classList.contains("lm-mod-hidden");if(!this._root||r)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=n-e.offsetTop,o!==0&&(s.node.holdSizes(),ns.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,n;e.main?n=Zi.normalizeAreaConfig(e.main,i):n=null;let r=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of r)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;n?this._root=Zi.realizeAreaConfig(n,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let n=i.ref||null,r=i.mode||"tab-after",s=null;if(this._root&&n&&(s=this._root.findTabNode(n)),n&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,r){case"tab-after":this._insertTab(e,n,s,!0);break;case"tab-before":this._insertTab(e,n,s,!1);break;case"split-top":this._insertSplit(e,n,s,"vertical",!1);break;case"split-left":this._insertSplit(e,n,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,n,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,n,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,n,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,n,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ii.boxSizing(this.parent.node));let n=this.parent.node.getBoundingClientRect(),r=e-n.left-this._box.borderLeft,s=i-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(r,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:d,height:u}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=n.width-f-(c+d),p=n.height-h-(l+u);return{tabBar:a,x:r,y:s,top:l,left:c,right:m,bottom:p,width:d,height:u}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Ed(e)),this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Zi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===he.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=he.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let n=i.parent;i.parent=null;let r=He.removeFirstOf(n.children,i),s=He.removeAt(n.handles,r);if(He.removeAt(n.sizers,r),s.parentNode&&s.parentNode.removeChild(s),n.children.length>1){n.syncHandles();return}let o=n.parent;n.parent=null;let a=n.children[0],l=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===n){a.parent=null,this._root=a;return}let c=o,d=c.children.indexOf(n);if(a instanceof Zi.TabLayoutNode){a.parent=c,c.children[d]=a;return}let u=He.removeAt(c.handles,d);He.removeAt(c.children,d),He.removeAt(c.sizers,d),u.parentNode&&u.parentNode.removeChild(u);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];He.insert(c.children,d+f,m),He.insert(c.handles,d+f,p),He.insert(c.sizers,d+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Zi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Zi.addAria(e,i.tabBar),i}_insertTab(e,i,n,r){if(e===i)return;if(!this._root){let o=new Zi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Zi.addAria(e,o.tabBar);return}n||(n=this._root.findFirstTabNode()),n.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=n.tabBar.titles.indexOf(i.title):s=n.tabBar.currentIndex,this._hiddenMode===he.HiddenMode.Scale)if(n.tabBar.titles.length===0)e.hiddenMode=he.HiddenMode.Display;else if(n.tabBar.titles.length==1){let o=n.tabBar.titles[0].owner;o.hiddenMode=he.HiddenMode.Scale}else e.hiddenMode=he.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;n.tabBar.insertTab(s+(r?1:0),e.title),Zi.addAria(e,n.tabBar)}_insertSplit(e,i,n,r,s,o=!1){if(e===i&&n&&n.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!n||!n.parent){let f=this._splitRoot(r),h=s?f.children.length:0;f.normalizeSizes();let m=Zi.createSizer(n?1:Zi.GOLDEN_RATIO),p=this._createTabNode(e);He.insert(f.children,h,p),He.insert(f.sizers,h,m),He.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=n.parent;if(a.orientation===r){let f=a.children.indexOf(n);if(o){let _=f+(s?1:-1),y=a.children[_];if(y instanceof Zi.TabLayoutNode){this._insertTab(e,null,y,!0),++y.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);He.insert(a.children,m,p),He.insert(a.sizers,m,Zi.createSizer(h)),He.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=He.removeFirstOf(a.children,n),c=new Zi.SplitLayoutNode(r);c.normalized=!0,c.children.push(n),c.sizers.push(Zi.createSizer(.5)),c.handles.push(this._createHandle()),n.parent=c;let d=s?1:0,u=this._createTabNode(e);He.insert(c.children,d,u),He.insert(c.sizers,d,Zi.createSizer(.5)),He.insert(c.handles,d,this._createHandle()),u.parent=c,c.syncHandles(),He.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Zi.SplitLayoutNode&&i.orientation===e)return i;let n=this._root=new Zi.SplitLayoutNode(e);return i&&(n.children.push(i),n.sizers.push(Zi.createSizer(0)),n.handles.push(this._createHandle()),i.parent=n),n}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let n=this._box=ii.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,he.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,he.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ii.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(n,r,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new ia;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function n(f,h,m){let p;return f.type==="tab-area"?p=d(f,h,m):p=u(f,h,m),p}t.realizeAreaConfig=n;class r{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new ia,p=new ia;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,y=1/0,S=1/0,T=m.get(this.tabBar),D=this.tabBar.currentTitle,k=D?m.get(D.owner):void 0,[b,M]=this.sizers;return T&&T.fit(),k&&k.fit(),T&&!T.isHidden?(p=Math.max(p,T.minWidth),_+=T.minHeight,b.minSize=T.minHeight,b.maxSize=T.maxHeight):(b.minSize=0,b.maxSize=0),k&&!k.isHidden?(p=Math.max(p,k.minWidth),_+=k.minHeight,M.minSize=k.minHeight,M.maxSize=1/0):(M.minSize=0,M.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:y,maxHeight:S}}update(h,m,p,_,y,S){this._top=m,this._left=h,this._width=p,this._height=_;let T=S.get(this.tabBar),D=this.tabBar.currentTitle,k=D?S.get(D.owner):void 0;if(ns.calc(this.sizers,_),T&&!T.isHidden){let b=this.sizers[0].size;T.update(h,m,p,b),m+=b}if(k&&!k.isHidden){let b=this.sizers[1].size;k.update(h,m,p,b)}}}t.TabLayoutNode=r;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].findSplitNode(h);if(y)return y}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].hitTestTabNodes(h,m);if(y)return y}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,y)=>_+y,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,y=p?_:0,S=p?0:_,T=1/0,D=1/0;for(let k=0,b=this.children.length;k<b;++k){let M=this.children[k].fit(h,m);p?(S=Math.max(S,M.minHeight),y+=M.minWidth,this.sizers[k].minSize=M.minWidth):(y=Math.max(y,M.minWidth),S+=M.minHeight,this.sizers[k].minSize=M.minHeight)}return{minWidth:y,minHeight:S,maxWidth:T,maxHeight:D}}update(h,m,p,_,y,S){let T=this.orientation==="horizontal",D=Math.max(0,this.children.length-1)*y,k=Math.max(0,(T?p:_)-D);if(this.normalized){for(let b of this.sizers)b.sizeHint*=k;this.normalized=!1}ns.calc(this.sizers,k);for(let b=0,M=this.children.length;b<M;++b){let C=this.children[b],x=this.sizers[b].size,w=this.handles[b].style;T?(C.update(h,m,x,_,y,S),h+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${y}px`,w.height=`${_}px`,h+=y):(C.update(h,m,p,x,y,S),m+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${p}px`,w.height=`${y}px`,m+=y)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof ac.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let y=0,S=f.children.length;y<S;++y){let T=i(f.children[y],h);T&&(T.type==="tab-area"||T.orientation!==m?(p.push(T),_.push(Math.abs(f.sizes[y]||0))):(p.push(...T.children),_.push(...T.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function d(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new r(p)}function u(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,y)=>{let S=n(_,h,m),T=e(f.sizes[y]),D=h.createHandle();p.children.push(S),p.handles.push(D),p.sizers.push(T),S.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Zi||(Zi={}));Td=class extends he{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Ie(this),this._addRequested=new Ie(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Td.defaultRenderer,this._edges=e.edges||Wi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new vS({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Td.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let n of i.tabBars())n.show();break;case"single-document":i.restoreLayout(Wi.createSingleDocumentConfig(this));break;default:throw"unreachable"}De.postMessage(this,Wi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=uS(this.tabBars(),n=>n.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(wd.IS_EDGE||wd.IS_IE)&&De.flush(),De.postMessage(this,Wi.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),De.postMessage(this,Wi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Wi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Wi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),De.postMessage(this,Wi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:n}=e,{zone:r,target:s}=Wi.findDropTarget(this,i,n,this._edges);if(this._tabsConstrained&&e.source!==this||r==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof he)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Wi.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),De.postMessage(this,Wi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=e.target,r=uS(i.handles(),d=>d.contains(n));if(!r)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=r.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(r),c=tn.overrideCursor(l.cursor,this._document);this._pressData={handle:r,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),n=e.clientX-i.left-this._pressData.deltaX,r=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,r)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),De.postMessage(this,Wi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:n,target:r}=Wi.findDropTarget(this,e,i,this._edges);if(n==="invalid")return this.overlay.hide(100),n;let s,o,a,l,c=ii.boxSizing(this.node),d=this.node.getBoundingClientRect();switch(n){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=d.height*Wi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=d.width*Wi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=d.width*Wi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=d.height*Wi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=r.top,o=r.left,a=r.right,l=r.bottom;break;case"widget-top":s=r.top,o=r.left,a=r.right,l=r.bottom+r.height/2;break;case"widget-left":s=r.top,o=r.left,a=r.right+r.width/2,l=r.bottom;break;case"widget-right":s=r.top,o=r.left+r.width/2,a=r.right,l=r.bottom;break;case"widget-bottom":s=r.top+r.height/2,o=r.left,a=r.right,l=r.bottom;break;case"widget-tab":{let u=r.tabBar.node.getBoundingClientRect().height;s=r.top,o=r.left,a=r.right,l=r.bottom+r.height-u;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),n}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Wi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){De.postMessage(this,Wi.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:n,currentTitle:r}=i;n&&n.owner.hide(),r&&r.owner.show(),(wd.IS_EDGE||wd.IS_IE)&&De.flush(),De.postMessage(this,Wi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:n,tab:r,clientX:s,clientY:o,offset:a}=i,l=new al.MimeData,c=()=>n.owner;l.setData("application/vnd.lumino.widget-factory",c);let d=r.cloneNode(!0);a&&(d.style.top=`-${a.y}px`,d.style.left=`-${a.x}px`),this._drag=new tn({document:this._document,mimeData:l,dragImage:d,proposedAction:"move",supportedActions:"move",source:this}),r.classList.add("lm-mod-hidden");let u=()=>{this._drag=null,r.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(u)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(r){let s=this.node.style;s.top=`${r.top}px`,s.left=`${r.left}px`,s.right=`${r.right}px`,s.bottom=`${r.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(r){if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},r))}}}t.Overlay=e;class i{createTabBar(r){let s=new ac({document:r});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let r=document.createElement("div");return r.className="lm-DockPanel-handle",r}}t.Renderer=i,t.defaultRenderer=new i})(Td||(Td={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new sc("layout-modified"),t.isGeneratedTabBarProperty=new mt({name:"isGeneratedTabBar",create:()=>!1});function e(r){if(r.isEmpty)return{main:null};let s=Array.from(r.widgets()),o=r.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(r,s,o,a){if(!ii.hitTest(r.node,s,o))return{zone:"invalid",target:null};let l=r.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){let T=r.node.getBoundingClientRect(),D=s-T.left+1,k=o-T.top+1,b=T.right-s,M=T.bottom-o;switch(Math.min(k,b,M,D)){case k:if(k<a.top)return{zone:"root-top",target:null};break;case b:if(b<a.right)return{zone:"root-right",target:null};break;case M:if(M<a.bottom)return{zone:"root-bottom",target:null};break;case D:if(D<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:c};let d=c.x-c.left+1,u=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(u<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(d>p&&f>p&&u>_&&h>_)return{zone:"widget-all",target:c};d/=p,u/=_,f/=p,h/=_;let y=Math.min(d,u,f,h),S;switch(y){case d:S="widget-left";break;case u:S="widget-top";break;case f:S="widget-right";break;case h:S="widget-bottom";break;default:throw"unreachable"}return{zone:S,target:c}}t.findDropTarget=i;function n(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}t.getDropRef=n})(Wi||(Wi={}));ol=class extends ra{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new ia],this._columnSizers=[new ia],this._box=null,e.rowCount!==void 0&&_n.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&_n.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=_n.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=_n.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(_n.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(_n.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=_n.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=_n.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let n=this._rowSizers[e];n&&(i=_n.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let n=this._columnSizers[e];n&&(i=_n.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){He.findFirstIndex(this._items,n=>n.widget===e)===-1&&(this._items.push(new Ed(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=He.findFirstIndex(this._items,r=>r.widget===e);if(i===-1)return;let n=He.removeAt(this._items,i);this.parent&&this.detachWidget(e),n.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,n=this.columnCount-1;e.sort(_n.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=ol.getCellConfig(d.widget),f=Math.min(u.row,i),h=Math.min(u.row+u.rowSpan-1,i);_n.distributeMin(this._rowSizers,f,h,d.minHeight)}e.sort(_n.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=ol.getCellConfig(d.widget),f=Math.min(u.column,n),h=Math.min(u.column+u.columnSpan-1,n);_n.distributeMin(this._columnSizers,f,h,d.minWidth)}if(this.fitPolicy==="set-no-constraint"){De.sendMessage(this.parent,he.Msg.UpdateRequest);return}let r=i*this._rowSpacing,s=n*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)r+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=ii.boxSizing(this.parent.node);s+=o.horizontalSum,r+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,he.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,he.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ii.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,d=l*this._columnSpacing;ns.calc(this._rowSizers,Math.max(0,o-c)),ns.calc(this._columnSizers,Math.max(0,s-d));for(let u=0,f=n,h=this.rowCount;u<h;++u)this._rowStarts[u]=f,f+=this._rowSizers[u].size+this._rowSpacing;for(let u=0,f=r,h=this.columnCount;u<h;++u)this._columnStarts[u]=f,f+=this._columnSizers[u].size+this._columnSpacing;for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=ol.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),y=Math.min(m.row+m.rowSpan-1,a),S=Math.min(m.column+m.columnSpan-1,l),T=this._columnStarts[_],D=this._rowStarts[p],k=this._columnStarts[S]+this._columnSizers[S].size-T,b=this._rowStarts[y]+this._rowSizers[y].size-D;h.update(T,D,k,b)}}};(function(t){function e(n){return _n.cellConfigProperty.get(n)}t.getCellConfig=e;function i(n,r){_n.cellConfigProperty.set(n,_n.normalizeConfig(r))}t.setCellConfig=i})(ol||(ol={}));(function(t){t.cellConfigProperty=new mt({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),d=Math.max(0,Math.floor(l.column||0)),u=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:d,rowSpan:u,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function n(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.rowSpan-u.rowSpan}t.rowSpanCmp=n;function r(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.columnSpan-u.columnSpan}t.columnSpanCmp=r;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new ia);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,d,u){if(d<c)return;if(c===d){let m=l[c];m.minSize=Math.max(m.minSize,u);return}let f=0;for(let m=c;m<=d;++m)f+=l[m].minSize;if(f>=u)return;let h=(u-f)/(d-c+1);for(let m=c;m<=d;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof ol&&l.parent.fit()}})(_n||(_n={}));vf=class extends he{constructor(e={}){super({node:a0.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(he.Flag.DisallowLayout),this.renderer=e.renderer||vf.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,n=!0){this._closeChildMenu();let r=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(r===-1){He.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),n&&this.update();return}s===this._menus.length&&s--,r!==s&&(He.move(this._menus,r,s),n&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let n=He.removeAt(this._menus,e);n&&(n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let n=this._menus,r=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:n.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let d=new Array(a);for(let u=0;u<a;++u)d[u]=r.renderItem({title:n[u].title,active:u===s,tabbable:u===o,disabled:n[u].items.length===0,onfocus:()=>{this._tabFocusIndex=u,this.activeIndex=u}}),l+=this._menuItemSizes[u],n[u].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let u=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new na({commands:new Zn}),this._overflowMenu.title.label=u,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let u=n.length-2;u>=a;u--){let f=this.menus[u];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}d[a]=r.renderItem({title:this._overflowMenu.title,active:a===s&&n[a].items.length!==0,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let u=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=n.length-1-m;if(f-l>this._menuItemSizes[p]){let _=u[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),d[a]=r.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),d.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Zt.render(d,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,n=0,r=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];n+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),n>i&&r===-1&&(r=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(n+=this._menuItemSizes[o],n>i){r=o;break}this._overflowIndex=r}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let d=(l+a+o*c)%l;if(this._menus[d].items.length){this._focusItemAt(d);return}}return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=a0.findMnemonic(this._menus,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ii.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=He.findFirstIndex(this.contentNode.children,n=>ii.hitTest(n,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let n=this._positionForMenu(i);na.saveWindowData(),this.activeIndex=i,this._openChildMenu(n)}}_evtMouseMove(e){let i=He.findFirstIndex(this.contentNode.children,r=>ii.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let n=i>=0&&this._childMenu?this._positionForMenu(i):null;na.saveWindowData(),this.activeIndex=i,n&&this._openChildMenu(n)}_positionForMenu(e){let i=this.contentNode.children[e],{left:n,bottom:r}=i.getBoundingClientRect();return{top:r,left:n}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let n=this._childMenu;if(n===i)return;this._childMenu=i,n?n.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,De.sendMessage(this,he.Msg.UpdateRequest);let{left:r,top:s}=e;(typeof r>"u"||typeof s>"u")&&({left:r,top:s}=this._positionForMenu(this._activeIndex)),n||this.addClass("lm-mod-active"),i.items.length>0&&i.open(r,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let n=this._activeIndex,r=this._menus.length;switch(i){case"next":this.activeIndex=n===r-1?0:n+1;break;case"previous":this.activeIndex=n===0?r-1:n-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,...n.disabled?{}:{tabindex:n.tabbable?"0":"-1"},onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.title.icon,n.title.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-MenuBar-itemLabel"},r)}createItemClass(n){let r="lm-MenuBar-item";return n.title.className&&(r+=` ${n.title.className}`),n.active&&!n.disabled&&(r+=" lm-mod-active"),r}createItemDataset(n){return n.title.dataset}createItemARIA(n){return{role:"menuitem","aria-haspopup":"true","aria-disabled":n.disabled?"true":"false"}}createIconClass(n){let r="lm-MenuBar-itemIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}formatLabel(n){let{label:r,mnemonic:s}=n.title;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(vf||(vf={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",n.appendChild(r),r.setAttribute("role","menubar"),n}t.createNode=e;function i(n,r,s){let o=-1,a=-1,l=!1,c=r.toUpperCase();for(let d=0,u=n.length;d<u;++d){let f=(d+s)%u,h=n[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(a0||(a0={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return r.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",r.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),n.appendChild(r),n.appendChild(o),n.appendChild(s),n}t.createNode=e;function i(n,r){return n.thumbNode.contains(r)?"thumb":n.trackNode.contains(r)?"track":n.decrementNode.contains(r)?"decrement":n.incrementNode.contains(r)?"increment":null}t.findPart=i})(xz||(xz={}));yz=class extends ra{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&De.sendMessage(e,he.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,he.Msg.AfterDetach)}},bS=class extends oc{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:he.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===he.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=he.HiddenMode.Scale),i.hiddenMode=he.HiddenMode.Scale):i.hiddenMode=he.HiddenMode.Display,He.insert(this._items,e,new Ed(i)),this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){He.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let n=He.removeAt(this._items,e);this.parent.isAttached&&De.sendMessage(i,he.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,he.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===he.HiddenMode.Scale&&(i.hiddenMode=he.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=he.HiddenMode.Display)),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let n=this._box=ii.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,he.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,he.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let l=0,c=this._items.length;l<c;++l)n+=+!this._items[l].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ii.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l];d.isHidden||(d.widget.node.style.zIndex=`${l}`,d.update(s,r,o,a))}}};(function(t){function e(i){return i.layout||new bS}t.createLayout=e})(wz||(wz={}));(function(t){function e(s){return n[s]}t.orientationFromPlacement=e;function i(s){return r[s]}t.directionFromPlacement=i;let n={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Cz||(Cz={}))});var Tz,l0,uV,Ez,Mz,Iz,hV,fV,mV,pV,gV,_V,vV,bV,ss,xS,In,ll,Rz=$(()=>{r1();Tz=P(t1());mp();l0=P(Jn());fp();Cs();Sz();uV="jp-OutputArea",Ez="jp-OutputArea-child",Mz="jp-OutputArea-output",Iz="jp-OutputArea-prompt",hV="jp-OutputArea-stdin-hiding",fV="jp-OutputPrompt",mV="jp-OutputArea-executeResult",pV="jp-OutputArea-stdin-item",gV="jp-Stdin",_V="jp-Stdin-prompt",vV="jp-Stdin-input",bV="jp-OutputArea-promptOverlay",ss=class extends he{constructor(e){var i,n,r,s;super(),this.outputLengthChanged=new Ie(this),this._onIOPub=a=>{let l=this.model,c=a.header.msg_type,d,f=(a.content.transient||{}).display_id,h;switch(c){case"execute_result":case"display_data":case"stream":case"error":d={...a.content,output_type:c},l.add(d);break;case"clear_output":{let m=a.content.wait;l.clear(m);break}case"update_display_data":if(d={...a.content,output_type:"display_data"},h=this._displayIdMap.get(f),h)for(let m of h)l.set(m,d);break;case"status":{a.content.execution_state==="idle"&&(this._pendingInput=!1);break}default:break}f&&c==="display_data"&&(h=this._displayIdMap.get(f)||[],h.push(l.length-1),this._displayIdMap.set(f,h))},this._onExecuteReply=a=>{let l=this.model,c=a.content;if(c.status!=="ok")return;let d=c&&c.payload;if(!d||!d.length)return;let u=d.filter(m=>m.source==="page");if(!u.length)return;let h={output_type:"display_data",data:JSON.parse(JSON.stringify(u[0])).data,metadata:{}};l.add(h)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new Ie(this),this._toggleScrolling=new Ie(this),this._initialize=new Ie(this),this._outputTracker=new pk({namespace:l0.UUID.uuid4()}),this._inputHistoryScope="global",this._pendingInput=!1,super.layout=new oc,this.addClass(uV),this.contentFactory=(i=e.contentFactory)!==null&&i!==void 0?i:ss.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=(n=e.maxNumberOutputs)!==null&&n!==void 0?n:1/0,this._translator=(r=e.translator)!==null&&r!==void 0?r:ro,this._inputHistoryScope=(s=e.inputHistoryScope)!==null&&s!==void 0?s:"global";let o=this.model=e.model;for(let a=0;a<Math.min(o.length,this._maxNumberOutputs+1);a++){let l=o.get(a);this._insertOutput(a,l)}o.changed.connect(this.onModelChanged,this),o.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,e.done.finally(()=>{this._pendingInput=!1}).catch(()=>{}),this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=i=>{Tz.KernelMessage.isInputRequestMsg(i)&&this.onInputRequest(i,e)})}get inputRequested(){return this._inputRequested}get pendingInput(){return this._pendingInput}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0){console.warn("OutputArea.maxNumberOutputs must be strictly positive.");return}let i=this._maxNumberOutputs;this._maxNumberOutputs=e,i<e&&this._showTrimmedOutputs(i)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,i){switch(i.type){case"add":this._insertOutput(i.newIndex,i.newValues[0]);break;case"remove":if(this.widgets.length)if(this.model.length===0)this._clear();else{let n=i.oldIndex;for(let r=0;r<i.oldValues.length&&n<this.widgets.length;++r){let s=this.widgets[n];s.parent=null,s.dispose()}this._moveDisplayIdIndices(n,i.oldValues.length),this._preventHeightChangeJitter()}break;case"set":this._setOutput(i.newIndex,i.newValues[0]);break;default:break}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}get initialize(){return this._initialize}_addPromptOverlay(){let e=document.createElement("div");e.className=bV,e.addEventListener("click",()=>{this._toggleScrolling.emit()}),this.node.appendChild(e),requestAnimationFrame(()=>{this._initialize.emit()})}_moveDisplayIdIndices(e,i){this._displayIdMap.forEach(n=>{let r=e+i,s=n.length;for(let o=s-1;o>=0;--o){let a=n[o];a>=e&&a<r?n.splice(o,1):a>=r&&(n[o]-=i)}})}onStateChanged(e,i){let n=Math.min(this.model.length,this._maxNumberOutputs);if(i){if(i>=this._maxNumberOutputs)return;this._setOutput(i,this.model.get(i))}else for(let r=0;r<n;r++)this._setOutput(r,this.model.get(r));this.outputLengthChanged.emit(n)}_clear(){if(!this.widgets.length)return;let e=this.widgets.length;for(let i=0;i<e;i++){let n=this.widgets[0];n.parent=null,n.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){let e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(()=>{this.isDisposed||(this.node.style.minHeight="")},50)}onInputRequest(e,i){let n=this.contentFactory,r=e.content.prompt,s=e.content.password,o=new Md;o.addClass(Ez),o.addClass(pV);let a=n.createOutputPrompt();a.addClass(Iz),o.addWidget(a),this._pendingInput=!0;let l=n.createStdin({parent_header:e.header,prompt:r,password:s,future:i,translator:this._translator,inputHistoryScope:this._inputHistoryScope});l.addClass(Mz),o.addWidget(l),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit(l);let c=l.node.getElementsByTagName("input")[0];l.value.then(d=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),o.addClass(hV),this.model.add({output_type:"stream",name:"stdin",text:d+`
`}),c.focus(),this._pendingInput=!1,window.setTimeout(()=>{let u=document.activeElement;o.dispose(),u&&u instanceof HTMLElement&&u.focus()},500)}),this.layout.addWidget(o)}_setOutput(e,i){if(e>=this._maxNumberOutputs)return;let n=this.layout.widgets[e],r=n.widgets?n.widgets.filter(o=>"renderModel"in o).pop():n,s=this.rendermime.preferredMimeType(i.data,i.trusted?"any":"ensure");ll.currentPreferredMimetype.get(r)===s&&ss.isIsolated(s,i.metadata)===r instanceof ll.IsolatedRenderer?r.renderModel(i):(this.layout.widgets[e].dispose(),this._insertOutput(e,i))}_insertOutput(e,i){if(e>this._maxNumberOutputs)return;let n=this.layout;if(e===this._maxNumberOutputs){let r=new ll.TrimmedOutputs(this._maxNumberOutputs,()=>{let s=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(s)});n.insertWidget(e,this._wrappedOutput(r))}else{let r=this.createOutputItem(i);r?r.toggleClass(mV,i.executionCount!==null):r=new he,this._outputTracker.has(r)||this._outputTracker.add(r),n.insertWidget(e,r)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let i=e;i<this.model.length;i++)this._insertOutput(i,this.model.get(i));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){let i=this.createRenderedMimetype(e);return i?this._wrappedOutput(i,e.executionCount):null}createRenderedMimetype(e){let i=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!i)return null;let n=this.rendermime.createRenderer(i);return ss.isIsolated(i,e.metadata)===!0&&(n=new ll.IsolatedRenderer(n)),ll.currentPreferredMimetype.set(n,i),n.renderModel(e).catch(s=>{let o=document.createElement("pre"),a=this._translator.load("jupyterlab");o.textContent=a.__("Javascript Error: %1",s.message),n.node.appendChild(o),n.node.className="lm-Widget jp-RenderedText",n.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")}),n}_wrappedOutput(e,i=null){let n=new ll.OutputPanel;n.addClass(Ez);let r=this.contentFactory.createOutputPrompt();return r.executionCount=i,r.addClass(Iz),n.addWidget(r),e.addClass(Mz),n.addWidget(e),n}};(function(t){async function e(r,s,o,a){var l;let c=!0;a&&Array.isArray(a.tags)&&a.tags.indexOf("raises-exception")!==-1&&(c=!1);let d={code:r,stop_on_error:c},u=(l=o.session)===null||l===void 0?void 0:l.kernel;if(!u)throw new Error("Session has no kernel.");let f=u.requestExecute(d,!1,a);return s.future=f,f.done}t.execute=e;function i(r,s){let o=s[r];return o&&o.isolated!==void 0?!!o.isolated:!!s.isolated}t.isIsolated=i;class n{createOutputPrompt(){return new xS}createStdin(s){return new In(s)}}t.ContentFactory=n,t.defaultContentFactory=new n})(ss||(ss={}));xS=class extends he{constructor(){super(),this._executionCount=null,this.addClass(fV)}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,e===null?this.node.textContent="":this.node.textContent=`[${e}]:`}},In=class extends he{static _historyIx(e,i){let n=In._history.get(e);if(!n)return;let r=n.length;if(i<=0)return r+i}static _historyAt(e,i){let n=In._history.get(e);if(!n)return;let r=n.length,s=In._historyIx(e,i);if(s!==void 0&&s<r)return n[s]}static _historyPush(e,i){let n=In._history.get(e);n.push(i),n.length>1e3&&n.shift()}static _historySearch(e,i,n,r=!0){let s=In._history.get(e),o=s.length,a=In._historyIx(e,n),l=c=>c.search(i)!==-1;if(a!==void 0)if(r){if(a===0)return;let c=s.slice(0,a).findLastIndex(l);if(c!==-1)return c-o}else{if(a>=o-1)return;let c=s.slice(a+1).findIndex(l);if(c!==-1)return c-o+a+1}}constructor(e){var i;super({node:ll.createInputWidgetNode(e.prompt,e.password)}),this._promise=new l0.PromiseDelegate,this._resolved=!1,this.addClass(gV),this._future=e.future,this._historyIndex=0,this._historyKey=e.inputHistoryScope==="session"?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=((i=e.translator)!==null&&i!==void 0?i:ro).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],this._password?this._input.placeholder="":this._input.placeholder=this._trans.__("\u2191\u2193 for history. Search history with c-\u2191/c-\u2193"),In._history.has(this._historyKey)||In._history.set(this._historyKey,[])}get value(){return this._promise.promise.then(()=>this._value)}handleEvent(e){if(this._resolved){e.preventDefault();return}let i=this._input;if(e.type==="keydown"){if(e.key==="Enter")this.resetSearch(),this._future.sendInputReply({status:"ok",value:i.value},this._parentHeader),this._password?this._value+="\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7":(this._value+=i.value,In._historyPush(this._historyKey,i.value)),this._resolved=!0,this._promise.resolve(void 0);else if(e.key==="Escape")this.resetSearch(),i.blur();else if(e.ctrlKey&&(e.key==="ArrowUp"||e.key==="ArrowDown")){this._historyPat===""&&(this._historyPat=i.value);let n=e.key==="ArrowUp",r=In._historySearch(this._historyKey,this._historyPat,this._historyIndex,n);if(r!==void 0){let s=In._historyAt(this._historyKey,r);s!==void 0&&(this._historyIndex===0&&(this._valueCache=i.value),this._setInputValue(s),this._historyIndex=r,e.preventDefault())}}else if(e.key==="ArrowUp"){this.resetSearch();let n=In._historyAt(this._historyKey,this._historyIndex-1);n&&(this._historyIndex===0&&(this._valueCache=i.value),this._setInputValue(n),--this._historyIndex,e.preventDefault())}else if(e.key==="ArrowDown"&&(this.resetSearch(),this._historyIndex!==0))if(this._historyIndex===-1)this._setInputValue(this._valueCache),++this._historyIndex;else{let n=In._historyAt(this._historyKey,this._historyIndex+1);n&&(this._setInputValue(n),++this._historyIndex)}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}};In._history=new Map;(function(t){function e(s,o){let a=document.createElement("div"),l=document.createElement("pre");l.className=_V,l.textContent=s;let c=document.createElement("input");return c.className=vV,o&&(c.type="password"),a.appendChild(l),l.appendChild(c),a}t.createInputWidgetNode=e;class i extends he{constructor(o){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=o;let a=this.node;a.frameBorder="0",a.scrolling="auto",a.addEventListener("load",()=>{a.contentDocument.open(),a.contentDocument.write(this._wrapped.node.innerHTML),a.contentDocument.close();let l=a.contentDocument.body;a.style.height=`${l.scrollHeight}px`,a.heightChangeObserver=new ResizeObserver(()=>{a.style.height=`${l.scrollHeight}px`}),a.heightChangeObserver.observe(l)})}renderModel(o){return this._wrapped.renderModel(o)}}t.IsolatedRenderer=i,t.currentPreferredMimetype=new mt({name:"preferredMimetype",create:s=>""});class n extends Md{constructor(o){super(o)}_onContext(o){this.node.focus()}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(o){super.onAfterDetach(o),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}t.OutputPanel=n;class r extends he{constructor(o,a){let l=document.createElement("div"),c=`The first ${o} are displayed`,d="Show more outputs";l.insertAdjacentHTML("afterbegin",`<a title=${c}>
          <pre>${d}</pre>
        </a>`),super({node:l}),this._onClick=a,this.addClass("jp-TrimmedOutputs"),this.addClass("jp-RenderedHTMLCommon")}handleEvent(o){o.type==="click"&&this._onClick(o)}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("click",this)}onBeforeDetach(o){super.onBeforeDetach(o),this.node.removeEventListener("click",this)}}t.TrimmedOutputs=r})(ll||(ll={}))});var yS=$(()=>{mz();Rz()});var Az,eg,kz=$(()=>{Az=P(Jn());Gc();eg=class extends Ms{constructor(e,i){super(),this._manager=new Az.PromiseDelegate,this._rerenderMimeModel=null,this.mimeType=e.mimeType,i&&(this.manager=i)}set manager(e){e.restored.connect(this._rerender,this),this._manager.resolve(e)}async renderModel(e){let i=e.data[this.mimeType];this.node.textContent="Loading widget...";let n=await this._manager.promise;if(i.model_id==="")return this.hide(),Promise.resolve();let r;try{r=await n.get_model(i.model_id)}catch(o){if(n.restoredStatus){this.node.textContent="Error displaying widget: model not found",this.addClass("jupyter-widgets"),console.error(o);return}this._rerenderMimeModel=e;return}this._rerenderMimeModel=null;let s;try{let o=await n.create_view(r);s=o.luminoWidget||o.pWidget}catch(o){this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets"),console.error(o);return}this.node.textContent="",this.addWidget(s),s.disposed.connect(()=>{this.hide(),i.model_id=""})}dispose(){this.isDisposed||(this._manager=null,super.dispose())}_rerender(){this._rerenderMimeModel&&(this.node.textContent="",this.removeClass("jupyter-widgets"),this.renderModel(this._rerenderMimeModel))}}});function d0(t,e){return t.filter(i=>e.indexOf(i)===-1)}function bf(t,e){return(0,Lz.default)(t,e)}function ni(){return c0.UUID.uuid4()}function oa(t){let e=Object.keys(t),i=[];return e.forEach(function(n){i.push(t[n])}),Promise.all(i).then(n=>{let r={};for(let s=0;s<e.length;s++)r[e[s]]=n[s];return r})}function er(t,e){return function(n){throw e&&console.error(new Error(t)),n}}function lc(t,e,i){for(let n=0;n<e.length;n++){let r=e[n],s=i[n];s instanceof DataView||(s=new DataView(s instanceof ArrayBuffer?s:s.buffer));let o=t;for(let a=0;a<r.length-1;a++)o=o[r[a]];o[r[r.length-1]]=s}}function Nz(t){var e;return(e=typeof t=="object"&&t&&"toJSON"in t)!==null&&e!==void 0?e:!1}function Oz(t){return c0.JSONExt.isObject(t)}function tg(t){let e=[],i=[];function n(s,o){if(Nz(s)&&(s=s.toJSON()),Array.isArray(s)){let a=!1;for(let l=0;l<s.length;l++){let c=s[l];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))a||(s=s.slice(),a=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),i.push(o.concat([l])),s[l]=null;else{let d=n(c,o.concat([l]));d!==c&&(a||(s=s.slice(),a=!0),s[l]=d)}}}else if(Oz(s))for(let a in s){let l=!1;if(Object.prototype.hasOwnProperty.call(s,a)){let c=s[a];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))l||(s=Object.assign({},s),l=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),i.push(o.concat([a])),delete s[a];else{let d=n(c,o.concat([a]));d!==c&&(l||(s=Object.assign({},s),l=!0),s[a]=d)}}}return s}return{state:n(t,[]),buffers:e,buffer_paths:i}}var c0,Lz,sa,u0,Rd=$(()=>{c0=P(Jn()),Lz=P(s6());sa=Object.assign||function(t,...e){for(let i=1;i<e.length;i++){let n=e[i];for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};u0=`<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
<g >
  <g transform="translate(0.24520123,0.93464292)">
    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />
    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />
    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />
  </g>
</g>
</svg>`});function Pz(t,e,i){if(t==null)return this;let n;if(zz.JSONExt.isObject(t)?(n=t,i=e):(n={})[t]=e,i||(i={}),!this._validate(n,i))return!1;let r=i.unset,s=i.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});let l=this.attributes,c=this.changed,d=this._previousAttributes;for(let u in n)e=n[u],bf(l[u],e)||o.push(u),bf(d[u],e)?delete c[u]:c[u]=e,r?delete l[u]:l[u]=e;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=i);for(let u=0;u<o.length;u++)this.trigger("change:"+o[u],this,l[o[u]],i)}if(a)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i)}finally{this._pending=!1,this._changing=!1}return this}var zz,Bz=$(()=>{Rd();zz=P(Jn())});var ig,wS,ng,h0,CS,jz,aa,cl,Hz,SS,Fz,Wz,ES,MS,IS,$z,qz,f0,TS,Uz,_i=$(()=>{ig="1.13.7",wS=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},ng=Array.prototype,h0=Object.prototype,CS=typeof Symbol<"u"?Symbol.prototype:null,jz=ng.push,aa=ng.slice,cl=h0.toString,Hz=h0.hasOwnProperty,SS=typeof ArrayBuffer<"u",Fz=typeof DataView<"u",Wz=Array.isArray,ES=Object.keys,MS=Object.create,IS=SS&&ArrayBuffer.isView,$z=isNaN,qz=isFinite,f0=!{toString:null}.propertyIsEnumerable("toString"),TS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Uz=Math.pow(2,53)-1});function Yt(t,e){return e=e==null?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,t.apply(this,s)}}var Pr=$(()=>{});function tr(t){var e=typeof t;return e==="function"||e==="object"&&!!t}var cc=$(()=>{});function m0(t){return t===null}var Vz=$(()=>{});function xf(t){return t===void 0}var RS=$(()=>{});function yf(t){return t===!0||t===!1||cl.call(t)==="[object Boolean]"}var AS=$(()=>{_i()});function p0(t){return!!(t&&t.nodeType===1)}var Gz=$(()=>{});function Dt(t){var e="[object "+t+"]";return function(i){return cl.call(i)===e}}var Hn=$(()=>{_i()});var Ad,g0=$(()=>{Hn();Ad=Dt("String")});var rg,kS=$(()=>{Hn();rg=Dt("Number")});var LS,Yz=$(()=>{Hn();LS=Dt("Date")});var NS,Kz=$(()=>{Hn();NS=Dt("RegExp")});var OS,Xz=$(()=>{Hn();OS=Dt("Error")});var sg,DS=$(()=>{Hn();sg=Dt("Symbol")});var og,zS=$(()=>{Hn();og=Dt("ArrayBuffer")});var Jz,yV,ri,os=$(()=>{Hn();_i();Jz=Dt("Function"),yV=wS.document&&wS.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof yV!="function"&&(Jz=function(t){return typeof t=="function"||!1});ri=Jz});var PS,Zz=$(()=>{Hn();PS=Dt("Object")});var _0,wf,Cf=$(()=>{_i();Zz();_0=Fz&&(!/\[native code\]/.test(String(DataView))||PS(new DataView(new ArrayBuffer(8)))),wf=typeof Map<"u"&&PS(new Map)});function CV(t){return t!=null&&ri(t.getInt8)&&og(t.buffer)}var wV,dc,v0=$(()=>{Hn();os();zS();Cf();wV=Dt("DataView");dc=_0?CV:wV});var xr,uc=$(()=>{_i();Hn();xr=Wz||Dt("Array")});function Fn(t,e){return t!=null&&Hz.call(t,e)}var dl=$(()=>{_i()});var BS,kd,b0=$(()=>{Hn();dl();BS=Dt("Arguments");(function(){BS(arguments)||(BS=function(t){return Fn(t,"callee")})})();kd=BS});function x0(t){return!sg(t)&&qz(t)&&!isNaN(parseFloat(t))}var Qz=$(()=>{_i();DS()});function Sf(t){return rg(t)&&$z(t)}var jS=$(()=>{_i();kS()});function Ef(t){return function(){return t}}var HS=$(()=>{});function ag(t){return function(e){var i=t(e);return typeof i=="number"&&i>=0&&i<=Uz}}var FS=$(()=>{_i()});function lg(t){return function(e){return e?.[t]}}var WS=$(()=>{});var Ld,y0=$(()=>{WS();Ld=lg("byteLength")});var eP,tP=$(()=>{FS();y0();eP=ag(Ld)});function EV(t){return IS?IS(t)&&!dc(t):eP(t)&&SV.test(cl.call(t))}var SV,cg,$S=$(()=>{_i();v0();HS();tP();SV=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;cg=SS?EV:Ef(!1)});var ci,as=$(()=>{WS();ci=lg("length")});function MV(t){for(var e={},i=t.length,n=0;n<i;++n)e[t[n]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function dg(t,e){e=MV(e);var i=TS.length,n=t.constructor,r=ri(n)&&n.prototype||h0,s="constructor";for(Fn(t,s)&&!e.contains(s)&&e.push(s);i--;)s=TS[i],s in t&&t[s]!==r[s]&&!e.contains(s)&&e.push(s)}var qS=$(()=>{_i();os();dl()});function Mt(t){if(!tr(t))return[];if(ES)return ES(t);var e=[];for(var i in t)Fn(t,i)&&e.push(i);return f0&&dg(t,e),e}var Tn=$(()=>{cc();_i();dl();qS()});function w0(t){if(t==null)return!0;var e=ci(t);return typeof e=="number"&&(xr(t)||Ad(t)||kd(t))?e===0:ci(Mt(t))===0}var iP=$(()=>{as();uc();g0();b0();Tn()});function Mf(t,e){var i=Mt(e),n=i.length;if(t==null)return!n;for(var r=Object(t),s=0;s<n;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}var US=$(()=>{Tn()});function gt(t){if(t instanceof gt)return t;if(!(this instanceof gt))return new gt(t);this._wrapped=t}var Br=$(()=>{_i();gt.VERSION=ig;gt.prototype.value=function(){return this._wrapped};gt.prototype.valueOf=gt.prototype.toJSON=gt.prototype.value;gt.prototype.toString=function(){return String(this._wrapped)}});function C0(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Ld(t))}var nP=$(()=>{y0()});function VS(t,e,i,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:sP(t,e,i,n)}function sP(t,e,i,n){t instanceof gt&&(t=t._wrapped),e instanceof gt&&(e=e._wrapped);var r=cl.call(t);if(r!==cl.call(e))return!1;if(_0&&r=="[object Object]"&&dc(t)){if(!dc(e))return!1;r=rP}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return CS.valueOf.call(t)===CS.valueOf.call(e);case"[object ArrayBuffer]":case rP:return sP(C0(t),C0(e),i,n)}var s=r==="[object Array]";if(!s&&cg(t)){var o=Ld(t);if(o!==Ld(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(ri(a)&&a instanceof a&&ri(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var c=i.length;c--;)if(i[c]===t)return n[c]===e;if(i.push(t),n.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!VS(t[c],e[c],i,n))return!1}else{var d=Mt(t),u;if(c=d.length,Mt(e).length!==c)return!1;for(;c--;)if(u=d[c],!(Fn(e,u)&&VS(t[u],e[u],i,n)))return!1}return i.pop(),n.pop(),!0}function S0(t,e){return VS(t,e)}var rP,oP=$(()=>{Br();_i();y0();$S();os();Cf();v0();Tn();dl();nP();rP="[object DataView]"});function Hs(t){if(!tr(t))return[];var e=[];for(var i in t)e.push(i);return f0&&dg(t,e),e}var If=$(()=>{cc();_i();qS()});function Tf(t){var e=ci(t);return function(i){if(i==null)return!1;var n=Hs(i);if(ci(n))return!1;for(var r=0;r<e;r++)if(!ri(i[t[r]]))return!1;return t!==KS||!ri(i[GS])}}var GS,aP,YS,lP,cP,KS,dP,E0=$(()=>{as();os();If();GS="forEach",aP="has",YS=["clear","delete"],lP=["get",aP,"set"],cP=YS.concat(GS,lP),KS=YS.concat(lP),dP=["add"].concat(YS,GS,aP)});var XS,uP=$(()=>{Hn();Cf();E0();XS=wf?Tf(cP):Dt("Map")});var JS,hP=$(()=>{Hn();Cf();E0();JS=wf?Tf(KS):Dt("WeakMap")});var ZS,fP=$(()=>{Hn();Cf();E0();ZS=wf?Tf(dP):Dt("Set")});var QS,mP=$(()=>{Hn();QS=Dt("WeakSet")});function jr(t){for(var e=Mt(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n}var Nd=$(()=>{Tn()});function M0(t){for(var e=Mt(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n}var pP=$(()=>{Tn()});function Rf(t){for(var e={},i=Mt(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e}var eE=$(()=>{Tn()});function Od(t){var e=[];for(var i in t)ri(t[i])&&e.push(i);return e.sort()}var tE=$(()=>{os()});function Dd(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||i==null)return i;for(var r=1;r<n;r++)for(var s=arguments[r],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||i[c]===void 0)&&(i[c]=s[c])}return i}}var I0=$(()=>{});var ug,iE=$(()=>{I0();If();ug=Dd(Hs)});var hc,T0=$(()=>{I0();Tn();hc=Dd(Mt)});var hg,nE=$(()=>{I0();If();hg=Dd(Hs,!0)});function IV(){return function(){}}function fg(t){if(!tr(t))return{};if(MS)return MS(t);var e=IV();e.prototype=t;var i=new e;return e.prototype=null,i}var rE=$(()=>{cc();_i()});function R0(t,e){var i=fg(t);return e&&hc(i,e),i}var gP=$(()=>{rE();T0()});function A0(t){return tr(t)?xr(t)?t.slice():ug({},t):t}var _P=$(()=>{cc();uc();iE()});function k0(t,e){return e(t),t}var vP=$(()=>{});function mg(t){return xr(t)?t:[t]}var sE=$(()=>{Br();uc();gt.toPath=mg});function vo(t){return gt.toPath(t)}var Af=$(()=>{Br();sE()});function zd(t,e){for(var i=e.length,n=0;n<i;n++){if(t==null)return;t=t[e[n]]}return i?t:void 0}var L0=$(()=>{});function kf(t,e,i){var n=zd(t,vo(e));return xf(n)?i:n}var oE=$(()=>{Af();L0();RS()});function N0(t,e){e=vo(e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(!Fn(t,r))return!1;t=t[r]}return!!i}var bP=$(()=>{dl();Af()});function fc(t){return t}var O0=$(()=>{});function bo(t){return t=hc({},t),function(e){return Mf(e,t)}}var pg=$(()=>{T0();US()});function mc(t){return t=vo(t),function(e){return zd(e,t)}}var D0=$(()=>{L0();Af()});function xo(t,e,i){if(e===void 0)return t;switch(i??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,s){return t.call(e,n,r,s)};case 4:return function(n,r,s,o){return t.call(e,n,r,s,o)}}return function(){return t.apply(e,arguments)}}var Lf=$(()=>{});function gg(t,e,i){return t==null?fc:ri(t)?xo(t,e,i):tr(t)&&!xr(t)?bo(t):mc(t)}var aE=$(()=>{O0();os();cc();uc();pg();D0();Lf()});function Pd(t,e){return gg(t,e,1/0)}var lE=$(()=>{Br();aE();gt.iteratee=Pd});function Kt(t,e,i){return gt.iteratee!==Pd?gt.iteratee(t,e):gg(t,e,i)}var yr=$(()=>{Br();aE();lE()});function z0(t,e,i){e=Kt(e,i);for(var n=Mt(t),r=n.length,s={},o=0;o<r;o++){var a=n[o];s[a]=e(t[a],a,t)}return s}var xP=$(()=>{yr();Tn()});function Nf(){}var cE=$(()=>{});function P0(t){return t==null?Nf:function(e){return kf(t,e)}}var yP=$(()=>{cE();oE()});function B0(t,e,i){var n=Array(Math.max(0,t));e=xo(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n}var wP=$(()=>{Lf()});function Bd(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var dE=$(()=>{});var ul,j0=$(()=>{ul=Date.now||function(){return new Date().getTime()}});function _g(t){var e=function(s){return t[s]},i="(?:"+Mt(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(r,e):s}}var uE=$(()=>{Tn()});var H0,hE=$(()=>{H0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var fE,CP=$(()=>{uE();hE();fE=_g(H0)});var SP,EP=$(()=>{eE();hE();SP=Rf(H0)});var mE,MP=$(()=>{uE();EP();mE=_g(SP)});var pE,gE=$(()=>{Br();pE=gt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function AV(t){return"\\"+TV[t]}function F0(t,e,i){!e&&i&&(e=i),e=hg({},e,gt.templateSettings);var n=RegExp([(e.escape||_E).source,(e.interpolate||_E).source,(e.evaluate||_E).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(n,function(c,d,u,f,h){return s+=t.slice(r,h).replace(RV,AV),r=h+c.length,d?s+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:u?s+=`'+
((__t=(`+u+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!kV.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,gt)};return l.source="function("+o+`){
`+s+"}",l}var _E,TV,RV,kV,IP=$(()=>{nE();Br();gE();_E=/(.)^/,TV={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},RV=/\\|'|\r|\n|\u2028|\u2029/g;kV=/^\s*(\w|\$)+\s*$/});function W0(t,e,i){e=vo(e);var n=e.length;if(!n)return ri(i)?i.call(t):i;for(var r=0;r<n;r++){var s=t?.[e[r]];s===void 0&&(s=i,r=n),t=ri(s)?s.call(t):s}return t}var TP=$(()=>{os();Af()});function $0(t){var e=++LV+"";return t?t+e:e}var LV,RP=$(()=>{LV=0});function q0(t){var e=gt(t);return e._chain=!0,e}var AP=$(()=>{Br()});function vg(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var s=fg(t.prototype),o=t.apply(s,r);return tr(o)?o:s}var vE=$(()=>{rE();cc()});var bE,hl,bg=$(()=>{Pr();vE();Br();bE=Yt(function(t,e){var i=bE.placeholder,n=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===i?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return vg(t,n,this,this,o)};return n});bE.placeholder=gt;hl=bE});var xg,xE=$(()=>{Pr();os();vE();xg=Yt(function(t,e,i){if(!ri(t))throw new TypeError("Bind must be called on a function");var n=Yt(function(r){return vg(t,n,e,this,i.concat(r))});return n})});var di,Hr=$(()=>{FS();as();di=ag(ci)});function Fr(t,e,i,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(t);for(var r=n.length,s=0,o=ci(t);s<o;s++){var a=t[s];if(di(a)&&(xr(a)||kd(a)))if(e>1)Fr(a,e-1,i,n),r=n.length;else for(var l=0,c=a.length;l<c;)n[r++]=a[l++];else i||(n[r++]=a)}return n}var jd=$(()=>{as();Hr();uc();b0()});var yE,kP=$(()=>{Pr();jd();xE();yE=Yt(function(t,e){e=Fr(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=xg(t[n],t)}return t})});function U0(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return Fn(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i}var LP=$(()=>{dl()});var yg,wE=$(()=>{Pr();yg=Yt(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)})});var CE,NP=$(()=>{bg();wE();Br();CE=hl(yg,gt,1)});function V0(t,e,i){var n,r,s,o,a=0;i||(i={});var l=function(){a=i.leading===!1?0:ul(),n=null,o=t.apply(r,s),n||(r=s=null)},c=function(){var d=ul();!a&&i.leading===!1&&(a=d);var u=e-(d-a);return r=this,s=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),a=d,o=t.apply(r,s),n||(r=s=null)):!n&&i.trailing!==!1&&(n=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(n),a=0,n=r=s=null},c}var OP=$(()=>{j0()});function G0(t,e,i){var n,r,s,o,a,l=function(){var d=ul()-r;e>d?n=setTimeout(l,e-d):(n=null,i||(o=t.apply(a,s)),n||(s=a=null))},c=Yt(function(d){return a=this,s=d,r=ul(),n||(n=setTimeout(l,e),i&&(o=t.apply(a,s))),o});return c.cancel=function(){clearTimeout(n),n=s=a=null},c}var DP=$(()=>{Pr();j0()});function Y0(t,e){return hl(e,t)}var zP=$(()=>{bg()});function pc(t){return function(){return!t.apply(this,arguments)}}var K0=$(()=>{});function X0(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}}var PP=$(()=>{});function J0(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}var BP=$(()=>{});function Of(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var SE=$(()=>{});var EE,jP=$(()=>{bg();SE();EE=hl(Of,2)});function Df(t,e,i){e=Kt(e,i);for(var n=Mt(t),r,s=0,o=n.length;s<o;s++)if(r=n[s],e(t[r],r,t))return r}var ME=$(()=>{yr();Tn()});function wg(t){return function(e,i,n){i=Kt(i,n);for(var r=ci(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(i(e[s],s,e))return s;return-1}}var IE=$(()=>{yr();as()});var Hd,Z0=$(()=>{IE();Hd=wg(1)});var Cg,TE=$(()=>{IE();Cg=wg(-1)});function zf(t,e,i,n){i=Kt(i,n,1);for(var r=i(e),s=0,o=ci(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<r?s=a+1:o=a}return s}var RE=$(()=>{yr();as()});function Sg(t,e,i){return function(n,r,s){var o=0,a=ci(n);if(typeof s=="number")t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return s=i(n,r),n[s]===r?s:-1;if(r!==r)return s=e(aa.call(n,o,a),Sf),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===r)return s;return-1}}var AE=$(()=>{as();_i();jS()});var Eg,kE=$(()=>{RE();Z0();AE();Eg=Sg(1,Hd,zf)});var LE,HP=$(()=>{TE();AE();LE=Sg(-1,Cg)});function Fd(t,e,i){var n=di(t)?Hd:Df,r=n(t,e,i);if(r!==void 0&&r!==-1)return t[r]}var NE=$(()=>{Hr();Z0();ME()});function Q0(t,e){return Fd(t,bo(e))}var FP=$(()=>{NE();pg()});function Rn(t,e,i){e=xo(e,i);var n,r;if(di(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var s=Mt(t);for(n=0,r=s.length;n<r;n++)e(t[s[n]],s[n],t)}return t}var gc=$(()=>{Lf();Hr();Tn()});function wr(t,e,i){e=Kt(e,i);for(var n=!di(t)&&Mt(t),r=(n||t).length,s=Array(r),o=0;o<r;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s}var Wd=$(()=>{yr();Hr();Tn()});function Mg(t){var e=function(i,n,r,s){var o=!di(i)&&Mt(i),a=(o||i).length,l=t>0?0:a-1;for(s||(r=i[o?o[l]:l],l+=t);l>=0&&l<a;l+=t){var c=o?o[l]:l;r=n(r,i[c],c,i)}return r};return function(i,n,r,s){var o=arguments.length>=3;return e(i,xo(n,s,4),r,o)}}var OE=$(()=>{Hr();Tn();Lf()});var Ig,WP=$(()=>{OE();Ig=Mg(1)});var ex,$P=$(()=>{OE();ex=Mg(-1)});function ls(t,e,i){var n=[];return e=Kt(e,i),Rn(t,function(r,s,o){e(r,s,o)&&n.push(r)}),n}var Pf=$(()=>{yr();gc()});function tx(t,e,i){return ls(t,pc(Kt(e)),i)}var qP=$(()=>{Pf();K0();yr()});function Tg(t,e,i){e=Kt(e,i);for(var n=!di(t)&&Mt(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0}var UP=$(()=>{yr();Hr();Tn()});function Rg(t,e,i){e=Kt(e,i);for(var n=!di(t)&&Mt(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1}var VP=$(()=>{yr();Hr();Tn()});function ir(t,e,i,n){return di(t)||(t=jr(t)),(typeof i!="number"||n)&&(i=0),Eg(t,e,i)>=0}var Bf=$(()=>{Hr();Nd();kE()});var DE,GP=$(()=>{Pr();os();Wd();L0();Af();DE=Yt(function(t,e,i){var n,r;return ri(e)?r=e:(e=vo(e),n=e.slice(0,-1),e=e[e.length-1]),wr(t,function(s){var o=r;if(!o){if(n&&n.length&&(s=zd(s,n)),s==null)return;o=s[e]}return o==null?o:o.apply(s,i)})})});function _c(t,e){return wr(t,mc(e))}var ix=$(()=>{Wd();D0()});function nx(t,e){return ls(t,bo(e))}var YP=$(()=>{Pf();pg()});function jf(t,e,i){var n=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=di(t)?t:jr(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s>n&&(n=s)}else e=Kt(e,i),Rn(t,function(c,d,u){o=e(c,d,u),(o>r||o===-1/0&&n===-1/0)&&(n=c,r=o)});return n}var zE=$(()=>{Hr();Nd();yr();gc()});function rx(t,e,i){var n=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=di(t)?t:jr(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s<n&&(n=s)}else e=Kt(e,i),Rn(t,function(c,d,u){o=e(c,d,u),(o<r||o===1/0&&n===1/0)&&(n=c,r=o)});return n}var KP=$(()=>{Hr();Nd();yr();gc()});function Hf(t){return t?xr(t)?aa.call(t):Ad(t)?t.match(NV):di(t)?wr(t,fc):jr(t):[]}var NV,PE=$(()=>{uc();_i();g0();Hr();Wd();O0();Nd();NV=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function Ff(t,e,i){if(e==null||i)return di(t)||(t=jr(t)),t[Bd(t.length-1)];var n=Hf(t),r=ci(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=Bd(o,s),l=n[o];n[o]=n[a],n[a]=l}return n.slice(0,e)}var BE=$(()=>{Hr();Nd();as();dE();PE()});function sx(t){return Ff(t,1/0)}var XP=$(()=>{BE()});function ox(t,e,i){var n=0;return e=Kt(e,i),_c(wr(t,function(r,s,o){return{value:r,index:n++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return r.index-s.index}),"value")}var JP=$(()=>{yr();ix();Wd()});function fl(t,e){return function(i,n,r){var s=e?[[],[]]:{};return n=Kt(n,r),Rn(i,function(o,a){var l=n(o,a,i);t(s,o,l)}),s}}var Ag=$(()=>{yr();gc()});var jE,ZP=$(()=>{Ag();dl();jE=fl(function(t,e,i){Fn(t,i)?t[i].push(e):t[i]=[e]})});var HE,QP=$(()=>{Ag();HE=fl(function(t,e,i){t[i]=e})});var FE,eB=$(()=>{Ag();dl();FE=fl(function(t,e,i){Fn(t,i)?t[i]++:t[i]=1})});var WE,tB=$(()=>{Ag();WE=fl(function(t,e,i){t[i?0:1].push(e)},!0)});function ax(t){return t==null?0:di(t)?t.length:Mt(t).length}var iB=$(()=>{Hr();Tn()});function $E(t,e,i){return e in i}var nB=$(()=>{});var kg,qE=$(()=>{Pr();os();Lf();If();nB();jd();kg=Yt(function(t,e){var i={},n=e[0];if(t==null)return i;ri(n)?(e.length>1&&(n=xo(n,e[1])),e=Hs(t)):(n=$E,e=Fr(e,!1,!1),t=Object(t));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=t[o];n(a,o,t)&&(i[o]=a)}return i})});var UE,rB=$(()=>{Pr();os();K0();Wd();jd();Bf();qE();UE=Yt(function(t,e){var i=e[0],n;return ri(i)?(i=pc(i),e.length>1&&(n=e[1])):(e=wr(Fr(e,!1,!1),String),i=function(r,s){return!ir(e,s)}),kg(t,i,n)})});function Wf(t,e,i){return aa.call(t,0,Math.max(0,t.length-(e==null||i?1:e)))}var VE=$(()=>{_i()});function $f(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[0]:Wf(t,t.length-e)}var sB=$(()=>{VE()});function vc(t,e,i){return aa.call(t,e==null||i?1:e)}var GE=$(()=>{_i()});function lx(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[t.length-1]:vc(t,Math.max(0,t.length-e))}var oB=$(()=>{GE()});function cx(t){return ls(t,Boolean)}var aB=$(()=>{Pf()});function dx(t,e){return Fr(t,e,!1)}var lB=$(()=>{jd()});var Lg,YE=$(()=>{Pr();jd();Pf();Bf();Lg=Yt(function(t,e){return e=Fr(e,!0,!0),ls(t,function(i){return!ir(e,i)})})});var KE,cB=$(()=>{Pr();YE();KE=Yt(function(t,e){return Lg(t,e)})});function $d(t,e,i,n){yf(e)||(n=i,i=e,e=!1),i!=null&&(i=Kt(i,n));for(var r=[],s=[],o=0,a=ci(t);o<a;o++){var l=t[o],c=i?i(l,o,t):l;e&&!i?((!o||s!==c)&&r.push(l),s=c):i?ir(s,c)||(s.push(c),r.push(l)):ir(r,l)||r.push(l)}return r}var XE=$(()=>{AS();yr();as();Bf()});var JE,dB=$(()=>{Pr();XE();jd();JE=Yt(function(t){return $d(Fr(t,!0,!0))})});function ux(t){for(var e=[],i=arguments.length,n=0,r=ci(t);n<r;n++){var s=t[n];if(!ir(e,s)){var o;for(o=1;o<i&&ir(arguments[o],s);o++);o===i&&e.push(s)}}return e}var uB=$(()=>{as();Bf()});function qd(t){for(var e=t&&jf(t,ci).length||0,i=Array(e),n=0;n<e;n++)i[n]=_c(t,n);return i}var ZE=$(()=>{zE();as();ix()});var QE,hB=$(()=>{Pr();ZE();QE=Yt(qd)});function hx(t,e){for(var i={},n=0,r=ci(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i}var fB=$(()=>{as()});function fx(t,e,i){e==null&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r}var mB=$(()=>{});function mx(t,e){if(e==null||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(aa.call(t,n,n+=e));return i}var pB=$(()=>{_i()});function qf(t,e){return t._chain?gt(e).chain():e}var eM=$(()=>{Br()});function Uf(t){return Rn(Od(t),function(e){var i=gt[e]=t[e];gt.prototype[e]=function(){var n=[this._wrapped];return jz.apply(n,arguments),qf(this,i.apply(gt,n))}}),gt}var gB=$(()=>{Br();gc();tE();_i();eM()});var _B,vB=$(()=>{Br();gc();_i();eM();Rn(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=ng[t];gt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),qf(this,i)}});Rn(["concat","join","slice"],function(t){var e=ng[t];gt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),qf(this,i)}});_B=gt});var tM={};Uu(tM,{VERSION:()=>ig,after:()=>J0,all:()=>Tg,allKeys:()=>Hs,any:()=>Rg,assign:()=>hc,before:()=>Of,bind:()=>xg,bindAll:()=>yE,chain:()=>q0,chunk:()=>mx,clone:()=>A0,collect:()=>wr,compact:()=>cx,compose:()=>X0,constant:()=>Ef,contains:()=>ir,countBy:()=>FE,create:()=>R0,debounce:()=>G0,default:()=>_B,defaults:()=>hg,defer:()=>CE,delay:()=>yg,detect:()=>Fd,difference:()=>Lg,drop:()=>vc,each:()=>Rn,escape:()=>fE,every:()=>Tg,extend:()=>ug,extendOwn:()=>hc,filter:()=>ls,find:()=>Fd,findIndex:()=>Hd,findKey:()=>Df,findLastIndex:()=>Cg,findWhere:()=>Q0,first:()=>$f,flatten:()=>dx,foldl:()=>Ig,foldr:()=>ex,forEach:()=>Rn,functions:()=>Od,get:()=>kf,groupBy:()=>jE,has:()=>N0,head:()=>$f,identity:()=>fc,include:()=>ir,includes:()=>ir,indexBy:()=>HE,indexOf:()=>Eg,initial:()=>Wf,inject:()=>Ig,intersection:()=>ux,invert:()=>Rf,invoke:()=>DE,isArguments:()=>kd,isArray:()=>xr,isArrayBuffer:()=>og,isBoolean:()=>yf,isDataView:()=>dc,isDate:()=>LS,isElement:()=>p0,isEmpty:()=>w0,isEqual:()=>S0,isError:()=>OS,isFinite:()=>x0,isFunction:()=>ri,isMap:()=>XS,isMatch:()=>Mf,isNaN:()=>Sf,isNull:()=>m0,isNumber:()=>rg,isObject:()=>tr,isRegExp:()=>NS,isSet:()=>ZS,isString:()=>Ad,isSymbol:()=>sg,isTypedArray:()=>cg,isUndefined:()=>xf,isWeakMap:()=>JS,isWeakSet:()=>QS,iteratee:()=>Pd,keys:()=>Mt,last:()=>lx,lastIndexOf:()=>LE,map:()=>wr,mapObject:()=>z0,matcher:()=>bo,matches:()=>bo,max:()=>jf,memoize:()=>U0,methods:()=>Od,min:()=>rx,mixin:()=>Uf,negate:()=>pc,noop:()=>Nf,now:()=>ul,object:()=>hx,omit:()=>UE,once:()=>EE,pairs:()=>M0,partial:()=>hl,partition:()=>WE,pick:()=>kg,pluck:()=>_c,property:()=>mc,propertyOf:()=>P0,random:()=>Bd,range:()=>fx,reduce:()=>Ig,reduceRight:()=>ex,reject:()=>tx,rest:()=>vc,restArguments:()=>Yt,result:()=>W0,sample:()=>Ff,select:()=>ls,shuffle:()=>sx,size:()=>ax,some:()=>Rg,sortBy:()=>ox,sortedIndex:()=>zf,tail:()=>vc,take:()=>$f,tap:()=>k0,template:()=>F0,templateSettings:()=>pE,throttle:()=>V0,times:()=>B0,toArray:()=>Hf,toPath:()=>mg,transpose:()=>qd,unescape:()=>mE,union:()=>JE,uniq:()=>$d,unique:()=>$d,uniqueId:()=>$0,unzip:()=>qd,values:()=>jr,where:()=>nx,without:()=>KE,wrap:()=>Y0,zip:()=>QE});var px=$(()=>{_i();Pr();cc();Vz();RS();AS();Gz();g0();kS();Yz();Kz();Xz();DS();zS();v0();uc();os();b0();Qz();jS();$S();iP();US();oP();uP();hP();fP();mP();Tn();If();Nd();pP();eE();tE();iE();T0();nE();gP();_P();vP();oE();bP();xP();O0();HS();cE();sE();D0();yP();pg();wP();dE();j0();CP();MP();gE();IP();TP();RP();AP();lE();bg();xE();kP();LP();wE();NP();OP();DP();zP();K0();PP();BP();SE();jP();ME();Z0();TE();RE();kE();HP();NE();FP();gc();Wd();WP();$P();Pf();qP();UP();VP();Bf();GP();ix();YP();zE();KP();XP();BE();JP();ZP();QP();eB();tB();PE();iB();qE();rB();sB();VE();oB();GE();aB();lB();cB();XE();dB();uB();YE();ZE();hB();fB();mB();pB();gB();vB()});var iM,bB,xB=$(()=>{px();px();iM=Uf(tM);iM._=iM;bB=iM});var yB={};Uu(yB,{VERSION:()=>ig,after:()=>J0,all:()=>Tg,allKeys:()=>Hs,any:()=>Rg,assign:()=>hc,before:()=>Of,bind:()=>xg,bindAll:()=>yE,chain:()=>q0,chunk:()=>mx,clone:()=>A0,collect:()=>wr,compact:()=>cx,compose:()=>X0,constant:()=>Ef,contains:()=>ir,countBy:()=>FE,create:()=>R0,debounce:()=>G0,default:()=>bB,defaults:()=>hg,defer:()=>CE,delay:()=>yg,detect:()=>Fd,difference:()=>Lg,drop:()=>vc,each:()=>Rn,escape:()=>fE,every:()=>Tg,extend:()=>ug,extendOwn:()=>hc,filter:()=>ls,find:()=>Fd,findIndex:()=>Hd,findKey:()=>Df,findLastIndex:()=>Cg,findWhere:()=>Q0,first:()=>$f,flatten:()=>dx,foldl:()=>Ig,foldr:()=>ex,forEach:()=>Rn,functions:()=>Od,get:()=>kf,groupBy:()=>jE,has:()=>N0,head:()=>$f,identity:()=>fc,include:()=>ir,includes:()=>ir,indexBy:()=>HE,indexOf:()=>Eg,initial:()=>Wf,inject:()=>Ig,intersection:()=>ux,invert:()=>Rf,invoke:()=>DE,isArguments:()=>kd,isArray:()=>xr,isArrayBuffer:()=>og,isBoolean:()=>yf,isDataView:()=>dc,isDate:()=>LS,isElement:()=>p0,isEmpty:()=>w0,isEqual:()=>S0,isError:()=>OS,isFinite:()=>x0,isFunction:()=>ri,isMap:()=>XS,isMatch:()=>Mf,isNaN:()=>Sf,isNull:()=>m0,isNumber:()=>rg,isObject:()=>tr,isRegExp:()=>NS,isSet:()=>ZS,isString:()=>Ad,isSymbol:()=>sg,isTypedArray:()=>cg,isUndefined:()=>xf,isWeakMap:()=>JS,isWeakSet:()=>QS,iteratee:()=>Pd,keys:()=>Mt,last:()=>lx,lastIndexOf:()=>LE,map:()=>wr,mapObject:()=>z0,matcher:()=>bo,matches:()=>bo,max:()=>jf,memoize:()=>U0,methods:()=>Od,min:()=>rx,mixin:()=>Uf,negate:()=>pc,noop:()=>Nf,now:()=>ul,object:()=>hx,omit:()=>UE,once:()=>EE,pairs:()=>M0,partial:()=>hl,partition:()=>WE,pick:()=>kg,pluck:()=>_c,property:()=>mc,propertyOf:()=>P0,random:()=>Bd,range:()=>fx,reduce:()=>Ig,reduceRight:()=>ex,reject:()=>tx,rest:()=>vc,restArguments:()=>Yt,result:()=>W0,sample:()=>Ff,select:()=>ls,shuffle:()=>sx,size:()=>ax,some:()=>Rg,sortBy:()=>ox,sortedIndex:()=>zf,tail:()=>vc,take:()=>$f,tap:()=>k0,template:()=>F0,templateSettings:()=>pE,throttle:()=>V0,times:()=>B0,toArray:()=>Hf,toPath:()=>mg,transpose:()=>qd,unescape:()=>mE,union:()=>JE,uniq:()=>$d,unique:()=>$d,uniqueId:()=>$0,unzip:()=>qd,values:()=>jr,where:()=>nx,without:()=>KE,wrap:()=>Y0,zip:()=>QE});var wB=$(()=>{xB();px()});var Ud=Ve((CB,gx)=>{(function(t,e){"use strict";typeof gx=="object"&&typeof gx.exports=="object"?gx.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(t)})(typeof window<"u"?window:CB,function(t,e){"use strict";var i=[],n=Object.getPrototypeOf,r=i.slice,s=i.flat?function(g){return i.flat.call(g)}:function(g){return i.concat.apply([],g)},o=i.push,a=i.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,f=u.call(Object),h={},m=function(v){return typeof v=="function"&&typeof v.nodeType!="number"&&typeof v.item!="function"},p=function(v){return v!=null&&v===v.window},_=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function S(g,v,I){I=I||_;var R,L,N=I.createElement("script");if(N.text=g,v)for(R in y)L=v[R]||v.getAttribute&&v.getAttribute(R),L&&N.setAttribute(R,L);I.head.appendChild(N).parentNode.removeChild(N)}function T(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?l[c.call(g)]||"object":typeof g}var D="3.7.1",k=/HTML$/i,b=function(g,v){return new b.fn.init(g,v)};b.fn=b.prototype={jquery:D,constructor:b,length:0,toArray:function(){return r.call(this)},get:function(g){return g==null?r.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var v=b.merge(this.constructor(),g);return v.prevObject=this,v},each:function(g){return b.each(this,g)},map:function(g){return this.pushStack(b.map(this,function(v,I){return g.call(v,I,v)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(g,v){return(v+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(g,v){return v%2}))},eq:function(g){var v=this.length,I=+g+(g<0?v:0);return this.pushStack(I>=0&&I<v?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},b.extend=b.fn.extend=function(){var g,v,I,R,L,N,z=arguments[0]||{},V=1,U=arguments.length,te=!1;for(typeof z=="boolean"&&(te=z,z=arguments[V]||{},V++),typeof z!="object"&&!m(z)&&(z={}),V===U&&(z=this,V--);V<U;V++)if((g=arguments[V])!=null)for(v in g)R=g[v],!(v==="__proto__"||z===R)&&(te&&R&&(b.isPlainObject(R)||(L=Array.isArray(R)))?(I=z[v],L&&!Array.isArray(I)?N=[]:!L&&!b.isPlainObject(I)?N={}:N=I,L=!1,z[v]=b.extend(te,N,R)):R!==void 0&&(z[v]=R));return z},b.extend({expando:"jQuery"+(D+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var v,I;return!g||c.call(g)!=="[object Object]"?!1:(v=n(g),v?(I=d.call(v,"constructor")&&v.constructor,typeof I=="function"&&u.call(I)===f):!0)},isEmptyObject:function(g){var v;for(v in g)return!1;return!0},globalEval:function(g,v,I){S(g,{nonce:v&&v.nonce},I)},each:function(g,v){var I,R=0;if(M(g))for(I=g.length;R<I&&v.call(g[R],R,g[R])!==!1;R++);else for(R in g)if(v.call(g[R],R,g[R])===!1)break;return g},text:function(g){var v,I="",R=0,L=g.nodeType;if(!L)for(;v=g[R++];)I+=b.text(v);return L===1||L===11?g.textContent:L===9?g.documentElement.textContent:L===3||L===4?g.nodeValue:I},makeArray:function(g,v){var I=v||[];return g!=null&&(M(Object(g))?b.merge(I,typeof g=="string"?[g]:g):o.call(I,g)),I},inArray:function(g,v,I){return v==null?-1:a.call(v,g,I)},isXMLDoc:function(g){var v=g&&g.namespaceURI,I=g&&(g.ownerDocument||g).documentElement;return!k.test(v||I&&I.nodeName||"HTML")},merge:function(g,v){for(var I=+v.length,R=0,L=g.length;R<I;R++)g[L++]=v[R];return g.length=L,g},grep:function(g,v,I){for(var R,L=[],N=0,z=g.length,V=!I;N<z;N++)R=!v(g[N],N),R!==V&&L.push(g[N]);return L},map:function(g,v,I){var R,L,N=0,z=[];if(M(g))for(R=g.length;N<R;N++)L=v(g[N],N,I),L!=null&&z.push(L);else for(N in g)L=v(g[N],N,I),L!=null&&z.push(L);return s(z)},guid:1,support:h}),typeof Symbol=="function"&&(b.fn[Symbol.iterator]=i[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,v){l["[object "+v+"]"]=v.toLowerCase()});function M(g){var v=!!g&&"length"in g&&g.length,I=T(g);return m(g)||p(g)?!1:I==="array"||v===0||typeof v=="number"&&v>0&&v-1 in g}function C(g,v){return g.nodeName&&g.nodeName.toLowerCase()===v.toLowerCase()}var x=i.pop,w=i.sort,E=i.splice,O="[\\x20\\t\\r\\n\\f]",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g");b.contains=function(g,v){var I=v&&v.parentNode;return g===I||!!(I&&I.nodeType===1&&(g.contains?g.contains(I):g.compareDocumentPosition&&g.compareDocumentPosition(I)&16))};var Q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function X(g,v){return v?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}b.escapeSelector=function(g){return(g+"").replace(Q,X)};var K=_,Y=o;(function(){var g,v,I,R,L,N=Y,z,V,U,te,ue,ve=b.expando,le=0,Re=0,ht=lv(),Lt=lv(),yt=lv(),On=lv(),dn=function(W,J){return W===J&&(L=!0),0},Oo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Do="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Rt="\\["+O+"*("+Do+")(?:"+O+"*([*^$|!~]?=)"+O+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Do+"))|)"+O+"*\\]",qc=":("+Do+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Rt+")*)|.*)\\)|)",Ot=new RegExp(O+"+","g"),zi=new RegExp("^"+O+"*,"+O+"*"),dp=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),Vw=new RegExp(O+"|>"),zo=new RegExp(qc),up=new RegExp("^"+Do+"$"),Po={ID:new RegExp("^#("+Do+")"),CLASS:new RegExp("^\\.("+Do+")"),TAG:new RegExp("^("+Do+"|[*])"),ATTR:new RegExp("^"+Rt),PSEUDO:new RegExp("^"+qc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+Oo+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Dl=/^(?:input|select|textarea|button)$/i,zl=/^h\d$/i,xs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Gw=/[+~]/,Ea=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),Ma=function(W,J){var re="0x"+W.slice(1)-65536;return J||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,re&1023|56320))},JW=function(){Pl()},ZW=dv(function(W){return W.disabled===!0&&C(W,"fieldset")},{dir:"parentNode",next:"legend"});function QW(){try{return z.activeElement}catch{}}try{N.apply(i=r.call(K.childNodes),K.childNodes),i[K.childNodes.length].nodeType}catch{N={apply:function(J,re){Y.apply(J,r.call(re))},call:function(J){Y.apply(J,r.call(arguments,1))}}}function Vt(W,J,re,de){var _e,We,Ge,et,Ye,Ct,dt,pt=J&&J.ownerDocument,St=J?J.nodeType:9;if(re=re||[],typeof W!="string"||!W||St!==1&&St!==9&&St!==11)return re;if(!de&&(Pl(J),J=J||z,U)){if(St!==11&&(Ye=xs.exec(W)))if(_e=Ye[1]){if(St===9)if(Ge=J.getElementById(_e)){if(Ge.id===_e)return N.call(re,Ge),re}else return re;else if(pt&&(Ge=pt.getElementById(_e))&&Vt.contains(J,Ge)&&Ge.id===_e)return N.call(re,Ge),re}else{if(Ye[2])return N.apply(re,J.getElementsByTagName(W)),re;if((_e=Ye[3])&&J.getElementsByClassName)return N.apply(re,J.getElementsByClassName(_e)),re}if(!On[W+" "]&&(!te||!te.test(W))){if(dt=W,pt=J,St===1&&(Vw.test(W)||dp.test(W))){for(pt=Gw.test(W)&&Yw(J.parentNode)||J,(pt!=J||!h.scope)&&((et=J.getAttribute("id"))?et=b.escapeSelector(et):J.setAttribute("id",et=ve)),Ct=hp(W),We=Ct.length;We--;)Ct[We]=(et?"#"+et:":scope")+" "+cv(Ct[We]);dt=Ct.join(",")}try{return N.apply(re,pt.querySelectorAll(dt)),re}catch{On(W,!0)}finally{et===ve&&J.removeAttribute("id")}}}return XA(W.replace(j,"$1"),J,re,de)}function lv(){var W=[];function J(re,de){return W.push(re+" ")>v.cacheLength&&delete J[W.shift()],J[re+" "]=de}return J}function no(W){return W[ve]=!0,W}function $u(W){var J=z.createElement("fieldset");try{return!!W(J)}catch{return!1}finally{J.parentNode&&J.parentNode.removeChild(J),J=null}}function e6(W){return function(J){return C(J,"input")&&J.type===W}}function t6(W){return function(J){return(C(J,"input")||C(J,"button"))&&J.type===W}}function YA(W){return function(J){return"form"in J?J.parentNode&&J.disabled===!1?"label"in J?"label"in J.parentNode?J.parentNode.disabled===W:J.disabled===W:J.isDisabled===W||J.isDisabled!==!W&&ZW(J)===W:J.disabled===W:"label"in J?J.disabled===W:!1}}function Uc(W){return no(function(J){return J=+J,no(function(re,de){for(var _e,We=W([],re.length,J),Ge=We.length;Ge--;)re[_e=We[Ge]]&&(re[_e]=!(de[_e]=re[_e]))})})}function Yw(W){return W&&typeof W.getElementsByTagName<"u"&&W}function Pl(W){var J,re=W?W.ownerDocument||W:K;return re==z||re.nodeType!==9||!re.documentElement||(z=re,V=z.documentElement,U=!b.isXMLDoc(z),ue=V.matches||V.webkitMatchesSelector||V.msMatchesSelector,V.msMatchesSelector&&K!=z&&(J=z.defaultView)&&J.top!==J&&J.addEventListener("unload",JW),h.getById=$u(function(de){return V.appendChild(de).id=b.expando,!z.getElementsByName||!z.getElementsByName(b.expando).length}),h.disconnectedMatch=$u(function(de){return ue.call(de,"*")}),h.scope=$u(function(){return z.querySelectorAll(":scope")}),h.cssHas=$u(function(){try{return z.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),h.getById?(v.filter.ID=function(de){var _e=de.replace(Ea,Ma);return function(We){return We.getAttribute("id")===_e}},v.find.ID=function(de,_e){if(typeof _e.getElementById<"u"&&U){var We=_e.getElementById(de);return We?[We]:[]}}):(v.filter.ID=function(de){var _e=de.replace(Ea,Ma);return function(We){var Ge=typeof We.getAttributeNode<"u"&&We.getAttributeNode("id");return Ge&&Ge.value===_e}},v.find.ID=function(de,_e){if(typeof _e.getElementById<"u"&&U){var We,Ge,et,Ye=_e.getElementById(de);if(Ye){if(We=Ye.getAttributeNode("id"),We&&We.value===de)return[Ye];for(et=_e.getElementsByName(de),Ge=0;Ye=et[Ge++];)if(We=Ye.getAttributeNode("id"),We&&We.value===de)return[Ye]}return[]}}),v.find.TAG=function(de,_e){return typeof _e.getElementsByTagName<"u"?_e.getElementsByTagName(de):_e.querySelectorAll(de)},v.find.CLASS=function(de,_e){if(typeof _e.getElementsByClassName<"u"&&U)return _e.getElementsByClassName(de)},te=[],$u(function(de){var _e;V.appendChild(de).innerHTML="<a id='"+ve+"' href='' disabled='disabled'></a><select id='"+ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",de.querySelectorAll("[selected]").length||te.push("\\["+O+"*(?:value|"+Oo+")"),de.querySelectorAll("[id~="+ve+"-]").length||te.push("~="),de.querySelectorAll("a#"+ve+"+*").length||te.push(".#.+[+~]"),de.querySelectorAll(":checked").length||te.push(":checked"),_e=z.createElement("input"),_e.setAttribute("type","hidden"),de.appendChild(_e).setAttribute("name","D"),V.appendChild(de).disabled=!0,de.querySelectorAll(":disabled").length!==2&&te.push(":enabled",":disabled"),_e=z.createElement("input"),_e.setAttribute("name",""),de.appendChild(_e),de.querySelectorAll("[name='']").length||te.push("\\["+O+"*name"+O+"*="+O+`*(?:''|"")`)}),h.cssHas||te.push(":has"),te=te.length&&new RegExp(te.join("|")),dn=function(de,_e){if(de===_e)return L=!0,0;var We=!de.compareDocumentPosition-!_e.compareDocumentPosition;return We||(We=(de.ownerDocument||de)==(_e.ownerDocument||_e)?de.compareDocumentPosition(_e):1,We&1||!h.sortDetached&&_e.compareDocumentPosition(de)===We?de===z||de.ownerDocument==K&&Vt.contains(K,de)?-1:_e===z||_e.ownerDocument==K&&Vt.contains(K,_e)?1:R?a.call(R,de)-a.call(R,_e):0:We&4?-1:1)}),z}Vt.matches=function(W,J){return Vt(W,null,null,J)},Vt.matchesSelector=function(W,J){if(Pl(W),U&&!On[J+" "]&&(!te||!te.test(J)))try{var re=ue.call(W,J);if(re||h.disconnectedMatch||W.document&&W.document.nodeType!==11)return re}catch{On(J,!0)}return Vt(J,z,null,[W]).length>0},Vt.contains=function(W,J){return(W.ownerDocument||W)!=z&&Pl(W),b.contains(W,J)},Vt.attr=function(W,J){(W.ownerDocument||W)!=z&&Pl(W);var re=v.attrHandle[J.toLowerCase()],de=re&&d.call(v.attrHandle,J.toLowerCase())?re(W,J,!U):void 0;return de!==void 0?de:W.getAttribute(J)},Vt.error=function(W){throw new Error("Syntax error, unrecognized expression: "+W)},b.uniqueSort=function(W){var J,re=[],de=0,_e=0;if(L=!h.sortStable,R=!h.sortStable&&r.call(W,0),w.call(W,dn),L){for(;J=W[_e++];)J===W[_e]&&(de=re.push(_e));for(;de--;)E.call(W,re[de],1)}return R=null,W},b.fn.uniqueSort=function(){return this.pushStack(b.uniqueSort(r.apply(this)))},v=b.expr={cacheLength:50,createPseudo:no,match:Po,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(W){return W[1]=W[1].replace(Ea,Ma),W[3]=(W[3]||W[4]||W[5]||"").replace(Ea,Ma),W[2]==="~="&&(W[3]=" "+W[3]+" "),W.slice(0,4)},CHILD:function(W){return W[1]=W[1].toLowerCase(),W[1].slice(0,3)==="nth"?(W[3]||Vt.error(W[0]),W[4]=+(W[4]?W[5]+(W[6]||1):2*(W[3]==="even"||W[3]==="odd")),W[5]=+(W[7]+W[8]||W[3]==="odd")):W[3]&&Vt.error(W[0]),W},PSEUDO:function(W){var J,re=!W[6]&&W[2];return Po.CHILD.test(W[0])?null:(W[3]?W[2]=W[4]||W[5]||"":re&&zo.test(re)&&(J=hp(re,!0))&&(J=re.indexOf(")",re.length-J)-re.length)&&(W[0]=W[0].slice(0,J),W[2]=re.slice(0,J)),W.slice(0,3))}},filter:{TAG:function(W){var J=W.replace(Ea,Ma).toLowerCase();return W==="*"?function(){return!0}:function(re){return C(re,J)}},CLASS:function(W){var J=ht[W+" "];return J||(J=new RegExp("(^|"+O+")"+W+"("+O+"|$)"))&&ht(W,function(re){return J.test(typeof re.className=="string"&&re.className||typeof re.getAttribute<"u"&&re.getAttribute("class")||"")})},ATTR:function(W,J,re){return function(de){var _e=Vt.attr(de,W);return _e==null?J==="!=":J?(_e+="",J==="="?_e===re:J==="!="?_e!==re:J==="^="?re&&_e.indexOf(re)===0:J==="*="?re&&_e.indexOf(re)>-1:J==="$="?re&&_e.slice(-re.length)===re:J==="~="?(" "+_e.replace(Ot," ")+" ").indexOf(re)>-1:J==="|="?_e===re||_e.slice(0,re.length+1)===re+"-":!1):!0}},CHILD:function(W,J,re,de,_e){var We=W.slice(0,3)!=="nth",Ge=W.slice(-4)!=="last",et=J==="of-type";return de===1&&_e===0?function(Ye){return!!Ye.parentNode}:function(Ye,Ct,dt){var pt,St,st,li,Tr,Xn=We!==Ge?"nextSibling":"previousSibling",ys=Ye.parentNode,Bo=et&&Ye.nodeName.toLowerCase(),qu=!dt&&!et,dr=!1;if(ys){if(We){for(;Xn;){for(st=Ye;st=st[Xn];)if(et?C(st,Bo):st.nodeType===1)return!1;Tr=Xn=W==="only"&&!Tr&&"nextSibling"}return!0}if(Tr=[Ge?ys.firstChild:ys.lastChild],Ge&&qu){for(St=ys[ve]||(ys[ve]={}),pt=St[W]||[],li=pt[0]===le&&pt[1],dr=li&&pt[2],st=li&&ys.childNodes[li];st=++li&&st&&st[Xn]||(dr=li=0)||Tr.pop();)if(st.nodeType===1&&++dr&&st===Ye){St[W]=[le,li,dr];break}}else if(qu&&(St=Ye[ve]||(Ye[ve]={}),pt=St[W]||[],li=pt[0]===le&&pt[1],dr=li),dr===!1)for(;(st=++li&&st&&st[Xn]||(dr=li=0)||Tr.pop())&&!((et?C(st,Bo):st.nodeType===1)&&++dr&&(qu&&(St=st[ve]||(st[ve]={}),St[W]=[le,dr]),st===Ye)););return dr-=_e,dr===de||dr%de===0&&dr/de>=0}}},PSEUDO:function(W,J){var re,de=v.pseudos[W]||v.setFilters[W.toLowerCase()]||Vt.error("unsupported pseudo: "+W);return de[ve]?de(J):de.length>1?(re=[W,W,"",J],v.setFilters.hasOwnProperty(W.toLowerCase())?no(function(_e,We){for(var Ge,et=de(_e,J),Ye=et.length;Ye--;)Ge=a.call(_e,et[Ye]),_e[Ge]=!(We[Ge]=et[Ye])}):function(_e){return de(_e,0,re)}):de}},pseudos:{not:no(function(W){var J=[],re=[],de=Zw(W.replace(j,"$1"));return de[ve]?no(function(_e,We,Ge,et){for(var Ye,Ct=de(_e,null,et,[]),dt=_e.length;dt--;)(Ye=Ct[dt])&&(_e[dt]=!(We[dt]=Ye))}):function(_e,We,Ge){return J[0]=_e,de(J,null,Ge,re),J[0]=null,!re.pop()}}),has:no(function(W){return function(J){return Vt(W,J).length>0}}),contains:no(function(W){return W=W.replace(Ea,Ma),function(J){return(J.textContent||b.text(J)).indexOf(W)>-1}}),lang:no(function(W){return up.test(W||"")||Vt.error("unsupported lang: "+W),W=W.replace(Ea,Ma).toLowerCase(),function(J){var re;do if(re=U?J.lang:J.getAttribute("xml:lang")||J.getAttribute("lang"))return re=re.toLowerCase(),re===W||re.indexOf(W+"-")===0;while((J=J.parentNode)&&J.nodeType===1);return!1}}),target:function(W){var J=t.location&&t.location.hash;return J&&J.slice(1)===W.id},root:function(W){return W===V},focus:function(W){return W===QW()&&z.hasFocus()&&!!(W.type||W.href||~W.tabIndex)},enabled:YA(!1),disabled:YA(!0),checked:function(W){return C(W,"input")&&!!W.checked||C(W,"option")&&!!W.selected},selected:function(W){return W.parentNode&&W.parentNode.selectedIndex,W.selected===!0},empty:function(W){for(W=W.firstChild;W;W=W.nextSibling)if(W.nodeType<6)return!1;return!0},parent:function(W){return!v.pseudos.empty(W)},header:function(W){return zl.test(W.nodeName)},input:function(W){return Dl.test(W.nodeName)},button:function(W){return C(W,"input")&&W.type==="button"||C(W,"button")},text:function(W){var J;return C(W,"input")&&W.type==="text"&&((J=W.getAttribute("type"))==null||J.toLowerCase()==="text")},first:Uc(function(){return[0]}),last:Uc(function(W,J){return[J-1]}),eq:Uc(function(W,J,re){return[re<0?re+J:re]}),even:Uc(function(W,J){for(var re=0;re<J;re+=2)W.push(re);return W}),odd:Uc(function(W,J){for(var re=1;re<J;re+=2)W.push(re);return W}),lt:Uc(function(W,J,re){var de;for(re<0?de=re+J:re>J?de=J:de=re;--de>=0;)W.push(de);return W}),gt:Uc(function(W,J,re){for(var de=re<0?re+J:re;++de<J;)W.push(de);return W})}},v.pseudos.nth=v.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[g]=e6(g);for(g in{submit:!0,reset:!0})v.pseudos[g]=t6(g);function KA(){}KA.prototype=v.filters=v.pseudos,v.setFilters=new KA;function hp(W,J){var re,de,_e,We,Ge,et,Ye,Ct=Lt[W+" "];if(Ct)return J?0:Ct.slice(0);for(Ge=W,et=[],Ye=v.preFilter;Ge;){(!re||(de=zi.exec(Ge)))&&(de&&(Ge=Ge.slice(de[0].length)||Ge),et.push(_e=[])),re=!1,(de=dp.exec(Ge))&&(re=de.shift(),_e.push({value:re,type:de[0].replace(j," ")}),Ge=Ge.slice(re.length));for(We in v.filter)(de=Po[We].exec(Ge))&&(!Ye[We]||(de=Ye[We](de)))&&(re=de.shift(),_e.push({value:re,type:We,matches:de}),Ge=Ge.slice(re.length));if(!re)break}return J?Ge.length:Ge?Vt.error(W):Lt(W,et).slice(0)}function cv(W){for(var J=0,re=W.length,de="";J<re;J++)de+=W[J].value;return de}function dv(W,J,re){var de=J.dir,_e=J.next,We=_e||de,Ge=re&&We==="parentNode",et=Re++;return J.first?function(Ye,Ct,dt){for(;Ye=Ye[de];)if(Ye.nodeType===1||Ge)return W(Ye,Ct,dt);return!1}:function(Ye,Ct,dt){var pt,St,st=[le,et];if(dt){for(;Ye=Ye[de];)if((Ye.nodeType===1||Ge)&&W(Ye,Ct,dt))return!0}else for(;Ye=Ye[de];)if(Ye.nodeType===1||Ge)if(St=Ye[ve]||(Ye[ve]={}),_e&&C(Ye,_e))Ye=Ye[de]||Ye;else{if((pt=St[We])&&pt[0]===le&&pt[1]===et)return st[2]=pt[2];if(St[We]=st,st[2]=W(Ye,Ct,dt))return!0}return!1}}function Kw(W){return W.length>1?function(J,re,de){for(var _e=W.length;_e--;)if(!W[_e](J,re,de))return!1;return!0}:W[0]}function i6(W,J,re){for(var de=0,_e=J.length;de<_e;de++)Vt(W,J[de],re);return re}function uv(W,J,re,de,_e){for(var We,Ge=[],et=0,Ye=W.length,Ct=J!=null;et<Ye;et++)(We=W[et])&&(!re||re(We,de,_e))&&(Ge.push(We),Ct&&J.push(et));return Ge}function Xw(W,J,re,de,_e,We){return de&&!de[ve]&&(de=Xw(de)),_e&&!_e[ve]&&(_e=Xw(_e,We)),no(function(Ge,et,Ye,Ct){var dt,pt,St,st,li=[],Tr=[],Xn=et.length,ys=Ge||i6(J||"*",Ye.nodeType?[Ye]:Ye,[]),Bo=W&&(Ge||!J)?uv(ys,li,W,Ye,Ct):ys;if(re?(st=_e||(Ge?W:Xn||de)?[]:et,re(Bo,st,Ye,Ct)):st=Bo,de)for(dt=uv(st,Tr),de(dt,[],Ye,Ct),pt=dt.length;pt--;)(St=dt[pt])&&(st[Tr[pt]]=!(Bo[Tr[pt]]=St));if(Ge){if(_e||W){if(_e){for(dt=[],pt=st.length;pt--;)(St=st[pt])&&dt.push(Bo[pt]=St);_e(null,st=[],dt,Ct)}for(pt=st.length;pt--;)(St=st[pt])&&(dt=_e?a.call(Ge,St):li[pt])>-1&&(Ge[dt]=!(et[dt]=St))}}else st=uv(st===et?st.splice(Xn,st.length):st),_e?_e(null,et,st,Ct):N.apply(et,st)})}function Jw(W){for(var J,re,de,_e=W.length,We=v.relative[W[0].type],Ge=We||v.relative[" "],et=We?1:0,Ye=dv(function(pt){return pt===J},Ge,!0),Ct=dv(function(pt){return a.call(J,pt)>-1},Ge,!0),dt=[function(pt,St,st){var li=!We&&(st||St!=I)||((J=St).nodeType?Ye(pt,St,st):Ct(pt,St,st));return J=null,li}];et<_e;et++)if(re=v.relative[W[et].type])dt=[dv(Kw(dt),re)];else{if(re=v.filter[W[et].type].apply(null,W[et].matches),re[ve]){for(de=++et;de<_e&&!v.relative[W[de].type];de++);return Xw(et>1&&Kw(dt),et>1&&cv(W.slice(0,et-1).concat({value:W[et-2].type===" "?"*":""})).replace(j,"$1"),re,et<de&&Jw(W.slice(et,de)),de<_e&&Jw(W=W.slice(de)),de<_e&&cv(W))}dt.push(re)}return Kw(dt)}function n6(W,J){var re=J.length>0,de=W.length>0,_e=function(We,Ge,et,Ye,Ct){var dt,pt,St,st=0,li="0",Tr=We&&[],Xn=[],ys=I,Bo=We||de&&v.find.TAG("*",Ct),qu=le+=ys==null?1:Math.random()||.1,dr=Bo.length;for(Ct&&(I=Ge==z||Ge||Ct);li!==dr&&(dt=Bo[li])!=null;li++){if(de&&dt){for(pt=0,!Ge&&dt.ownerDocument!=z&&(Pl(dt),et=!U);St=W[pt++];)if(St(dt,Ge||z,et)){N.call(Ye,dt);break}Ct&&(le=qu)}re&&((dt=!St&&dt)&&st--,We&&Tr.push(dt))}if(st+=li,re&&li!==st){for(pt=0;St=J[pt++];)St(Tr,Xn,Ge,et);if(We){if(st>0)for(;li--;)Tr[li]||Xn[li]||(Xn[li]=x.call(Ye));Xn=uv(Xn)}N.apply(Ye,Xn),Ct&&!We&&Xn.length>0&&st+J.length>1&&b.uniqueSort(Ye)}return Ct&&(le=qu,I=ys),Tr};return re?no(_e):_e}function Zw(W,J){var re,de=[],_e=[],We=yt[W+" "];if(!We){for(J||(J=hp(W)),re=J.length;re--;)We=Jw(J[re]),We[ve]?de.push(We):_e.push(We);We=yt(W,n6(_e,de)),We.selector=W}return We}function XA(W,J,re,de){var _e,We,Ge,et,Ye,Ct=typeof W=="function"&&W,dt=!de&&hp(W=Ct.selector||W);if(re=re||[],dt.length===1){if(We=dt[0]=dt[0].slice(0),We.length>2&&(Ge=We[0]).type==="ID"&&J.nodeType===9&&U&&v.relative[We[1].type]){if(J=(v.find.ID(Ge.matches[0].replace(Ea,Ma),J)||[])[0],J)Ct&&(J=J.parentNode);else return re;W=W.slice(We.shift().value.length)}for(_e=Po.needsContext.test(W)?0:We.length;_e--&&(Ge=We[_e],!v.relative[et=Ge.type]);)if((Ye=v.find[et])&&(de=Ye(Ge.matches[0].replace(Ea,Ma),Gw.test(We[0].type)&&Yw(J.parentNode)||J))){if(We.splice(_e,1),W=de.length&&cv(We),!W)return N.apply(re,de),re;break}}return(Ct||Zw(W,dt))(de,J,!U,re,!J||Gw.test(W)&&Yw(J.parentNode)||J),re}h.sortStable=ve.split("").sort(dn).join("")===ve,Pl(),h.sortDetached=$u(function(W){return W.compareDocumentPosition(z.createElement("fieldset"))&1}),b.find=Vt,b.expr[":"]=b.expr.pseudos,b.unique=b.uniqueSort,Vt.compile=Zw,Vt.select=XA,Vt.setDocument=Pl,Vt.tokenize=hp,Vt.escape=b.escapeSelector,Vt.getText=b.text,Vt.isXML=b.isXMLDoc,Vt.selectors=b.expr,Vt.support=b.support,Vt.uniqueSort=b.uniqueSort})();var ie=function(g,v,I){for(var R=[],L=I!==void 0;(g=g[v])&&g.nodeType!==9;)if(g.nodeType===1){if(L&&b(g).is(I))break;R.push(g)}return R},be=function(g,v){for(var I=[];g;g=g.nextSibling)g.nodeType===1&&g!==v&&I.push(g);return I},Pe=b.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Le(g,v,I){return m(v)?b.grep(g,function(R,L){return!!v.call(R,L,R)!==I}):v.nodeType?b.grep(g,function(R){return R===v!==I}):typeof v!="string"?b.grep(g,function(R){return a.call(v,R)>-1!==I}):b.filter(v,g,I)}b.filter=function(g,v,I){var R=v[0];return I&&(g=":not("+g+")"),v.length===1&&R.nodeType===1?b.find.matchesSelector(R,g)?[R]:[]:b.find.matches(g,b.grep(v,function(L){return L.nodeType===1}))},b.fn.extend({find:function(g){var v,I,R=this.length,L=this;if(typeof g!="string")return this.pushStack(b(g).filter(function(){for(v=0;v<R;v++)if(b.contains(L[v],this))return!0}));for(I=this.pushStack([]),v=0;v<R;v++)b.find(g,L[v],I);return R>1?b.uniqueSort(I):I},filter:function(g){return this.pushStack(Le(this,g||[],!1))},not:function(g){return this.pushStack(Le(this,g||[],!0))},is:function(g){return!!Le(this,typeof g=="string"&&Pe.test(g)?b(g):g||[],!1).length}});var at,Ze=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Je=b.fn.init=function(g,v,I){var R,L;if(!g)return this;if(I=I||at,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?R=[null,g,null]:R=Ze.exec(g),R&&(R[1]||!v))if(R[1]){if(v=v instanceof b?v[0]:v,b.merge(this,b.parseHTML(R[1],v&&v.nodeType?v.ownerDocument||v:_,!0)),we.test(R[1])&&b.isPlainObject(v))for(R in v)m(this[R])?this[R](v[R]):this.attr(R,v[R]);return this}else return L=_.getElementById(R[2]),L&&(this[0]=L,this.length=1),this;else return!v||v.jquery?(v||I).find(g):this.constructor(v).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(m(g))return I.ready!==void 0?I.ready(g):g(b)}return b.makeArray(g,this)};Je.prototype=b.fn,at=b(_);var lt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(g){var v=b(g,this),I=v.length;return this.filter(function(){for(var R=0;R<I;R++)if(b.contains(this,v[R]))return!0})},closest:function(g,v){var I,R=0,L=this.length,N=[],z=typeof g!="string"&&b(g);if(!Pe.test(g)){for(;R<L;R++)for(I=this[R];I&&I!==v;I=I.parentNode)if(I.nodeType<11&&(z?z.index(I)>-1:I.nodeType===1&&b.find.matchesSelector(I,g))){N.push(I);break}}return this.pushStack(N.length>1?b.uniqueSort(N):N)},index:function(g){return g?typeof g=="string"?a.call(b(g),this[0]):a.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,v){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(g,v))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function wt(g,v){for(;(g=g[v])&&g.nodeType!==1;);return g}b.each({parent:function(g){var v=g.parentNode;return v&&v.nodeType!==11?v:null},parents:function(g){return ie(g,"parentNode")},parentsUntil:function(g,v,I){return ie(g,"parentNode",I)},next:function(g){return wt(g,"nextSibling")},prev:function(g){return wt(g,"previousSibling")},nextAll:function(g){return ie(g,"nextSibling")},prevAll:function(g){return ie(g,"previousSibling")},nextUntil:function(g,v,I){return ie(g,"nextSibling",I)},prevUntil:function(g,v,I){return ie(g,"previousSibling",I)},siblings:function(g){return be((g.parentNode||{}).firstChild,g)},children:function(g){return be(g.firstChild)},contents:function(g){return g.contentDocument!=null&&n(g.contentDocument)?g.contentDocument:(C(g,"template")&&(g=g.content||g),b.merge([],g.childNodes))}},function(g,v){b.fn[g]=function(I,R){var L=b.map(this,v,I);return g.slice(-5)!=="Until"&&(R=I),R&&typeof R=="string"&&(L=b.filter(R,L)),this.length>1&&(bt[g]||b.uniqueSort(L),lt.test(g)&&L.reverse()),this.pushStack(L)}});var oi=/[^\x20\t\r\n\f]+/g;function mi(g){var v={};return b.each(g.match(oi)||[],function(I,R){v[R]=!0}),v}b.Callbacks=function(g){g=typeof g=="string"?mi(g):b.extend({},g);var v,I,R,L,N=[],z=[],V=-1,U=function(){for(L=L||g.once,R=v=!0;z.length;V=-1)for(I=z.shift();++V<N.length;)N[V].apply(I[0],I[1])===!1&&g.stopOnFalse&&(V=N.length,I=!1);g.memory||(I=!1),v=!1,L&&(I?N=[]:N="")},te={add:function(){return N&&(I&&!v&&(V=N.length-1,z.push(I)),function ue(ve){b.each(ve,function(le,Re){m(Re)?(!g.unique||!te.has(Re))&&N.push(Re):Re&&Re.length&&T(Re)!=="string"&&ue(Re)})}(arguments),I&&!v&&U()),this},remove:function(){return b.each(arguments,function(ue,ve){for(var le;(le=b.inArray(ve,N,le))>-1;)N.splice(le,1),le<=V&&V--}),this},has:function(ue){return ue?b.inArray(ue,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return L=z=[],N=I="",this},disabled:function(){return!N},lock:function(){return L=z=[],!I&&!v&&(N=I=""),this},locked:function(){return!!L},fireWith:function(ue,ve){return L||(ve=ve||[],ve=[ue,ve.slice?ve.slice():ve],z.push(ve),v||U()),this},fire:function(){return te.fireWith(this,arguments),this},fired:function(){return!!R}};return te};function Ci(g){return g}function ye(g){throw g}function A(g,v,I,R){var L;try{g&&m(L=g.promise)?L.call(g).done(v).fail(I):g&&m(L=g.then)?L.call(g,v,I):v.apply(void 0,[g].slice(R))}catch(N){I.apply(void 0,[N])}}b.extend({Deferred:function(g){var v=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],I="pending",R={state:function(){return I},always:function(){return L.done(arguments).fail(arguments),this},catch:function(N){return R.then(null,N)},pipe:function(){var N=arguments;return b.Deferred(function(z){b.each(v,function(V,U){var te=m(N[U[4]])&&N[U[4]];L[U[1]](function(){var ue=te&&te.apply(this,arguments);ue&&m(ue.promise)?ue.promise().progress(z.notify).done(z.resolve).fail(z.reject):z[U[0]+"With"](this,te?[ue]:arguments)})}),N=null}).promise()},then:function(N,z,V){var U=0;function te(ue,ve,le,Re){return function(){var ht=this,Lt=arguments,yt=function(){var dn,Oo;if(!(ue<U)){if(dn=le.apply(ht,Lt),dn===ve.promise())throw new TypeError("Thenable self-resolution");Oo=dn&&(typeof dn=="object"||typeof dn=="function")&&dn.then,m(Oo)?Re?Oo.call(dn,te(U,ve,Ci,Re),te(U,ve,ye,Re)):(U++,Oo.call(dn,te(U,ve,Ci,Re),te(U,ve,ye,Re),te(U,ve,Ci,ve.notifyWith))):(le!==Ci&&(ht=void 0,Lt=[dn]),(Re||ve.resolveWith)(ht,Lt))}},On=Re?yt:function(){try{yt()}catch(dn){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(dn,On.error),ue+1>=U&&(le!==ye&&(ht=void 0,Lt=[dn]),ve.rejectWith(ht,Lt))}};ue?On():(b.Deferred.getErrorHook?On.error=b.Deferred.getErrorHook():b.Deferred.getStackHook&&(On.error=b.Deferred.getStackHook()),t.setTimeout(On))}}return b.Deferred(function(ue){v[0][3].add(te(0,ue,m(V)?V:Ci,ue.notifyWith)),v[1][3].add(te(0,ue,m(N)?N:Ci)),v[2][3].add(te(0,ue,m(z)?z:ye))}).promise()},promise:function(N){return N!=null?b.extend(N,R):R}},L={};return b.each(v,function(N,z){var V=z[2],U=z[5];R[z[1]]=V.add,U&&V.add(function(){I=U},v[3-N][2].disable,v[3-N][3].disable,v[0][2].lock,v[0][3].lock),V.add(z[3].fire),L[z[0]]=function(){return L[z[0]+"With"](this===L?void 0:this,arguments),this},L[z[0]+"With"]=V.fireWith}),R.promise(L),g&&g.call(L,L),L},when:function(g){var v=arguments.length,I=v,R=Array(I),L=r.call(arguments),N=b.Deferred(),z=function(V){return function(U){R[V]=this,L[V]=arguments.length>1?r.call(arguments):U,--v||N.resolveWith(R,L)}};if(v<=1&&(A(g,N.done(z(I)).resolve,N.reject,!v),N.state()==="pending"||m(L[I]&&L[I].then)))return N.then();for(;I--;)A(L[I],z(I),N.reject);return N.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(g,v){t.console&&t.console.warn&&g&&H.test(g.name)&&t.console.warn("jQuery.Deferred exception: "+g.message,g.stack,v)},b.readyException=function(g){t.setTimeout(function(){throw g})};var F=b.Deferred();b.fn.ready=function(g){return F.then(g).catch(function(v){b.readyException(v)}),this},b.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--b.readyWait:b.isReady)||(b.isReady=!0,!(g!==!0&&--b.readyWait>0)&&F.resolveWith(_,[b]))}}),b.ready.then=F.then;function Z(){_.removeEventListener("DOMContentLoaded",Z),t.removeEventListener("load",Z),b.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?t.setTimeout(b.ready):(_.addEventListener("DOMContentLoaded",Z),t.addEventListener("load",Z));var ae=function(g,v,I,R,L,N,z){var V=0,U=g.length,te=I==null;if(T(I)==="object"){L=!0;for(V in I)ae(g,v,V,I[V],!0,N,z)}else if(R!==void 0&&(L=!0,m(R)||(z=!0),te&&(z?(v.call(g,R),v=null):(te=v,v=function(ue,ve,le){return te.call(b(ue),le)})),v))for(;V<U;V++)v(g[V],I,z?R:R.call(g[V],V,v(g[V],I)));return L?g:te?v.call(g):U?v(g[0],I):N},ce=/^-ms-/,ke=/-([a-z])/g;function tt(g,v){return v.toUpperCase()}function xt(g){return g.replace(ce,"ms-").replace(ke,tt)}var Xt=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Ht(){this.expando=b.expando+Ht.uid++}Ht.uid=1,Ht.prototype={cache:function(g){var v=g[this.expando];return v||(v={},Xt(g)&&(g.nodeType?g[this.expando]=v:Object.defineProperty(g,this.expando,{value:v,configurable:!0}))),v},set:function(g,v,I){var R,L=this.cache(g);if(typeof v=="string")L[xt(v)]=I;else for(R in v)L[xt(R)]=v[R];return L},get:function(g,v){return v===void 0?this.cache(g):g[this.expando]&&g[this.expando][xt(v)]},access:function(g,v,I){return v===void 0||v&&typeof v=="string"&&I===void 0?this.get(g,v):(this.set(g,v,I),I!==void 0?I:v)},remove:function(g,v){var I,R=g[this.expando];if(R!==void 0){if(v!==void 0)for(Array.isArray(v)?v=v.map(xt):(v=xt(v),v=v in R?[v]:v.match(oi)||[]),I=v.length;I--;)delete R[v[I]];(v===void 0||b.isEmptyObject(R))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var v=g[this.expando];return v!==void 0&&!b.isEmptyObject(v)}};var Ce=new Ht,q=new Ht,B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;function Te(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:B.test(g)?JSON.parse(g):g}function Ne(g,v,I){var R;if(I===void 0&&g.nodeType===1)if(R="data-"+v.replace(Me,"-$&").toLowerCase(),I=g.getAttribute(R),typeof I=="string"){try{I=Te(I)}catch{}q.set(g,v,I)}else I=void 0;return I}b.extend({hasData:function(g){return q.hasData(g)||Ce.hasData(g)},data:function(g,v,I){return q.access(g,v,I)},removeData:function(g,v){q.remove(g,v)},_data:function(g,v,I){return Ce.access(g,v,I)},_removeData:function(g,v){Ce.remove(g,v)}}),b.fn.extend({data:function(g,v){var I,R,L,N=this[0],z=N&&N.attributes;if(g===void 0){if(this.length&&(L=q.get(N),N.nodeType===1&&!Ce.get(N,"hasDataAttrs"))){for(I=z.length;I--;)z[I]&&(R=z[I].name,R.indexOf("data-")===0&&(R=xt(R.slice(5)),Ne(N,R,L[R])));Ce.set(N,"hasDataAttrs",!0)}return L}return typeof g=="object"?this.each(function(){q.set(this,g)}):ae(this,function(V){var U;if(N&&V===void 0)return U=q.get(N,g),U!==void 0||(U=Ne(N,g),U!==void 0)?U:void 0;this.each(function(){q.set(this,g,V)})},null,v,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){q.remove(this,g)})}}),b.extend({queue:function(g,v,I){var R;if(g)return v=(v||"fx")+"queue",R=Ce.get(g,v),I&&(!R||Array.isArray(I)?R=Ce.access(g,v,b.makeArray(I)):R.push(I)),R||[]},dequeue:function(g,v){v=v||"fx";var I=b.queue(g,v),R=I.length,L=I.shift(),N=b._queueHooks(g,v),z=function(){b.dequeue(g,v)};L==="inprogress"&&(L=I.shift(),R--),L&&(v==="fx"&&I.unshift("inprogress"),delete N.stop,L.call(g,z,N)),!R&&N&&N.empty.fire()},_queueHooks:function(g,v){var I=v+"queueHooks";return Ce.get(g,I)||Ce.access(g,I,{empty:b.Callbacks("once memory").add(function(){Ce.remove(g,[v+"queue",I])})})}}),b.fn.extend({queue:function(g,v){var I=2;return typeof g!="string"&&(v=g,g="fx",I--),arguments.length<I?b.queue(this[0],g):v===void 0?this:this.each(function(){var R=b.queue(this,g,v);b._queueHooks(this,g),g==="fx"&&R[0]!=="inprogress"&&b.dequeue(this,g)})},dequeue:function(g){return this.each(function(){b.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,v){var I,R=1,L=b.Deferred(),N=this,z=this.length,V=function(){--R||L.resolveWith(N,[N])};for(typeof g!="string"&&(v=g,g=void 0),g=g||"fx";z--;)I=Ce.get(N[z],g+"queueHooks"),I&&I.empty&&(R++,I.empty.add(V));return V(),L.promise(v)}});var ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=new RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),Tt=["Top","Right","Bottom","Left"],ut=_.documentElement,Oi=function(g){return b.contains(g.ownerDocument,g)},cr={composed:!0};ut.getRootNode&&(Oi=function(g){return b.contains(g.ownerDocument,g)||g.getRootNode(cr)===g.ownerDocument});var Si=function(g,v){return g=v||g,g.style.display==="none"||g.style.display===""&&Oi(g)&&b.css(g,"display")==="none"};function At(g,v,I,R){var L,N,z=20,V=R?function(){return R.cur()}:function(){return b.css(g,v,"")},U=V(),te=I&&I[3]||(b.cssNumber[v]?"":"px"),ue=g.nodeType&&(b.cssNumber[v]||te!=="px"&&+U)&&ct.exec(b.css(g,v));if(ue&&ue[3]!==te){for(U=U/2,te=te||ue[3],ue=+U||1;z--;)b.style(g,v,ue+te),(1-N)*(1-(N=V()/U||.5))<=0&&(z=0),ue=ue/N;ue=ue*2,b.style(g,v,ue+te),I=I||[]}return I&&(ue=+ue||+U||0,L=I[1]?ue+(I[1]+1)*I[2]:+I[2],R&&(R.unit=te,R.start=ue,R.end=L)),L}var _s={};function Ai(g){var v,I=g.ownerDocument,R=g.nodeName,L=_s[R];return L||(v=I.body.appendChild(I.createElement(R)),L=b.css(v,"display"),v.parentNode.removeChild(v),L==="none"&&(L="block"),_s[R]=L,L)}function Gi(g,v){for(var I,R,L=[],N=0,z=g.length;N<z;N++)R=g[N],R.style&&(I=R.style.display,v?(I==="none"&&(L[N]=Ce.get(R,"display")||null,L[N]||(R.style.display="")),R.style.display===""&&Si(R)&&(L[N]=Ai(R))):I!=="none"&&(L[N]="none",Ce.set(R,"display",I)));for(N=0;N<z;N++)L[N]!=null&&(g[N].style.display=L[N]);return g}b.fn.extend({show:function(){return Gi(this,!0)},hide:function(){return Gi(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){Si(this)?b(this).show():b(this).hide()})}});var ya=/^(?:checkbox|radio)$/i,vs=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=_.createDocumentFragment(),v=g.appendChild(_.createElement("div")),I=_.createElement("input");I.setAttribute("type","radio"),I.setAttribute("checked","checked"),I.setAttribute("name","t"),v.appendChild(I),h.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue,v.innerHTML="<option></option>",h.option=!!v.lastChild})();var Nn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nn.tbody=Nn.tfoot=Nn.colgroup=Nn.caption=Nn.thead,Nn.th=Nn.td,h.option||(Nn.optgroup=Nn.option=[1,"<select multiple='multiple'>","</select>"]);function ln(g,v){var I;return typeof g.getElementsByTagName<"u"?I=g.getElementsByTagName(v||"*"):typeof g.querySelectorAll<"u"?I=g.querySelectorAll(v||"*"):I=[],v===void 0||v&&C(g,v)?b.merge([g],I):I}function Xm(g,v){for(var I=0,R=g.length;I<R;I++)Ce.set(g[I],"globalEval",!v||Ce.get(v[I],"globalEval"))}var to=/<|&#?\w+;/;function Q_(g,v,I,R,L){for(var N,z,V,U,te,ue,ve=v.createDocumentFragment(),le=[],Re=0,ht=g.length;Re<ht;Re++)if(N=g[Re],N||N===0)if(T(N)==="object")b.merge(le,N.nodeType?[N]:N);else if(!to.test(N))le.push(v.createTextNode(N));else{for(z=z||ve.appendChild(v.createElement("div")),V=(vs.exec(N)||["",""])[1].toLowerCase(),U=Nn[V]||Nn._default,z.innerHTML=U[1]+b.htmlPrefilter(N)+U[2],ue=U[0];ue--;)z=z.lastChild;b.merge(le,z.childNodes),z=ve.firstChild,z.textContent=""}for(ve.textContent="",Re=0;N=le[Re++];){if(R&&b.inArray(N,R)>-1){L&&L.push(N);continue}if(te=Oi(N),z=ln(ve.appendChild(N),"script"),te&&Xm(z),I)for(ue=0;N=z[ue++];)wa.test(N.type||"")&&I.push(N)}return ve}var Jm=/^([^.]*)(?:\.(.+)|)/;function kl(){return!0}function Ll(){return!1}function Zm(g,v,I,R,L,N){var z,V;if(typeof v=="object"){typeof I!="string"&&(R=R||I,I=void 0);for(V in v)Zm(g,V,I,R,v[V],N);return g}if(R==null&&L==null?(L=I,R=I=void 0):L==null&&(typeof I=="string"?(L=R,R=void 0):(L=R,R=I,I=void 0)),L===!1)L=Ll;else if(!L)return g;return N===1&&(z=L,L=function(U){return b().off(U),z.apply(this,arguments)},L.guid=z.guid||(z.guid=b.guid++)),g.each(function(){b.event.add(this,v,L,R,I)})}b.event={global:{},add:function(g,v,I,R,L){var N,z,V,U,te,ue,ve,le,Re,ht,Lt,yt=Ce.get(g);if(Xt(g))for(I.handler&&(N=I,I=N.handler,L=N.selector),L&&b.find.matchesSelector(ut,L),I.guid||(I.guid=b.guid++),(U=yt.events)||(U=yt.events=Object.create(null)),(z=yt.handle)||(z=yt.handle=function(On){return typeof b<"u"&&b.event.triggered!==On.type?b.event.dispatch.apply(g,arguments):void 0}),v=(v||"").match(oi)||[""],te=v.length;te--;)V=Jm.exec(v[te])||[],Re=Lt=V[1],ht=(V[2]||"").split(".").sort(),Re&&(ve=b.event.special[Re]||{},Re=(L?ve.delegateType:ve.bindType)||Re,ve=b.event.special[Re]||{},ue=b.extend({type:Re,origType:Lt,data:R,handler:I,guid:I.guid,selector:L,needsContext:L&&b.expr.match.needsContext.test(L),namespace:ht.join(".")},N),(le=U[Re])||(le=U[Re]=[],le.delegateCount=0,(!ve.setup||ve.setup.call(g,R,ht,z)===!1)&&g.addEventListener&&g.addEventListener(Re,z)),ve.add&&(ve.add.call(g,ue),ue.handler.guid||(ue.handler.guid=I.guid)),L?le.splice(le.delegateCount++,0,ue):le.push(ue),b.event.global[Re]=!0)},remove:function(g,v,I,R,L){var N,z,V,U,te,ue,ve,le,Re,ht,Lt,yt=Ce.hasData(g)&&Ce.get(g);if(!(!yt||!(U=yt.events))){for(v=(v||"").match(oi)||[""],te=v.length;te--;){if(V=Jm.exec(v[te])||[],Re=Lt=V[1],ht=(V[2]||"").split(".").sort(),!Re){for(Re in U)b.event.remove(g,Re+v[te],I,R,!0);continue}for(ve=b.event.special[Re]||{},Re=(R?ve.delegateType:ve.bindType)||Re,le=U[Re]||[],V=V[2]&&new RegExp("(^|\\.)"+ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),z=N=le.length;N--;)ue=le[N],(L||Lt===ue.origType)&&(!I||I.guid===ue.guid)&&(!V||V.test(ue.namespace))&&(!R||R===ue.selector||R==="**"&&ue.selector)&&(le.splice(N,1),ue.selector&&le.delegateCount--,ve.remove&&ve.remove.call(g,ue));z&&!le.length&&((!ve.teardown||ve.teardown.call(g,ht,yt.handle)===!1)&&b.removeEvent(g,Re,yt.handle),delete U[Re])}b.isEmptyObject(U)&&Ce.remove(g,"handle events")}},dispatch:function(g){var v,I,R,L,N,z,V=new Array(arguments.length),U=b.event.fix(g),te=(Ce.get(this,"events")||Object.create(null))[U.type]||[],ue=b.event.special[U.type]||{};for(V[0]=U,v=1;v<arguments.length;v++)V[v]=arguments[v];if(U.delegateTarget=this,!(ue.preDispatch&&ue.preDispatch.call(this,U)===!1)){for(z=b.event.handlers.call(this,U,te),v=0;(L=z[v++])&&!U.isPropagationStopped();)for(U.currentTarget=L.elem,I=0;(N=L.handlers[I++])&&!U.isImmediatePropagationStopped();)(!U.rnamespace||N.namespace===!1||U.rnamespace.test(N.namespace))&&(U.handleObj=N,U.data=N.data,R=((b.event.special[N.origType]||{}).handle||N.handler).apply(L.elem,V),R!==void 0&&(U.result=R)===!1&&(U.preventDefault(),U.stopPropagation()));return ue.postDispatch&&ue.postDispatch.call(this,U),U.result}},handlers:function(g,v){var I,R,L,N,z,V=[],U=v.delegateCount,te=g.target;if(U&&te.nodeType&&!(g.type==="click"&&g.button>=1)){for(;te!==this;te=te.parentNode||this)if(te.nodeType===1&&!(g.type==="click"&&te.disabled===!0)){for(N=[],z={},I=0;I<U;I++)R=v[I],L=R.selector+" ",z[L]===void 0&&(z[L]=R.needsContext?b(L,this).index(te)>-1:b.find(L,this,null,[te]).length),z[L]&&N.push(R);N.length&&V.push({elem:te,handlers:N})}}return te=this,U<v.length&&V.push({elem:te,handlers:v.slice(U)}),V},addProp:function(g,v){Object.defineProperty(b.Event.prototype,g,{enumerable:!0,configurable:!0,get:m(v)?function(){if(this.originalEvent)return v(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(I){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:I})}})},fix:function(g){return g[b.expando]?g:new b.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var v=this||g;return ya.test(v.type)&&v.click&&C(v,"input")&&Bc(v,"click",!0),!1},trigger:function(g){var v=this||g;return ya.test(v.type)&&v.click&&C(v,"input")&&Bc(v,"click"),!0},_default:function(g){var v=g.target;return ya.test(v.type)&&v.click&&C(v,"input")&&Ce.get(v,"click")||C(v,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Bc(g,v,I){if(!I){Ce.get(g,v)===void 0&&b.event.add(g,v,kl);return}Ce.set(g,v,!1),b.event.add(g,v,{namespace:!1,handler:function(R){var L,N=Ce.get(this,v);if(R.isTrigger&1&&this[v]){if(N)(b.event.special[v]||{}).delegateType&&R.stopPropagation();else if(N=r.call(arguments),Ce.set(this,v,N),this[v](),L=Ce.get(this,v),Ce.set(this,v,!1),N!==L)return R.stopImmediatePropagation(),R.preventDefault(),L}else N&&(Ce.set(this,v,b.event.trigger(N[0],N.slice(1),this)),R.stopPropagation(),R.isImmediatePropagationStopped=kl)}})}b.removeEvent=function(g,v,I){g.removeEventListener&&g.removeEventListener(v,I)},b.Event=function(g,v){if(!(this instanceof b.Event))return new b.Event(g,v);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?kl:Ll,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,v&&b.extend(this,v),this.timeStamp=g&&g.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Ll,isPropagationStopped:Ll,isImmediatePropagationStopped:Ll,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=kl,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=kl,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=kl,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(g,v){function I(R){if(_.documentMode){var L=Ce.get(this,"handle"),N=b.event.fix(R);N.type=R.type==="focusin"?"focus":"blur",N.isSimulated=!0,L(R),N.target===N.currentTarget&&L(N)}else b.event.simulate(v,R.target,b.event.fix(R))}b.event.special[g]={setup:function(){var R;if(Bc(this,g,!0),_.documentMode)R=Ce.get(this,v),R||this.addEventListener(v,I),Ce.set(this,v,(R||0)+1);else return!1},trigger:function(){return Bc(this,g),!0},teardown:function(){var R;if(_.documentMode)R=Ce.get(this,v)-1,R?Ce.set(this,v,R):(this.removeEventListener(v,I),Ce.remove(this,v));else return!1},_default:function(R){return Ce.get(R.target,g)},delegateType:v},b.event.special[v]={setup:function(){var R=this.ownerDocument||this.document||this,L=_.documentMode?this:R,N=Ce.get(L,v);N||(_.documentMode?this.addEventListener(v,I):R.addEventListener(g,I,!0)),Ce.set(L,v,(N||0)+1)},teardown:function(){var R=this.ownerDocument||this.document||this,L=_.documentMode?this:R,N=Ce.get(L,v)-1;N?Ce.set(L,v,N):(_.documentMode?this.removeEventListener(v,I):R.removeEventListener(g,I,!0),Ce.remove(L,v))}}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,v){b.event.special[g]={delegateType:v,bindType:v,handle:function(I){var R,L=this,N=I.relatedTarget,z=I.handleObj;return(!N||N!==L&&!b.contains(L,N))&&(I.type=z.origType,R=z.handler.apply(this,arguments),I.type=v),R}}}),b.fn.extend({on:function(g,v,I,R){return Zm(this,g,v,I,R)},one:function(g,v,I,R){return Zm(this,g,v,I,R,1)},off:function(g,v,I){var R,L;if(g&&g.preventDefault&&g.handleObj)return R=g.handleObj,b(g.delegateTarget).off(R.namespace?R.origType+"."+R.namespace:R.origType,R.selector,R.handler),this;if(typeof g=="object"){for(L in g)this.off(L,v,g[L]);return this}return(v===!1||typeof v=="function")&&(I=v,v=void 0),I===!1&&(I=Ll),this.each(function(){b.event.remove(this,g,I,v)})}});var Qm=/<script|<style|<link/i,ep=/checked\s*(?:[^=]|=\s*.checked.)/i,ev=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function tv(g,v){return C(g,"table")&&C(v.nodeType!==11?v:v.firstChild,"tr")&&b(g).children("tbody")[0]||g}function Ow(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function iv(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function nv(g,v){var I,R,L,N,z,V,U;if(v.nodeType===1){if(Ce.hasData(g)&&(N=Ce.get(g),U=N.events,U)){Ce.remove(v,"handle events");for(L in U)for(I=0,R=U[L].length;I<R;I++)b.event.add(v,L,U[L][I])}q.hasData(g)&&(z=q.access(g),V=b.extend({},z),q.set(v,V))}}function Dw(g,v){var I=v.nodeName.toLowerCase();I==="input"&&ya.test(g.type)?v.checked=g.checked:(I==="input"||I==="textarea")&&(v.defaultValue=g.defaultValue)}function Lo(g,v,I,R){v=s(v);var L,N,z,V,U,te,ue=0,ve=g.length,le=ve-1,Re=v[0],ht=m(Re);if(ht||ve>1&&typeof Re=="string"&&!h.checkClone&&ep.test(Re))return g.each(function(Lt){var yt=g.eq(Lt);ht&&(v[0]=Re.call(this,Lt,yt.html())),Lo(yt,v,I,R)});if(ve&&(L=Q_(v,g[0].ownerDocument,!1,g,R),N=L.firstChild,L.childNodes.length===1&&(L=N),N||R)){for(z=b.map(ln(L,"script"),Ow),V=z.length;ue<ve;ue++)U=L,ue!==le&&(U=b.clone(U,!0,!0),V&&b.merge(z,ln(U,"script"))),I.call(g[ue],U,ue);if(V)for(te=z[z.length-1].ownerDocument,b.map(z,iv),ue=0;ue<V;ue++)U=z[ue],wa.test(U.type||"")&&!Ce.access(U,"globalEval")&&b.contains(te,U)&&(U.src&&(U.type||"").toLowerCase()!=="module"?b._evalUrl&&!U.noModule&&b._evalUrl(U.src,{nonce:U.nonce||U.getAttribute("nonce")},te):S(U.textContent.replace(ev,""),U,te))}return g}function Ou(g,v,I){for(var R,L=v?b.filter(v,g):g,N=0;(R=L[N])!=null;N++)!I&&R.nodeType===1&&b.cleanData(ln(R)),R.parentNode&&(I&&Oi(R)&&Xm(ln(R,"script")),R.parentNode.removeChild(R));return g}b.extend({htmlPrefilter:function(g){return g},clone:function(g,v,I){var R,L,N,z,V=g.cloneNode(!0),U=Oi(g);if(!h.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!b.isXMLDoc(g))for(z=ln(V),N=ln(g),R=0,L=N.length;R<L;R++)Dw(N[R],z[R]);if(v)if(I)for(N=N||ln(g),z=z||ln(V),R=0,L=N.length;R<L;R++)nv(N[R],z[R]);else nv(g,V);return z=ln(V,"script"),z.length>0&&Xm(z,!U&&ln(g,"script")),V},cleanData:function(g){for(var v,I,R,L=b.event.special,N=0;(I=g[N])!==void 0;N++)if(Xt(I)){if(v=I[Ce.expando]){if(v.events)for(R in v.events)L[R]?b.event.remove(I,R):b.removeEvent(I,R,v.handle);I[Ce.expando]=void 0}I[q.expando]&&(I[q.expando]=void 0)}}}),b.fn.extend({detach:function(g){return Ou(this,g,!0)},remove:function(g){return Ou(this,g)},text:function(g){return ae(this,function(v){return v===void 0?b.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=v)})},null,g,arguments.length)},append:function(){return Lo(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=tv(this,g);v.appendChild(g)}})},prepend:function(){return Lo(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=tv(this,g);v.insertBefore(g,v.firstChild)}})},before:function(){return Lo(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Lo(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,v=0;(g=this[v])!=null;v++)g.nodeType===1&&(b.cleanData(ln(g,!1)),g.textContent="");return this},clone:function(g,v){return g=g??!1,v=v??g,this.map(function(){return b.clone(this,g,v)})},html:function(g){return ae(this,function(v){var I=this[0]||{},R=0,L=this.length;if(v===void 0&&I.nodeType===1)return I.innerHTML;if(typeof v=="string"&&!Qm.test(v)&&!Nn[(vs.exec(v)||["",""])[1].toLowerCase()]){v=b.htmlPrefilter(v);try{for(;R<L;R++)I=this[R]||{},I.nodeType===1&&(b.cleanData(ln(I,!1)),I.innerHTML=v);I=0}catch{}}I&&this.empty().append(v)},null,g,arguments.length)},replaceWith:function(){var g=[];return Lo(this,arguments,function(v){var I=this.parentNode;b.inArray(this,g)<0&&(b.cleanData(ln(this)),I&&I.replaceChild(v,this))},g)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,v){b.fn[g]=function(I){for(var R,L=[],N=b(I),z=N.length-1,V=0;V<=z;V++)R=V===z?this:this.clone(!0),b(N[V])[v](R),o.apply(L,R.get());return this.pushStack(L)}});var Du=new RegExp("^("+ot+")(?!px)[a-z%]+$","i"),io=/^--/,zu=function(g){var v=g.ownerDocument.defaultView;return(!v||!v.opener)&&(v=t),v.getComputedStyle(g)},tp=function(g,v,I){var R,L,N={};for(L in v)N[L]=g.style[L],g.style[L]=v[L];R=I.call(g);for(L in v)g.style[L]=N[L];return R},zw=new RegExp(Tt.join("|"),"i");(function(){function g(){if(te){U.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",te.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ut.appendChild(U).appendChild(te);var ue=t.getComputedStyle(te);I=ue.top!=="1%",V=v(ue.marginLeft)===12,te.style.right="60%",N=v(ue.right)===36,R=v(ue.width)===36,te.style.position="absolute",L=v(te.offsetWidth/3)===12,ut.removeChild(U),te=null}}function v(ue){return Math.round(parseFloat(ue))}var I,R,L,N,z,V,U=_.createElement("div"),te=_.createElement("div");te.style&&(te.style.backgroundClip="content-box",te.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle=te.style.backgroundClip==="content-box",b.extend(h,{boxSizingReliable:function(){return g(),R},pixelBoxStyles:function(){return g(),N},pixelPosition:function(){return g(),I},reliableMarginLeft:function(){return g(),V},scrollboxSize:function(){return g(),L},reliableTrDimensions:function(){var ue,ve,le,Re;return z==null&&(ue=_.createElement("table"),ve=_.createElement("tr"),le=_.createElement("div"),ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ve.style.cssText="box-sizing:content-box;border:1px solid",ve.style.height="1px",le.style.height="9px",le.style.display="block",ut.appendChild(ue).appendChild(ve).appendChild(le),Re=t.getComputedStyle(ve),z=parseInt(Re.height,10)+parseInt(Re.borderTopWidth,10)+parseInt(Re.borderBottomWidth,10)===ve.offsetHeight,ut.removeChild(ue)),z}}))})();function jc(g,v,I){var R,L,N,z,V=io.test(v),U=g.style;return I=I||zu(g),I&&(z=I.getPropertyValue(v)||I[v],V&&z&&(z=z.replace(j,"$1")||void 0),z===""&&!Oi(g)&&(z=b.style(g,v)),!h.pixelBoxStyles()&&Du.test(z)&&zw.test(v)&&(R=U.width,L=U.minWidth,N=U.maxWidth,U.minWidth=U.maxWidth=U.width=z,z=I.width,U.width=R,U.minWidth=L,U.maxWidth=N)),z!==void 0?z+"":z}function rv(g,v){return{get:function(){if(g()){delete this.get;return}return(this.get=v).apply(this,arguments)}}}var Pu=["Webkit","Moz","ms"],Bu=_.createElement("div").style,sv={};function Pw(g){for(var v=g[0].toUpperCase()+g.slice(1),I=Pu.length;I--;)if(g=Pu[I]+v,g in Bu)return g}function ip(g){var v=b.cssProps[g]||sv[g];return v||(g in Bu?g:sv[g]=Pw(g)||g)}var Bw=/^(none|table(?!-c[ea]).+)/,np={position:"absolute",visibility:"hidden",display:"block"},ov={letterSpacing:"0",fontWeight:"400"};function Nl(g,v,I){var R=ct.exec(v);return R?Math.max(0,R[2]-(I||0))+(R[3]||"px"):v}function Ei(g,v,I,R,L,N){var z=v==="width"?1:0,V=0,U=0,te=0;if(I===(R?"border":"content"))return 0;for(;z<4;z+=2)I==="margin"&&(te+=b.css(g,I+Tt[z],!0,L)),R?(I==="content"&&(U-=b.css(g,"padding"+Tt[z],!0,L)),I!=="margin"&&(U-=b.css(g,"border"+Tt[z]+"Width",!0,L))):(U+=b.css(g,"padding"+Tt[z],!0,L),I!=="padding"?U+=b.css(g,"border"+Tt[z]+"Width",!0,L):V+=b.css(g,"border"+Tt[z]+"Width",!0,L));return!R&&N>=0&&(U+=Math.max(0,Math.ceil(g["offset"+v[0].toUpperCase()+v.slice(1)]-N-U-V-.5))||0),U+te}function Hc(g,v,I){var R=zu(g),L=!h.boxSizingReliable()||I,N=L&&b.css(g,"boxSizing",!1,R)==="border-box",z=N,V=jc(g,v,R),U="offset"+v[0].toUpperCase()+v.slice(1);if(Du.test(V)){if(!I)return V;V="auto"}return(!h.boxSizingReliable()&&N||!h.reliableTrDimensions()&&C(g,"tr")||V==="auto"||!parseFloat(V)&&b.css(g,"display",!1,R)==="inline")&&g.getClientRects().length&&(N=b.css(g,"boxSizing",!1,R)==="border-box",z=U in g,z&&(V=g[U])),V=parseFloat(V)||0,V+Ei(g,v,I||(N?"border":"content"),z,R,V)+"px"}b.extend({cssHooks:{opacity:{get:function(g,v){if(v){var I=jc(g,"opacity");return I===""?"1":I}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,v,I,R){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var L,N,z,V=xt(v),U=io.test(v),te=g.style;if(U||(v=ip(V)),z=b.cssHooks[v]||b.cssHooks[V],I!==void 0){if(N=typeof I,N==="string"&&(L=ct.exec(I))&&L[1]&&(I=At(g,v,L),N="number"),I==null||I!==I)return;N==="number"&&!U&&(I+=L&&L[3]||(b.cssNumber[V]?"":"px")),!h.clearCloneStyle&&I===""&&v.indexOf("background")===0&&(te[v]="inherit"),(!z||!("set"in z)||(I=z.set(g,I,R))!==void 0)&&(U?te.setProperty(v,I):te[v]=I)}else return z&&"get"in z&&(L=z.get(g,!1,R))!==void 0?L:te[v]}},css:function(g,v,I,R){var L,N,z,V=xt(v),U=io.test(v);return U||(v=ip(V)),z=b.cssHooks[v]||b.cssHooks[V],z&&"get"in z&&(L=z.get(g,!0,I)),L===void 0&&(L=jc(g,v,R)),L==="normal"&&v in ov&&(L=ov[v]),I===""||I?(N=parseFloat(L),I===!0||isFinite(N)?N||0:L):L}}),b.each(["height","width"],function(g,v){b.cssHooks[v]={get:function(I,R,L){if(R)return Bw.test(b.css(I,"display"))&&(!I.getClientRects().length||!I.getBoundingClientRect().width)?tp(I,np,function(){return Hc(I,v,L)}):Hc(I,v,L)},set:function(I,R,L){var N,z=zu(I),V=!h.scrollboxSize()&&z.position==="absolute",U=V||L,te=U&&b.css(I,"boxSizing",!1,z)==="border-box",ue=L?Ei(I,v,L,te,z):0;return te&&V&&(ue-=Math.ceil(I["offset"+v[0].toUpperCase()+v.slice(1)]-parseFloat(z[v])-Ei(I,v,"border",!1,z)-.5)),ue&&(N=ct.exec(R))&&(N[3]||"px")!=="px"&&(I.style[v]=R,R=b.css(I,v)),Nl(I,R,ue)}}}),b.cssHooks.marginLeft=rv(h.reliableMarginLeft,function(g,v){if(v)return(parseFloat(jc(g,"marginLeft"))||g.getBoundingClientRect().left-tp(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(g,v){b.cssHooks[g+v]={expand:function(I){for(var R=0,L={},N=typeof I=="string"?I.split(" "):[I];R<4;R++)L[g+Tt[R]+v]=N[R]||N[R-2]||N[0];return L}},g!=="margin"&&(b.cssHooks[g+v].set=Nl)}),b.fn.extend({css:function(g,v){return ae(this,function(I,R,L){var N,z,V={},U=0;if(Array.isArray(R)){for(N=zu(I),z=R.length;U<z;U++)V[R[U]]=b.css(I,R[U],!1,N);return V}return L!==void 0?b.style(I,R,L):b.css(I,R)},g,v,arguments.length>1)}});function wn(g,v,I,R,L){return new wn.prototype.init(g,v,I,R,L)}b.Tween=wn,wn.prototype={constructor:wn,init:function(g,v,I,R,L,N){this.elem=g,this.prop=I,this.easing=L||b.easing._default,this.options=v,this.start=this.now=this.cur(),this.end=R,this.unit=N||(b.cssNumber[I]?"":"px")},cur:function(){var g=wn.propHooks[this.prop];return g&&g.get?g.get(this):wn.propHooks._default.get(this)},run:function(g){var v,I=wn.propHooks[this.prop];return this.options.duration?this.pos=v=b.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=v=g,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):wn.propHooks._default.set(this),this}},wn.prototype.init.prototype=wn.prototype,wn.propHooks={_default:{get:function(g){var v;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(v=b.css(g.elem,g.prop,""),!v||v==="auto"?0:v)},set:function(g){b.fx.step[g.prop]?b.fx.step[g.prop](g):g.elem.nodeType===1&&(b.cssHooks[g.prop]||g.elem.style[ip(g.prop)]!=null)?b.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},wn.propHooks.scrollTop=wn.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},b.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},b.fx=wn.prototype.init,b.fx.step={};var Ca,Fc,jw=/^(?:toggle|show|hide)$/,rp=/queueHooks$/;function No(){Fc&&(_.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(No):t.setTimeout(No,b.fx.interval),b.fx.tick())}function sp(){return t.setTimeout(function(){Ca=void 0}),Ca=Date.now()}function Wc(g,v){var I,R=0,L={height:g};for(v=v?1:0;R<4;R+=2-v)I=Tt[R],L["margin"+I]=L["padding"+I]=g;return v&&(L.opacity=L.width=g),L}function $c(g,v,I){for(var R,L=(Ir.tweeners[v]||[]).concat(Ir.tweeners["*"]),N=0,z=L.length;N<z;N++)if(R=L[N].call(I,v,g))return R}function Hw(g,v,I){var R,L,N,z,V,U,te,ue,ve="width"in v||"height"in v,le=this,Re={},ht=g.style,Lt=g.nodeType&&Si(g),yt=Ce.get(g,"fxshow");I.queue||(z=b._queueHooks(g,"fx"),z.unqueued==null&&(z.unqueued=0,V=z.empty.fire,z.empty.fire=function(){z.unqueued||V()}),z.unqueued++,le.always(function(){le.always(function(){z.unqueued--,b.queue(g,"fx").length||z.empty.fire()})}));for(R in v)if(L=v[R],jw.test(L)){if(delete v[R],N=N||L==="toggle",L===(Lt?"hide":"show"))if(L==="show"&&yt&&yt[R]!==void 0)Lt=!0;else continue;Re[R]=yt&&yt[R]||b.style(g,R)}if(U=!b.isEmptyObject(v),!(!U&&b.isEmptyObject(Re))){ve&&g.nodeType===1&&(I.overflow=[ht.overflow,ht.overflowX,ht.overflowY],te=yt&&yt.display,te==null&&(te=Ce.get(g,"display")),ue=b.css(g,"display"),ue==="none"&&(te?ue=te:(Gi([g],!0),te=g.style.display||te,ue=b.css(g,"display"),Gi([g]))),(ue==="inline"||ue==="inline-block"&&te!=null)&&b.css(g,"float")==="none"&&(U||(le.done(function(){ht.display=te}),te==null&&(ue=ht.display,te=ue==="none"?"":ue)),ht.display="inline-block")),I.overflow&&(ht.overflow="hidden",le.always(function(){ht.overflow=I.overflow[0],ht.overflowX=I.overflow[1],ht.overflowY=I.overflow[2]})),U=!1;for(R in Re)U||(yt?"hidden"in yt&&(Lt=yt.hidden):yt=Ce.access(g,"fxshow",{display:te}),N&&(yt.hidden=!Lt),Lt&&Gi([g],!0),le.done(function(){Lt||Gi([g]),Ce.remove(g,"fxshow");for(R in Re)b.style(g,R,Re[R])})),U=$c(Lt?yt[R]:0,R,le),R in yt||(yt[R]=U.start,Lt&&(U.end=U.start,U.start=0))}}function Fw(g,v){var I,R,L,N,z;for(I in g)if(R=xt(I),L=v[R],N=g[I],Array.isArray(N)&&(L=N[1],N=g[I]=N[0]),I!==R&&(g[R]=N,delete g[I]),z=b.cssHooks[R],z&&"expand"in z){N=z.expand(N),delete g[R];for(I in N)I in g||(g[I]=N[I],v[I]=L)}else v[R]=L}function Ir(g,v,I){var R,L,N=0,z=Ir.prefilters.length,V=b.Deferred().always(function(){delete U.elem}),U=function(){if(L)return!1;for(var ve=Ca||sp(),le=Math.max(0,te.startTime+te.duration-ve),Re=le/te.duration||0,ht=1-Re,Lt=0,yt=te.tweens.length;Lt<yt;Lt++)te.tweens[Lt].run(ht);return V.notifyWith(g,[te,ht,le]),ht<1&&yt?le:(yt||V.notifyWith(g,[te,1,0]),V.resolveWith(g,[te]),!1)},te=V.promise({elem:g,props:b.extend({},v),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},I),originalProperties:v,originalOptions:I,startTime:Ca||sp(),duration:I.duration,tweens:[],createTween:function(ve,le){var Re=b.Tween(g,te.opts,ve,le,te.opts.specialEasing[ve]||te.opts.easing);return te.tweens.push(Re),Re},stop:function(ve){var le=0,Re=ve?te.tweens.length:0;if(L)return this;for(L=!0;le<Re;le++)te.tweens[le].run(1);return ve?(V.notifyWith(g,[te,1,0]),V.resolveWith(g,[te,ve])):V.rejectWith(g,[te,ve]),this}}),ue=te.props;for(Fw(ue,te.opts.specialEasing);N<z;N++)if(R=Ir.prefilters[N].call(te,g,ue,te.opts),R)return m(R.stop)&&(b._queueHooks(te.elem,te.opts.queue).stop=R.stop.bind(R)),R;return b.map(ue,$c,te),m(te.opts.start)&&te.opts.start.call(g,te),te.progress(te.opts.progress).done(te.opts.done,te.opts.complete).fail(te.opts.fail).always(te.opts.always),b.fx.timer(b.extend(U,{elem:g,anim:te,queue:te.opts.queue})),te}b.Animation=b.extend(Ir,{tweeners:{"*":[function(g,v){var I=this.createTween(g,v);return At(I.elem,g,ct.exec(v),I),I}]},tweener:function(g,v){m(g)?(v=g,g=["*"]):g=g.match(oi);for(var I,R=0,L=g.length;R<L;R++)I=g[R],Ir.tweeners[I]=Ir.tweeners[I]||[],Ir.tweeners[I].unshift(v)},prefilters:[Hw],prefilter:function(g,v){v?Ir.prefilters.unshift(g):Ir.prefilters.push(g)}}),b.speed=function(g,v,I){var R=g&&typeof g=="object"?b.extend({},g):{complete:I||!I&&v||m(g)&&g,duration:g,easing:I&&v||v&&!m(v)&&v};return b.fx.off?R.duration=0:typeof R.duration!="number"&&(R.duration in b.fx.speeds?R.duration=b.fx.speeds[R.duration]:R.duration=b.fx.speeds._default),(R.queue==null||R.queue===!0)&&(R.queue="fx"),R.old=R.complete,R.complete=function(){m(R.old)&&R.old.call(this),R.queue&&b.dequeue(this,R.queue)},R},b.fn.extend({fadeTo:function(g,v,I,R){return this.filter(Si).css("opacity",0).show().end().animate({opacity:v},g,I,R)},animate:function(g,v,I,R){var L=b.isEmptyObject(g),N=b.speed(v,I,R),z=function(){var V=Ir(this,b.extend({},g),N);(L||Ce.get(this,"finish"))&&V.stop(!0)};return z.finish=z,L||N.queue===!1?this.each(z):this.queue(N.queue,z)},stop:function(g,v,I){var R=function(L){var N=L.stop;delete L.stop,N(I)};return typeof g!="string"&&(I=v,v=g,g=void 0),v&&this.queue(g||"fx",[]),this.each(function(){var L=!0,N=g!=null&&g+"queueHooks",z=b.timers,V=Ce.get(this);if(N)V[N]&&V[N].stop&&R(V[N]);else for(N in V)V[N]&&V[N].stop&&rp.test(N)&&R(V[N]);for(N=z.length;N--;)z[N].elem===this&&(g==null||z[N].queue===g)&&(z[N].anim.stop(I),L=!1,z.splice(N,1));(L||!I)&&b.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var v,I=Ce.get(this),R=I[g+"queue"],L=I[g+"queueHooks"],N=b.timers,z=R?R.length:0;for(I.finish=!0,b.queue(this,g,[]),L&&L.stop&&L.stop.call(this,!0),v=N.length;v--;)N[v].elem===this&&N[v].queue===g&&(N[v].anim.stop(!0),N.splice(v,1));for(v=0;v<z;v++)R[v]&&R[v].finish&&R[v].finish.call(this);delete I.finish})}}),b.each(["toggle","show","hide"],function(g,v){var I=b.fn[v];b.fn[v]=function(R,L,N){return R==null||typeof R=="boolean"?I.apply(this,arguments):this.animate(Wc(v,!0),R,L,N)}}),b.each({slideDown:Wc("show"),slideUp:Wc("hide"),slideToggle:Wc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,v){b.fn[g]=function(I,R,L){return this.animate(v,I,R,L)}}),b.timers=[],b.fx.tick=function(){var g,v=0,I=b.timers;for(Ca=Date.now();v<I.length;v++)g=I[v],!g()&&I[v]===g&&I.splice(v--,1);I.length||b.fx.stop(),Ca=void 0},b.fx.timer=function(g){b.timers.push(g),b.fx.start()},b.fx.interval=13,b.fx.start=function(){Fc||(Fc=!0,No())},b.fx.stop=function(){Fc=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(g,v){return g=b.fx&&b.fx.speeds[g]||g,v=v||"fx",this.queue(v,function(I,R){var L=t.setTimeout(I,g);R.stop=function(){t.clearTimeout(L)}})},function(){var g=_.createElement("input"),v=_.createElement("select"),I=v.appendChild(_.createElement("option"));g.type="checkbox",h.checkOn=g.value!=="",h.optSelected=I.selected,g=_.createElement("input"),g.value="t",g.type="radio",h.radioValue=g.value==="t"}();var av,Ol=b.expr.attrHandle;b.fn.extend({attr:function(g,v){return ae(this,b.attr,g,v,arguments.length>1)},removeAttr:function(g){return this.each(function(){b.removeAttr(this,g)})}}),b.extend({attr:function(g,v,I){var R,L,N=g.nodeType;if(!(N===3||N===8||N===2)){if(typeof g.getAttribute>"u")return b.prop(g,v,I);if((N!==1||!b.isXMLDoc(g))&&(L=b.attrHooks[v.toLowerCase()]||(b.expr.match.bool.test(v)?av:void 0)),I!==void 0){if(I===null){b.removeAttr(g,v);return}return L&&"set"in L&&(R=L.set(g,I,v))!==void 0?R:(g.setAttribute(v,I+""),I)}return L&&"get"in L&&(R=L.get(g,v))!==null?R:(R=b.find.attr(g,v),R??void 0)}},attrHooks:{type:{set:function(g,v){if(!h.radioValue&&v==="radio"&&C(g,"input")){var I=g.value;return g.setAttribute("type",v),I&&(g.value=I),v}}}},removeAttr:function(g,v){var I,R=0,L=v&&v.match(oi);if(L&&g.nodeType===1)for(;I=L[R++];)g.removeAttribute(I)}}),av={set:function(g,v,I){return v===!1?b.removeAttr(g,I):g.setAttribute(I,I),I}},b.each(b.expr.match.bool.source.match(/\w+/g),function(g,v){var I=Ol[v]||b.find.attr;Ol[v]=function(R,L,N){var z,V,U=L.toLowerCase();return N||(V=Ol[U],Ol[U]=z,z=I(R,L,N)!=null?U:null,Ol[U]=V),z}});var Ww=/^(?:input|select|textarea|button)$/i,$w=/^(?:a|area)$/i;b.fn.extend({prop:function(g,v){return ae(this,b.prop,g,v,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[b.propFix[g]||g]})}}),b.extend({prop:function(g,v,I){var R,L,N=g.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!b.isXMLDoc(g))&&(v=b.propFix[v]||v,L=b.propHooks[v]),I!==void 0?L&&"set"in L&&(R=L.set(g,I,v))!==void 0?R:g[v]=I:L&&"get"in L&&(R=L.get(g,v))!==null?R:g[v]},propHooks:{tabIndex:{get:function(g){var v=b.find.attr(g,"tabindex");return v?parseInt(v,10):Ww.test(g.nodeName)||$w.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(b.propHooks.selected={get:function(g){var v=g.parentNode;return v&&v.parentNode&&v.parentNode.selectedIndex,null},set:function(g){var v=g.parentNode;v&&(v.selectedIndex,v.parentNode&&v.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this});function Sa(g){var v=g.match(oi)||[];return v.join(" ")}function bs(g){return g.getAttribute&&g.getAttribute("class")||""}function G(g){return Array.isArray(g)?g:typeof g=="string"?g.match(oi)||[]:[]}b.fn.extend({addClass:function(g){var v,I,R,L,N,z;return m(g)?this.each(function(V){b(this).addClass(g.call(this,V,bs(this)))}):(v=G(g),v.length?this.each(function(){if(R=bs(this),I=this.nodeType===1&&" "+Sa(R)+" ",I){for(N=0;N<v.length;N++)L=v[N],I.indexOf(" "+L+" ")<0&&(I+=L+" ");z=Sa(I),R!==z&&this.setAttribute("class",z)}}):this)},removeClass:function(g){var v,I,R,L,N,z;return m(g)?this.each(function(V){b(this).removeClass(g.call(this,V,bs(this)))}):arguments.length?(v=G(g),v.length?this.each(function(){if(R=bs(this),I=this.nodeType===1&&" "+Sa(R)+" ",I){for(N=0;N<v.length;N++)for(L=v[N];I.indexOf(" "+L+" ")>-1;)I=I.replace(" "+L+" "," ");z=Sa(I),R!==z&&this.setAttribute("class",z)}}):this):this.attr("class","")},toggleClass:function(g,v){var I,R,L,N,z=typeof g,V=z==="string"||Array.isArray(g);return m(g)?this.each(function(U){b(this).toggleClass(g.call(this,U,bs(this),v),v)}):typeof v=="boolean"&&V?v?this.addClass(g):this.removeClass(g):(I=G(g),this.each(function(){if(V)for(N=b(this),L=0;L<I.length;L++)R=I[L],N.hasClass(R)?N.removeClass(R):N.addClass(R);else(g===void 0||z==="boolean")&&(R=bs(this),R&&Ce.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||g===!1?"":Ce.get(this,"__className__")||""))}))},hasClass:function(g){var v,I,R=0;for(v=" "+g+" ";I=this[R++];)if(I.nodeType===1&&(" "+Sa(bs(I))+" ").indexOf(v)>-1)return!0;return!1}});var ne=/\r/g;b.fn.extend({val:function(g){var v,I,R,L=this[0];return arguments.length?(R=m(g),this.each(function(N){var z;this.nodeType===1&&(R?z=g.call(this,N,b(this).val()):z=g,z==null?z="":typeof z=="number"?z+="":Array.isArray(z)&&(z=b.map(z,function(V){return V==null?"":V+""})),v=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],(!v||!("set"in v)||v.set(this,z,"value")===void 0)&&(this.value=z))})):L?(v=b.valHooks[L.type]||b.valHooks[L.nodeName.toLowerCase()],v&&"get"in v&&(I=v.get(L,"value"))!==void 0?I:(I=L.value,typeof I=="string"?I.replace(ne,""):I??"")):void 0}}),b.extend({valHooks:{option:{get:function(g){var v=b.find.attr(g,"value");return v??Sa(b.text(g))}},select:{get:function(g){var v,I,R,L=g.options,N=g.selectedIndex,z=g.type==="select-one",V=z?null:[],U=z?N+1:L.length;for(N<0?R=U:R=z?N:0;R<U;R++)if(I=L[R],(I.selected||R===N)&&!I.disabled&&(!I.parentNode.disabled||!C(I.parentNode,"optgroup"))){if(v=b(I).val(),z)return v;V.push(v)}return V},set:function(g,v){for(var I,R,L=g.options,N=b.makeArray(v),z=L.length;z--;)R=L[z],(R.selected=b.inArray(b.valHooks.option.get(R),N)>-1)&&(I=!0);return I||(g.selectedIndex=-1),N}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(g,v){if(Array.isArray(v))return g.checked=b.inArray(b(g).val(),v)>-1}},h.checkOn||(b.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var oe=t.location,Ee={guid:Date.now()},$e=/\?/;b.parseXML=function(g){var v,I;if(!g||typeof g!="string")return null;try{v=new t.DOMParser().parseFromString(g,"text/xml")}catch{}return I=v&&v.getElementsByTagName("parsererror")[0],(!v||I)&&b.error("Invalid XML: "+(I?b.map(I.childNodes,function(R){return R.textContent}).join(`
`):g)),v};var qe=/^(?:focusinfocus|focusoutblur)$/,Qe=function(g){g.stopPropagation()};b.extend(b.event,{trigger:function(g,v,I,R){var L,N,z,V,U,te,ue,ve,le=[I||_],Re=d.call(g,"type")?g.type:g,ht=d.call(g,"namespace")?g.namespace.split("."):[];if(N=ve=z=I=I||_,!(I.nodeType===3||I.nodeType===8)&&!qe.test(Re+b.event.triggered)&&(Re.indexOf(".")>-1&&(ht=Re.split("."),Re=ht.shift(),ht.sort()),U=Re.indexOf(":")<0&&"on"+Re,g=g[b.expando]?g:new b.Event(Re,typeof g=="object"&&g),g.isTrigger=R?2:3,g.namespace=ht.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=I),v=v==null?[g]:b.makeArray(v,[g]),ue=b.event.special[Re]||{},!(!R&&ue.trigger&&ue.trigger.apply(I,v)===!1))){if(!R&&!ue.noBubble&&!p(I)){for(V=ue.delegateType||Re,qe.test(V+Re)||(N=N.parentNode);N;N=N.parentNode)le.push(N),z=N;z===(I.ownerDocument||_)&&le.push(z.defaultView||z.parentWindow||t)}for(L=0;(N=le[L++])&&!g.isPropagationStopped();)ve=N,g.type=L>1?V:ue.bindType||Re,te=(Ce.get(N,"events")||Object.create(null))[g.type]&&Ce.get(N,"handle"),te&&te.apply(N,v),te=U&&N[U],te&&te.apply&&Xt(N)&&(g.result=te.apply(N,v),g.result===!1&&g.preventDefault());return g.type=Re,!R&&!g.isDefaultPrevented()&&(!ue._default||ue._default.apply(le.pop(),v)===!1)&&Xt(I)&&U&&m(I[Re])&&!p(I)&&(z=I[U],z&&(I[U]=null),b.event.triggered=Re,g.isPropagationStopped()&&ve.addEventListener(Re,Qe),I[Re](),g.isPropagationStopped()&&ve.removeEventListener(Re,Qe),b.event.triggered=void 0,z&&(I[U]=z)),g.result}},simulate:function(g,v,I){var R=b.extend(new b.Event,I,{type:g,isSimulated:!0});b.event.trigger(R,null,v)}}),b.fn.extend({trigger:function(g,v){return this.each(function(){b.event.trigger(g,v,this)})},triggerHandler:function(g,v){var I=this[0];if(I)return b.event.trigger(g,v,I,!0)}});var rt=/\[\]$/,Jt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function Di(g,v,I,R){var L;if(Array.isArray(v))b.each(v,function(N,z){I||rt.test(g)?R(g,z):Di(g+"["+(typeof z=="object"&&z!=null?N:"")+"]",z,I,R)});else if(!I&&T(v)==="object")for(L in v)Di(g+"["+L+"]",v[L],I,R);else R(g,v)}b.param=function(g,v){var I,R=[],L=function(N,z){var V=m(z)?z():z;R[R.length]=encodeURIComponent(N)+"="+encodeURIComponent(V??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!b.isPlainObject(g))b.each(g,function(){L(this.name,this.value)});else for(I in g)Di(I,g[I],v,L);return R.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=b.prop(this,"elements");return g?b.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!b(this).is(":disabled")&&zt.test(this.nodeName)&&!Ut.test(g)&&(this.checked||!ya.test(g))}).map(function(g,v){var I=b(this).val();return I==null?null:Array.isArray(I)?b.map(I,function(R){return{name:v.name,value:R.replace(Jt,`\r
`)}}):{name:v.name,value:I.replace(Jt,`\r
`)}}).get()}});var Ft=/%20/g,Cn=/#.*$/,Sn=/([?&])_=[^&]*/,en=/^(.*?):[ \t]*([^\r\n]*)$/mg,cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,op=/^(?:GET|HEAD)$/,ap=/^\/\//,ju={},Hu={},Fu="*/".concat("*"),Wu=_.createElement("a");Wu.href=oe.href;function lp(g){return function(v,I){typeof v!="string"&&(I=v,v="*");var R,L=0,N=v.toLowerCase().match(oi)||[];if(m(I))for(;R=N[L++];)R[0]==="+"?(R=R.slice(1)||"*",(g[R]=g[R]||[]).unshift(I)):(g[R]=g[R]||[]).push(I)}}function VA(g,v,I,R){var L={},N=g===Hu;function z(V){var U;return L[V]=!0,b.each(g[V]||[],function(te,ue){var ve=ue(v,I,R);if(typeof ve=="string"&&!N&&!L[ve])return v.dataTypes.unshift(ve),z(ve),!1;if(N)return!(U=ve)}),U}return z(v.dataTypes[0])||!L["*"]&&z("*")}function qw(g,v){var I,R,L=b.ajaxSettings.flatOptions||{};for(I in v)v[I]!==void 0&&((L[I]?g:R||(R={}))[I]=v[I]);return R&&b.extend(!0,g,R),g}function UW(g,v,I){for(var R,L,N,z,V=g.contents,U=g.dataTypes;U[0]==="*";)U.shift(),R===void 0&&(R=g.mimeType||v.getResponseHeader("Content-Type"));if(R){for(L in V)if(V[L]&&V[L].test(R)){U.unshift(L);break}}if(U[0]in I)N=U[0];else{for(L in I){if(!U[0]||g.converters[L+" "+U[0]]){N=L;break}z||(z=L)}N=N||z}if(N)return N!==U[0]&&U.unshift(N),I[N]}function VW(g,v,I,R){var L,N,z,V,U,te={},ue=g.dataTypes.slice();if(ue[1])for(z in g.converters)te[z.toLowerCase()]=g.converters[z];for(N=ue.shift();N;)if(g.responseFields[N]&&(I[g.responseFields[N]]=v),!U&&R&&g.dataFilter&&(v=g.dataFilter(v,g.dataType)),U=N,N=ue.shift(),N){if(N==="*")N=U;else if(U!=="*"&&U!==N){if(z=te[U+" "+N]||te["* "+N],!z){for(L in te)if(V=L.split(" "),V[1]===N&&(z=te[U+" "+V[0]]||te["* "+V[0]],z)){z===!0?z=te[L]:te[L]!==!0&&(N=V[0],ue.unshift(V[1]));break}}if(z!==!0)if(z&&g.throws)v=z(v);else try{v=z(v)}catch(ve){return{state:"parsererror",error:z?ve:"No conversion from "+U+" to "+N}}}}return{state:"success",data:v}}b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oe.href,type:"GET",isLocal:cn.test(oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,v){return v?qw(qw(g,b.ajaxSettings),v):qw(b.ajaxSettings,g)},ajaxPrefilter:lp(ju),ajaxTransport:lp(Hu),ajax:function(g,v){typeof g=="object"&&(v=g,g=void 0),v=v||{};var I,R,L,N,z,V,U,te,ue,ve,le=b.ajaxSetup({},v),Re=le.context||le,ht=le.context&&(Re.nodeType||Re.jquery)?b(Re):b.event,Lt=b.Deferred(),yt=b.Callbacks("once memory"),On=le.statusCode||{},dn={},Oo={},Do="canceled",Rt={readyState:0,getResponseHeader:function(Ot){var zi;if(U){if(!N)for(N={};zi=en.exec(L);)N[zi[1].toLowerCase()+" "]=(N[zi[1].toLowerCase()+" "]||[]).concat(zi[2]);zi=N[Ot.toLowerCase()+" "]}return zi==null?null:zi.join(", ")},getAllResponseHeaders:function(){return U?L:null},setRequestHeader:function(Ot,zi){return U==null&&(Ot=Oo[Ot.toLowerCase()]=Oo[Ot.toLowerCase()]||Ot,dn[Ot]=zi),this},overrideMimeType:function(Ot){return U==null&&(le.mimeType=Ot),this},statusCode:function(Ot){var zi;if(Ot)if(U)Rt.always(Ot[Rt.status]);else for(zi in Ot)On[zi]=[On[zi],Ot[zi]];return this},abort:function(Ot){var zi=Ot||Do;return I&&I.abort(zi),qc(0,zi),this}};if(Lt.promise(Rt),le.url=((g||le.url||oe.href)+"").replace(ap,oe.protocol+"//"),le.type=v.method||v.type||le.method||le.type,le.dataTypes=(le.dataType||"*").toLowerCase().match(oi)||[""],le.crossDomain==null){V=_.createElement("a");try{V.href=le.url,V.href=V.href,le.crossDomain=Wu.protocol+"//"+Wu.host!=V.protocol+"//"+V.host}catch{le.crossDomain=!0}}if(le.data&&le.processData&&typeof le.data!="string"&&(le.data=b.param(le.data,le.traditional)),VA(ju,le,v,Rt),U)return Rt;te=b.event&&le.global,te&&b.active++===0&&b.event.trigger("ajaxStart"),le.type=le.type.toUpperCase(),le.hasContent=!op.test(le.type),R=le.url.replace(Cn,""),le.hasContent?le.data&&le.processData&&(le.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(le.data=le.data.replace(Ft,"+")):(ve=le.url.slice(R.length),le.data&&(le.processData||typeof le.data=="string")&&(R+=($e.test(R)?"&":"?")+le.data,delete le.data),le.cache===!1&&(R=R.replace(Sn,"$1"),ve=($e.test(R)?"&":"?")+"_="+Ee.guid+++ve),le.url=R+ve),le.ifModified&&(b.lastModified[R]&&Rt.setRequestHeader("If-Modified-Since",b.lastModified[R]),b.etag[R]&&Rt.setRequestHeader("If-None-Match",b.etag[R])),(le.data&&le.hasContent&&le.contentType!==!1||v.contentType)&&Rt.setRequestHeader("Content-Type",le.contentType),Rt.setRequestHeader("Accept",le.dataTypes[0]&&le.accepts[le.dataTypes[0]]?le.accepts[le.dataTypes[0]]+(le.dataTypes[0]!=="*"?", "+Fu+"; q=0.01":""):le.accepts["*"]);for(ue in le.headers)Rt.setRequestHeader(ue,le.headers[ue]);if(le.beforeSend&&(le.beforeSend.call(Re,Rt,le)===!1||U))return Rt.abort();if(Do="abort",yt.add(le.complete),Rt.done(le.success),Rt.fail(le.error),I=VA(Hu,le,v,Rt),!I)qc(-1,"No Transport");else{if(Rt.readyState=1,te&&ht.trigger("ajaxSend",[Rt,le]),U)return Rt;le.async&&le.timeout>0&&(z=t.setTimeout(function(){Rt.abort("timeout")},le.timeout));try{U=!1,I.send(dn,qc)}catch(Ot){if(U)throw Ot;qc(-1,Ot)}}function qc(Ot,zi,dp,Vw){var zo,up,Po,Dl,zl,xs=zi;U||(U=!0,z&&t.clearTimeout(z),I=void 0,L=Vw||"",Rt.readyState=Ot>0?4:0,zo=Ot>=200&&Ot<300||Ot===304,dp&&(Dl=UW(le,Rt,dp)),!zo&&b.inArray("script",le.dataTypes)>-1&&b.inArray("json",le.dataTypes)<0&&(le.converters["text script"]=function(){}),Dl=VW(le,Dl,Rt,zo),zo?(le.ifModified&&(zl=Rt.getResponseHeader("Last-Modified"),zl&&(b.lastModified[R]=zl),zl=Rt.getResponseHeader("etag"),zl&&(b.etag[R]=zl)),Ot===204||le.type==="HEAD"?xs="nocontent":Ot===304?xs="notmodified":(xs=Dl.state,up=Dl.data,Po=Dl.error,zo=!Po)):(Po=xs,(Ot||!xs)&&(xs="error",Ot<0&&(Ot=0))),Rt.status=Ot,Rt.statusText=(zi||xs)+"",zo?Lt.resolveWith(Re,[up,xs,Rt]):Lt.rejectWith(Re,[Rt,xs,Po]),Rt.statusCode(On),On=void 0,te&&ht.trigger(zo?"ajaxSuccess":"ajaxError",[Rt,le,zo?up:Po]),yt.fireWith(Re,[Rt,xs]),te&&(ht.trigger("ajaxComplete",[Rt,le]),--b.active||b.event.trigger("ajaxStop")))}return Rt},getJSON:function(g,v,I){return b.get(g,v,I,"json")},getScript:function(g,v){return b.get(g,void 0,v,"script")}}),b.each(["get","post"],function(g,v){b[v]=function(I,R,L,N){return m(R)&&(N=N||L,L=R,R=void 0),b.ajax(b.extend({url:I,type:v,dataType:N,data:R,success:L},b.isPlainObject(I)&&I))}}),b.ajaxPrefilter(function(g){var v;for(v in g.headers)v.toLowerCase()==="content-type"&&(g.contentType=g.headers[v]||"")}),b._evalUrl=function(g,v,I){return b.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(R){b.globalEval(R,v,I)}})},b.fn.extend({wrapAll:function(g){var v;return this[0]&&(m(g)&&(g=g.call(this[0])),v=b(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(g){return m(g)?this.each(function(v){b(this).wrapInner(g.call(this,v))}):this.each(function(){var v=b(this),I=v.contents();I.length?I.wrapAll(g):v.append(g)})},wrap:function(g){var v=m(g);return this.each(function(I){b(this).wrapAll(v?g.call(this,I):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(g){return!b.expr.pseudos.visible(g)},b.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var GW={0:200,1223:204},cp=b.ajaxSettings.xhr();h.cors=!!cp&&"withCredentials"in cp,h.ajax=cp=!!cp,b.ajaxTransport(function(g){var v,I;if(h.cors||cp&&!g.crossDomain)return{send:function(R,L){var N,z=g.xhr();if(z.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(N in g.xhrFields)z[N]=g.xhrFields[N];g.mimeType&&z.overrideMimeType&&z.overrideMimeType(g.mimeType),!g.crossDomain&&!R["X-Requested-With"]&&(R["X-Requested-With"]="XMLHttpRequest");for(N in R)z.setRequestHeader(N,R[N]);v=function(V){return function(){v&&(v=I=z.onload=z.onerror=z.onabort=z.ontimeout=z.onreadystatechange=null,V==="abort"?z.abort():V==="error"?typeof z.status!="number"?L(0,"error"):L(z.status,z.statusText):L(GW[z.status]||z.status,z.statusText,(z.responseType||"text")!=="text"||typeof z.responseText!="string"?{binary:z.response}:{text:z.responseText},z.getAllResponseHeaders()))}},z.onload=v(),I=z.onerror=z.ontimeout=v("error"),z.onabort!==void 0?z.onabort=I:z.onreadystatechange=function(){z.readyState===4&&t.setTimeout(function(){v&&I()})},v=v("abort");try{z.send(g.hasContent&&g.data||null)}catch(V){if(v)throw V}},abort:function(){v&&v()}}}),b.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return b.globalEval(g),g}}}),b.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),b.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var v,I;return{send:function(R,L){v=b("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",I=function(N){v.remove(),I=null,N&&L(N.type==="error"?404:200,N.type)}),_.head.appendChild(v[0])},abort:function(){I&&I()}}}});var GA=[],Uw=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=GA.pop()||b.expando+"_"+Ee.guid++;return this[g]=!0,g}}),b.ajaxPrefilter("json jsonp",function(g,v,I){var R,L,N,z=g.jsonp!==!1&&(Uw.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Uw.test(g.data)&&"data");if(z||g.dataTypes[0]==="jsonp")return R=g.jsonpCallback=m(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,z?g[z]=g[z].replace(Uw,"$1"+R):g.jsonp!==!1&&(g.url+=($e.test(g.url)?"&":"?")+g.jsonp+"="+R),g.converters["script json"]=function(){return N||b.error(R+" was not called"),N[0]},g.dataTypes[0]="json",L=t[R],t[R]=function(){N=arguments},I.always(function(){L===void 0?b(t).removeProp(R):t[R]=L,g[R]&&(g.jsonpCallback=v.jsonpCallback,GA.push(R)),N&&m(L)&&L(N[0]),N=L=void 0}),"script"}),h.createHTMLDocument=function(){var g=_.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),b.parseHTML=function(g,v,I){if(typeof g!="string")return[];typeof v=="boolean"&&(I=v,v=!1);var R,L,N;return v||(h.createHTMLDocument?(v=_.implementation.createHTMLDocument(""),R=v.createElement("base"),R.href=_.location.href,v.head.appendChild(R)):v=_),L=we.exec(g),N=!I&&[],L?[v.createElement(L[1])]:(L=Q_([g],v,N),N&&N.length&&b(N).remove(),b.merge([],L.childNodes))},b.fn.load=function(g,v,I){var R,L,N,z=this,V=g.indexOf(" ");return V>-1&&(R=Sa(g.slice(V)),g=g.slice(0,V)),m(v)?(I=v,v=void 0):v&&typeof v=="object"&&(L="POST"),z.length>0&&b.ajax({url:g,type:L||"GET",dataType:"html",data:v}).done(function(U){N=arguments,z.html(R?b("<div>").append(b.parseHTML(U)).find(R):U)}).always(I&&function(U,te){z.each(function(){I.apply(this,N||[U.responseText,te,U])})}),this},b.expr.pseudos.animated=function(g){return b.grep(b.timers,function(v){return g===v.elem}).length},b.offset={setOffset:function(g,v,I){var R,L,N,z,V,U,te,ue=b.css(g,"position"),ve=b(g),le={};ue==="static"&&(g.style.position="relative"),V=ve.offset(),N=b.css(g,"top"),U=b.css(g,"left"),te=(ue==="absolute"||ue==="fixed")&&(N+U).indexOf("auto")>-1,te?(R=ve.position(),z=R.top,L=R.left):(z=parseFloat(N)||0,L=parseFloat(U)||0),m(v)&&(v=v.call(g,I,b.extend({},V))),v.top!=null&&(le.top=v.top-V.top+z),v.left!=null&&(le.left=v.left-V.left+L),"using"in v?v.using.call(g,le):ve.css(le)}},b.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(L){b.offset.setOffset(this,g,L)});var v,I,R=this[0];if(R)return R.getClientRects().length?(v=R.getBoundingClientRect(),I=R.ownerDocument.defaultView,{top:v.top+I.pageYOffset,left:v.left+I.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,v,I,R=this[0],L={top:0,left:0};if(b.css(R,"position")==="fixed")v=R.getBoundingClientRect();else{for(v=this.offset(),I=R.ownerDocument,g=R.offsetParent||I.documentElement;g&&(g===I.body||g===I.documentElement)&&b.css(g,"position")==="static";)g=g.parentNode;g&&g!==R&&g.nodeType===1&&(L=b(g).offset(),L.top+=b.css(g,"borderTopWidth",!0),L.left+=b.css(g,"borderLeftWidth",!0))}return{top:v.top-L.top-b.css(R,"marginTop",!0),left:v.left-L.left-b.css(R,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&b.css(g,"position")==="static";)g=g.offsetParent;return g||ut})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,v){var I=v==="pageYOffset";b.fn[g]=function(R){return ae(this,function(L,N,z){var V;if(p(L)?V=L:L.nodeType===9&&(V=L.defaultView),z===void 0)return V?V[v]:L[N];V?V.scrollTo(I?V.pageXOffset:z,I?z:V.pageYOffset):L[N]=z},g,R,arguments.length)}}),b.each(["top","left"],function(g,v){b.cssHooks[v]=rv(h.pixelPosition,function(I,R){if(R)return R=jc(I,v),Du.test(R)?b(I).position()[v]+"px":R})}),b.each({Height:"height",Width:"width"},function(g,v){b.each({padding:"inner"+g,content:v,"":"outer"+g},function(I,R){b.fn[R]=function(L,N){var z=arguments.length&&(I||typeof L!="boolean"),V=I||(L===!0||N===!0?"margin":"border");return ae(this,function(U,te,ue){var ve;return p(U)?R.indexOf("outer")===0?U["inner"+g]:U.document.documentElement["client"+g]:U.nodeType===9?(ve=U.documentElement,Math.max(U.body["scroll"+g],ve["scroll"+g],U.body["offset"+g],ve["offset"+g],ve["client"+g])):ue===void 0?b.css(U,te,V):b.style(U,te,ue,V)},v,z?L:void 0,z)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,v){b.fn[v]=function(I){return this.on(v,I)}}),b.fn.extend({bind:function(g,v,I){return this.on(g,null,v,I)},unbind:function(g,v){return this.off(g,null,v)},delegate:function(g,v,I,R){return this.on(v,g,I,R)},undelegate:function(g,v,I){return arguments.length===1?this.off(g,"**"):this.off(v,g||"**",I)},hover:function(g,v){return this.on("mouseenter",g).on("mouseleave",v||g)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,v){b.fn[v]=function(I,R){return arguments.length>0?this.on(v,null,I,R):this.trigger(v)}});var YW=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;b.proxy=function(g,v){var I,R,L;if(typeof v=="string"&&(I=g[v],v=g,g=I),!!m(g))return R=r.call(arguments,2),L=function(){return g.apply(v||this,R.concat(r.call(arguments)))},L.guid=g.guid=g.guid||b.guid++,L},b.holdReady=function(g){g?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=C,b.isFunction=m,b.isWindow=p,b.camelCase=xt,b.type=T,b.now=Date.now,b.isNumeric=function(g){var v=b.type(g);return(v==="number"||v==="string")&&!isNaN(g-parseFloat(g))},b.trim=function(g){return g==null?"":(g+"").replace(YW,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return b});var KW=t.jQuery,XW=t.$;return b.noConflict=function(g){return t.$===b&&(t.$=XW),g&&t.jQuery===b&&(t.jQuery=KW),b},typeof e>"u"&&(t.jQuery=t.$=b),b})});var rM=Ve(nM=>{(function(t){var e=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(r,s,o){e.Backbone=t(e,o,r,s)});else if(typeof nM<"u"){var i=(wB(),Ia(yB)),n;try{n=Ud()}catch{}t(e,nM,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)})(function(t,e,i,n){var r=t.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={},a=/\s+/,l,c=function(A,H,F,Z,ae){var ce=0,ke;if(F&&typeof F=="object")for(Z!==void 0&&("context"in ae)&&ae.context===void 0&&(ae.context=Z),ke=i.keys(F);ce<ke.length;ce++)H=c(A,H,ke[ce],F[ke[ce]],ae);else if(F&&a.test(F))for(ke=F.split(a);ce<ke.length;ce++)H=A(H,ke[ce],Z,ae);else H=A(H,F,Z,ae);return H};o.on=function(A,H,F){if(this._events=c(d,this._events||{},A,H,{context:F,ctx:this,listening:l}),l){var Z=this._listeners||(this._listeners={});Z[l.id]=l,l.interop=!1}return this},o.listenTo=function(A,H,F){if(!A)return this;var Z=A._listenId||(A._listenId=i.uniqueId("l")),ae=this._listeningTo||(this._listeningTo={}),ce=l=ae[Z];ce||(this._listenId||(this._listenId=i.uniqueId("l")),ce=l=ae[Z]=new _(this,A));var ke=u(A,H,F,this);if(l=void 0,ke)throw ke;return ce.interop&&ce.on(H,F),this};var d=function(A,H,F,Z){if(F){var ae=A[H]||(A[H]=[]),ce=Z.context,ke=Z.ctx,tt=Z.listening;tt&&tt.count++,ae.push({callback:F,context:ce,ctx:ce||ke,listening:tt})}return A},u=function(A,H,F,Z){try{A.on(H,F,Z)}catch(ae){return ae}};o.off=function(A,H,F){return this._events?(this._events=c(f,this._events,A,H,{context:F,listeners:this._listeners}),this):this},o.stopListening=function(A,H,F){var Z=this._listeningTo;if(!Z)return this;for(var ae=A?[A._listenId]:i.keys(Z),ce=0;ce<ae.length;ce++){var ke=Z[ae[ce]];if(!ke)break;ke.obj.off(H,F,this),ke.interop&&ke.off(H,F)}return i.isEmpty(Z)&&(this._listeningTo=void 0),this};var f=function(A,H,F,Z){if(A){var ae=Z.context,ce=Z.listeners,ke=0,tt;if(!H&&!ae&&!F){for(tt=i.keys(ce);ke<tt.length;ke++)ce[tt[ke]].cleanup();return}for(tt=H?[H]:i.keys(A);ke<tt.length;ke++){H=tt[ke];var xt=A[H];if(!xt)break;for(var Xt=[],Ht=0;Ht<xt.length;Ht++){var Ce=xt[Ht];if(F&&F!==Ce.callback&&F!==Ce.callback._callback||ae&&ae!==Ce.context)Xt.push(Ce);else{var q=Ce.listening;q&&q.off(H,F)}}Xt.length?A[H]=Xt:delete A[H]}return A}};o.once=function(A,H,F){var Z=c(h,{},A,H,this.off.bind(this));return typeof A=="string"&&F==null&&(H=void 0),this.on(Z,H,F)},o.listenToOnce=function(A,H,F){var Z=c(h,{},H,F,this.stopListening.bind(this,A));return this.listenTo(A,Z)};var h=function(A,H,F,Z){if(F){var ae=A[H]=i.once(function(){Z(H,ae),F.apply(this,arguments)});ae._callback=F}return A};o.trigger=function(A){if(!this._events)return this;for(var H=Math.max(0,arguments.length-1),F=Array(H),Z=0;Z<H;Z++)F[Z]=arguments[Z+1];return c(m,this._events,A,void 0,F),this};var m=function(A,H,F,Z){if(A){var ae=A[H],ce=A.all;ae&&ce&&(ce=ce.slice()),ae&&p(ae,Z),ce&&p(ce,[H].concat(Z))}return A},p=function(A,H){var F,Z=-1,ae=A.length,ce=H[0],ke=H[1],tt=H[2];switch(H.length){case 0:for(;++Z<ae;)(F=A[Z]).callback.call(F.ctx);return;case 1:for(;++Z<ae;)(F=A[Z]).callback.call(F.ctx,ce);return;case 2:for(;++Z<ae;)(F=A[Z]).callback.call(F.ctx,ce,ke);return;case 3:for(;++Z<ae;)(F=A[Z]).callback.call(F.ctx,ce,ke,tt);return;default:for(;++Z<ae;)(F=A[Z]).callback.apply(F.ctx,H);return}},_=function(A,H){this.id=A._listenId,this.listener=A,this.obj=H,this.interop=!0,this.count=0,this._events=void 0};_.prototype.on=o.on,_.prototype.off=function(A,H){var F;this.interop?(this._events=c(f,this._events,A,H,{context:void 0,listeners:void 0}),F=!this._events):(this.count--,F=this.count===0),F&&this.cleanup()},_.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},o.bind=o.on,o.unbind=o.off,i.extend(e,o);var y=e.Model=function(A,H){var F=A||{};H||(H={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},H.collection&&(this.collection=H.collection),H.parse&&(F=this.parse(F,H)||{});var Z=i.result(this,"defaults");F=i.defaults(i.extend({},Z,F),Z),this.set(F,H),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,o,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return i.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!i.iteratee(A,this)(this.attributes)},set:function(A,H,F){if(A==null)return this;var Z;if(typeof A=="object"?(Z=A,F=H):(Z={})[A]=H,F||(F={}),!this._validate(Z,F))return!1;var ae=F.unset,ce=F.silent,ke=[],tt=this._changing;this._changing=!0,tt||(this._previousAttributes=i.clone(this.attributes),this.changed={});var xt=this.attributes,Xt=this.changed,Ht=this._previousAttributes;for(var Ce in Z)H=Z[Ce],i.isEqual(xt[Ce],H)||ke.push(Ce),i.isEqual(Ht[Ce],H)?delete Xt[Ce]:Xt[Ce]=H,ae?delete xt[Ce]:xt[Ce]=H;if(this.idAttribute in Z&&(this.id=this.get(this.idAttribute)),!ce){ke.length&&(this._pending=F);for(var q=0;q<ke.length;q++)this.trigger("change:"+ke[q],this,xt[ke[q]],F)}if(tt)return this;if(!ce)for(;this._pending;)F=this._pending,this._pending=!1,this.trigger("change",this,F);return this._pending=!1,this._changing=!1,this},unset:function(A,H){return this.set(A,void 0,i.extend({},H,{unset:!0}))},clear:function(A){var H={};for(var F in this.attributes)H[F]=void 0;return this.set(H,i.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!i.isEmpty(this.changed):i.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?i.clone(this.changed):!1;var H=this._changing?this._previousAttributes:this.attributes,F={},Z;for(var ae in A){var ce=A[ae];i.isEqual(H[ae],ce)||(F[ae]=ce,Z=!0)}return Z?F:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(A){A=i.extend({parse:!0},A);var H=this,F=A.success;return A.success=function(Z){var ae=A.parse?H.parse(Z,A):Z;if(!H.set(ae,A))return!1;F&&F.call(A.context,H,Z,A),H.trigger("sync",H,Z,A)},ye(this,A),this.sync("read",this,A)},save:function(A,H,F){var Z;A==null||typeof A=="object"?(Z=A,F=H):(Z={})[A]=H,F=i.extend({validate:!0,parse:!0},F);var ae=F.wait;if(Z&&!ae){if(!this.set(Z,F))return!1}else if(!this._validate(Z,F))return!1;var ce=this,ke=F.success,tt=this.attributes;F.success=function(Ht){ce.attributes=tt;var Ce=F.parse?ce.parse(Ht,F):Ht;if(ae&&(Ce=i.extend({},Z,Ce)),Ce&&!ce.set(Ce,F))return!1;ke&&ke.call(F.context,ce,Ht,F),ce.trigger("sync",ce,Ht,F)},ye(this,F),Z&&ae&&(this.attributes=i.extend({},tt,Z));var xt=this.isNew()?"create":F.patch?"patch":"update";xt==="patch"&&!F.attrs&&(F.attrs=Z);var Xt=this.sync(xt,this,F);return this.attributes=tt,Xt},destroy:function(A){A=A?i.clone(A):{};var H=this,F=A.success,Z=A.wait,ae=function(){H.stopListening(),H.trigger("destroy",H,H.collection,A)};A.success=function(ke){Z&&ae(),F&&F.call(A.context,H,ke,A),H.isNew()||H.trigger("sync",H,ke,A)};var ce=!1;return this.isNew()?i.defer(A.success):(ye(this,A),ce=this.sync("delete",this,A)),Z||ae(),ce},url:function(){var A=i.result(this,"urlRoot")||i.result(this.collection,"url")||Ci();if(this.isNew())return A;var H=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(H)},parse:function(A,H){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},i.extend({},A,{validate:!0}))},_validate:function(A,H){if(!H.validate||!this.validate)return!0;A=i.extend({},this.attributes,A);var F=this.validationError=this.validate(A,H)||null;return F?(this.trigger("invalid",this,F,i.extend(H,{validationError:F})),!1):!0}});var S=e.Collection=function(A,H){H||(H={}),this.preinitialize.apply(this,arguments),H.model&&(this.model=H.model),H.comparator!==void 0&&(this.comparator=H.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,i.extend({silent:!0},H))},T={add:!0,remove:!0,merge:!0},D={add:!0,remove:!1},k=function(A,H,F){F=Math.min(Math.max(F,0),A.length);var Z=Array(A.length-F),ae=H.length,ce;for(ce=0;ce<Z.length;ce++)Z[ce]=A[ce+F];for(ce=0;ce<ae;ce++)A[ce+F]=H[ce];for(ce=0;ce<Z.length;ce++)A[ce+ae+F]=Z[ce]};i.extend(S.prototype,o,{model:y,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(H){return H.toJSON(A)})},sync:function(){return e.sync.apply(this,arguments)},add:function(A,H){return this.set(A,i.extend({merge:!1},H,D))},remove:function(A,H){H=i.extend({},H);var F=!i.isArray(A);A=F?[A]:A.slice();var Z=this._removeModels(A,H);return!H.silent&&Z.length&&(H.changes={added:[],merged:[],removed:Z},this.trigger("update",this,H)),F?Z[0]:Z},set:function(A,H){if(A!=null){H=i.extend({},T,H),H.parse&&!this._isModel(A)&&(A=this.parse(A,H)||[]);var F=!i.isArray(A);A=F?[A]:A.slice();var Z=H.at;Z!=null&&(Z=+Z),Z>this.length&&(Z=this.length),Z<0&&(Z+=this.length+1);var ae=[],ce=[],ke=[],tt=[],xt={},Xt=H.add,Ht=H.merge,Ce=H.remove,q=!1,B=this.comparator&&Z==null&&H.sort!==!1,Me=i.isString(this.comparator)?this.comparator:null,Te,Ne;for(Ne=0;Ne<A.length;Ne++){Te=A[Ne];var ot=this.get(Te);if(ot){if(Ht&&Te!==ot){var ct=this._isModel(Te)?Te.attributes:Te;H.parse&&(ct=ot.parse(ct,H)),ot.set(ct,H),ke.push(ot),B&&!q&&(q=ot.hasChanged(Me))}xt[ot.cid]||(xt[ot.cid]=!0,ae.push(ot)),A[Ne]=ot}else Xt&&(Te=A[Ne]=this._prepareModel(Te,H),Te&&(ce.push(Te),this._addReference(Te,H),xt[Te.cid]=!0,ae.push(Te)))}if(Ce){for(Ne=0;Ne<this.length;Ne++)Te=this.models[Ne],xt[Te.cid]||tt.push(Te);tt.length&&this._removeModels(tt,H)}var Tt=!1,ut=!B&&Xt&&Ce;if(ae.length&&ut?(Tt=this.length!==ae.length||i.some(this.models,function(Oi,cr){return Oi!==ae[cr]}),this.models.length=0,k(this.models,ae,0),this.length=this.models.length):ce.length&&(B&&(q=!0),k(this.models,ce,Z??this.length),this.length=this.models.length),q&&this.sort({silent:!0}),!H.silent){for(Ne=0;Ne<ce.length;Ne++)Z!=null&&(H.index=Z+Ne),Te=ce[Ne],Te.trigger("add",Te,this,H);(q||Tt)&&this.trigger("sort",this,H),(ce.length||tt.length||ke.length)&&(H.changes={added:ce,removed:tt,merged:ke},this.trigger("update",this,H))}return F?A[0]:A}},reset:function(A,H){H=H?i.clone(H):{};for(var F=0;F<this.models.length;F++)this._removeReference(this.models[F],H);return H.previousModels=this.models,this._reset(),A=this.add(A,i.extend({silent:!0},H)),H.silent||this.trigger("reset",this,H),A},push:function(A,H){return this.add(A,i.extend({at:this.length},H))},pop:function(A){var H=this.at(this.length-1);return this.remove(H,A)},unshift:function(A,H){return this.add(A,i.extend({at:0},H))},shift:function(A){var H=this.at(0);return this.remove(H,A)},slice:function(){return s.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,H){return this[H?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var H=this.comparator;if(!H)throw new Error("Cannot sort a set without a comparator");A||(A={});var F=H.length;return i.isFunction(H)&&(H=H.bind(this)),F===1||i.isString(H)?this.models=this.sortBy(H):this.models.sort(H),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=i.extend({parse:!0},A);var H=A.success,F=this;return A.success=function(Z){var ae=A.reset?"reset":"set";F[ae](Z,A),H&&H.call(A.context,F,Z,A),F.trigger("sync",F,Z,A)},ye(this,A),this.sync("read",this,A)},create:function(A,H){H=H?i.clone(H):{};var F=H.wait;if(A=this._prepareModel(A,H),!A)return!1;F||this.add(A,H);var Z=this,ae=H.success;return H.success=function(ce,ke,tt){F&&Z.add(ce,tt),ae&&ae.call(tt.context,ce,ke,tt)},A.save(null,H),A},parse:function(A,H){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A){return A[this.model.prototype.idAttribute||"id"]},values:function(){return new M(this,C)},keys:function(){return new M(this,x)},entries:function(){return new M(this,w)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,H){if(this._isModel(A))return A.collection||(A.collection=this),A;H=H?i.clone(H):{},H.collection=this;var F=new this.model(A,H);return F.validationError?(this.trigger("invalid",this,F.validationError,H),!1):F},_removeModels:function(A,H){for(var F=[],Z=0;Z<A.length;Z++){var ae=this.get(A[Z]);if(ae){var ce=this.indexOf(ae);this.models.splice(ce,1),this.length--,delete this._byId[ae.cid];var ke=this.modelId(ae.attributes);ke!=null&&delete this._byId[ke],H.silent||(H.index=ce,ae.trigger("remove",ae,this,H)),F.push(ae),this._removeReference(ae,H)}}return F},_isModel:function(A){return A instanceof y},_addReference:function(A,H){this._byId[A.cid]=A;var F=this.modelId(A.attributes);F!=null&&(this._byId[F]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,H){delete this._byId[A.cid];var F=this.modelId(A.attributes);F!=null&&delete this._byId[F],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,H,F,Z){if(H){if((A==="add"||A==="remove")&&F!==this)return;if(A==="destroy"&&this.remove(H,Z),A==="change"){var ae=this.modelId(H.previousAttributes()),ce=this.modelId(H.attributes);ae!==ce&&(ae!=null&&delete this._byId[ae],ce!=null&&(this._byId[ce]=H))}}this.trigger.apply(this,arguments)}});var b=typeof Symbol=="function"&&Symbol.iterator;b&&(S.prototype[b]=S.prototype.values);var M=function(A,H){this._collection=A,this._kind=H,this._index=0},C=1,x=2,w=3;b&&(M.prototype[b]=function(){return this}),M.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var H;if(this._kind===C)H=A;else{var F=this._collection.modelId(A.attributes);this._kind===x?H=F:H=[F,A]}return{value:H,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=e.View=function(A){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(A,j)),this._ensureElement(),this.initialize.apply(this,arguments)},O=/^(\S+)\s*(.*)$/,j=["model","collection","el","id","attributes","className","tagName","events"];i.extend(E.prototype,o,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof e.$?A:e.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=i.result(this,"events")),!A)return this;this.undelegateEvents();for(var H in A){var F=A[H];if(i.isFunction(F)||(F=this[F]),!!F){var Z=H.match(O);this.delegate(Z[1],Z[2],F.bind(this))}}return this},delegate:function(A,H,F){return this.$el.on(A+".delegateEvents"+this.cid,H,F),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,H,F){return this.$el.off(A+".delegateEvents"+this.cid,H,F),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var A=i.extend({},i.result(this,"attributes"));this.id&&(A.id=i.result(this,"id")),this.className&&(A.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var Q=function(A,H,F,Z){switch(H){case 1:return function(){return A[F](this[Z])};case 2:return function(ae){return A[F](this[Z],ae)};case 3:return function(ae,ce){return A[F](this[Z],K(ae,this),ce)};case 4:return function(ae,ce,ke){return A[F](this[Z],K(ae,this),ce,ke)};default:return function(){var ae=s.call(arguments);return ae.unshift(this[Z]),A[F].apply(A,ae)}}},X=function(A,H,F,Z){i.each(F,function(ae,ce){H[ce]&&(A.prototype[ce]=Q(H,ae,ce,Z))})},K=function(A,H){return i.isFunction(A)?A:i.isObject(A)&&!H._isModel(A)?Y(A):i.isString(A)?function(F){return F.get(A)}:A},Y=function(A){var H=i.matches(A);return function(F){return H(F.attributes)}},ie={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},be={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[S,ie,"models"],[y,be,"attributes"]],function(A){var H=A[0],F=A[1],Z=A[2];H.mixin=function(ae){var ce=i.reduce(i.functions(ae),function(ke,tt){return ke[tt]=0,ke},{});X(H,ae,ce,Z)},X(H,i,F,Z)}),e.sync=function(A,H,F){var Z=Pe[A];i.defaults(F||(F={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var ae={type:Z,dataType:"json"};if(F.url||(ae.url=i.result(H,"url")||Ci()),F.data==null&&H&&(A==="create"||A==="update"||A==="patch")&&(ae.contentType="application/json",ae.data=JSON.stringify(F.attrs||H.toJSON(F))),F.emulateJSON&&(ae.contentType="application/x-www-form-urlencoded",ae.data=ae.data?{model:ae.data}:{}),F.emulateHTTP&&(Z==="PUT"||Z==="DELETE"||Z==="PATCH")){ae.type="POST",F.emulateJSON&&(ae.data._method=Z);var ce=F.beforeSend;F.beforeSend=function(xt){if(xt.setRequestHeader("X-HTTP-Method-Override",Z),ce)return ce.apply(this,arguments)}}ae.type!=="GET"&&!F.emulateJSON&&(ae.processData=!1);var ke=F.error;F.error=function(xt,Xt,Ht){F.textStatus=Xt,F.errorThrown=Ht,ke&&ke.call(F.context,xt,Xt,Ht)};var tt=F.xhr=e.ajax(i.extend(ae,F));return H.trigger("request",H,tt,F),tt};var Pe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var we=e.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Le=/\((.*?)\)/g,at=/(\(\?)?:\w+/g,Ze=/\*\w+/g,Je=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(we.prototype,o,{preinitialize:function(){},initialize:function(){},route:function(A,H,F){i.isRegExp(A)||(A=this._routeToRegExp(A)),i.isFunction(H)&&(F=H,H=""),F||(F=this[H]);var Z=this;return e.history.route(A,function(ae){var ce=Z._extractParameters(A,ae);Z.execute(F,ce,H)!==!1&&(Z.trigger.apply(Z,["route:"+H].concat(ce)),Z.trigger("route",H,ce),e.history.trigger("route",Z,H,ce))}),this},execute:function(A,H,F){A&&A.apply(this,H)},navigate:function(A,H){return e.history.navigate(A,H),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var A,H=i.keys(this.routes);(A=H.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Je,"\\$&").replace(Le,"(?:$1)?").replace(at,function(H,F){return F?H:"([^/?]+)"}).replace(Ze,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,H){var F=A.exec(H).slice(1);return i.map(F,function(Z,ae){return ae===F.length-1?Z||null:Z?decodeURIComponent(Z):null})}});var lt=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},bt=/^[#\/]|\s+$/g,wt=/^\/+|\/+$/g,oi=/#.*$/;lt.started=!1,i.extend(lt.prototype,o,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),H=A.slice(0,this.root.length-1)+"/";return H===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var H=(A||this).location.href.match(/#(.*)$/);return H?H[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(bt,"")},start:function(A){if(lt.started)throw new Error("Backbone.history has already been started");if(lt.started=!0,this.options=i.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(wt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var H=this.root.slice(0,-1)||"/";return this.location.replace(H+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var F=document.body,Z=F.insertBefore(this.iframe,F.firstChild).contentWindow;Z.document.open(),Z.document.close(),Z.location.hash="#"+this.fragment}var ae=window.addEventListener||function(ce,ke){return attachEvent("on"+ce,ke)};if(this._usePushState?ae("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ae("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(H,F){return detachEvent("on"+H,F)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),lt.started=!1},route:function(A,H){this.handlers.unshift({route:A,callback:H})},checkUrl:function(A){var H=this.getFragment();if(H===this.fragment&&this.iframe&&(H=this.getHash(this.iframe.contentWindow)),H===this.fragment)return!1;this.iframe&&this.navigate(H),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),i.some(this.handlers,function(H){if(H.route.test(A))return H.callback(A),!0})):!1},navigate:function(A,H){if(!lt.started)return!1;(!H||H===!0)&&(H={trigger:!!H}),A=this.getFragment(A||"");var F=this.root;(A===""||A.charAt(0)==="?")&&(F=F.slice(0,-1)||"/");var Z=F+A;A=A.replace(oi,"");var ae=this.decodeFragment(A);if(this.fragment!==ae){if(this.fragment=ae,this._usePushState)this.history[H.replace?"replaceState":"pushState"]({},document.title,Z);else if(this._wantsHashChange){if(this._updateHash(this.location,A,H.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var ce=this.iframe.contentWindow;H.replace||(ce.document.open(),ce.document.close()),this._updateHash(ce.location,A,H.replace)}}else return this.location.assign(Z);if(H.trigger)return this.loadUrl(A)}},_updateHash:function(A,H,F){if(F){var Z=A.href.replace(/(javascript:|#).*$/,"");A.replace(Z+"#"+H)}else A.hash="#"+H}}),e.history=new lt;var mi=function(A,H){var F=this,Z;return A&&i.has(A,"constructor")?Z=A.constructor:Z=function(){return F.apply(this,arguments)},i.extend(Z,F,H),Z.prototype=i.create(F.prototype,A),Z.prototype.constructor=Z,Z.__super__=F.prototype,Z};y.extend=S.extend=we.extend=E.extend=lt.extend=mi;var Ci=function(){throw new Error('A "url" property or function must be specified')},ye=function(A,H){var F=H.error;H.error=function(Z){F&&F.call(H.context,A,Z,H),A.trigger("error",A,Z,H)}};return e})});function SB(t){let e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;for(;--i>=0&&e.item(i)!==this;);return i>-1}var EB,Vf,OV,_x,MB=$(()=>{EB=P(rM()),Vf=typeof Element<"u"?Element.prototype:void 0;OV=Vf&&(Vf.matches||Vf.webkitMatchesSelector||Vf.mozMatchesSelector||Vf.msMatchesSelector||Vf.oMatchesSelector)||SB,_x=class extends EB.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(let i in e)i in this.el?this.el[i]=e[i]:this.el.setAttribute(i,e[i])}delegate(e,i,n){typeof i!="string"&&(n=i,i=null),this._domEvents===void 0&&(this._domEvents=[]);let r=this.el,s=i?function(o){let a=o.target||o.srcElement;for(;a&&a!==r;a=a.parentNode)if(OV.call(a,i))return o.delegateTarget=a,n.handleEvent?n.handleEvent(o):n(o)}:n;return this.el.addEventListener(e,s,!1),this._domEvents.push({eventName:e,handler:s,listener:n,selector:i}),s}undelegate(e,i,n){if(typeof i=="function"&&(n=i,i=null),this.el&&this._domEvents){let r=this._domEvents.slice(),s=r.length;for(;s--;){let o=r[s];o.eventName===e&&(!n||o.listener===n)&&(!i||o.selector===i)&&(this.el.removeEventListener(o.eventName,o.handler,!1),this._domEvents.splice(s,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){let e=this._domEvents.length;for(let i=0;i<e;i++){let n=this._domEvents[i];this.el.removeEventListener(n.eventName,n.handler,!1)}this._domEvents.length=0}return this}}});var ml,vx,bx=$(()=>{ml="2.0.0",vx="2.1.0"});function cs(t,e){if(Array.isArray(t)){let i=[];for(let n of t)i.push(cs(n,e));return Promise.all(i)}else if(t instanceof Object&&typeof t!="string"){let i={};for(let[n,r]of Object.entries(t))i[n]=cs(r,e);return oa(i)}else return typeof t=="string"&&t.slice(0,10)===RB?e.get_model(t.slice(10,t.length)):Promise.resolve(t)}function oM(t,e){if(Array.isArray(t)){let i=[];for(let n of t)i.push(oM(n,e));return i}else{if(t instanceof Fs)return`${RB}${t.model_id}`;if(t instanceof Object&&typeof t!="string"){let i={};for(let[n,r]of Object.entries(t))i[n]=oM(r,e);return i}else return t}}var IB,sM,TB,RB,Fs,Ws,bc,Ng,DV,la,zV,Nt,Og=$(()=>{Rd();Bz();IB=P(rM()),sM=P(Ud());MB();TB=P(Jn());vv();Gc();bx();RB="IPY_MODEL_";Fs=class extends IB.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:ml,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:ml,_view_count:null}}isNew(){return!1}initialize(e,i){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,i),this.widget_manager=i.widget_manager,this.model_id=i.model_id;let n=i.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},n?(this.comm=n,n.on_close(this._handle_comm_closed.bind(this)),n.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,i,n){if(this.comm!==void 0){let r={method:"custom",content:e};this.comm.send(r,i,{},n)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){let i=Object.keys(this.views).map(n=>this.views[n].then(r=>r.remove()));return delete this.views,Promise.all(i).then(()=>{})}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){let i=e.content.data,n=i.method;switch(n){case"update":case"echo_update":return this.state_change=this.state_change.then(()=>{var r,s,o;let a=i.state,l=(r=i.buffer_paths)!==null&&r!==void 0?r:[],c=(o=(s=e.buffers)===null||s===void 0?void 0:s.slice(0,l.length))!==null&&o!==void 0?o:[];if(lc(a,l,c),e.parent_header&&n==="echo_update"){let d=e.parent_header.msg_id;Object.keys(a).filter(f=>this._expectedEchoMsgIds.has(f)).forEach(f=>{this._expectedEchoMsgIds.get(f)!==d?delete a[f]:(this._expectedEchoMsgIds.delete(f),this._msg_buffer!==null&&Object.prototype.hasOwnProperty.call(this._msg_buffer,f)&&delete a[f])})}return this.constructor._deserialize_state(a,this.widget_manager)}).then(r=>{this.set_state(r)}).catch(er(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",i.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(i){console.error(`Error setting state: ${i instanceof Error?i.message:i}`)}finally{this._state_lock=null}}get_state(e){let i=this.attributes;if(e){let n=this.defaults,r=typeof n=="function"?n.call(this):n,s={};return Object.keys(i).forEach(o=>{bf(i[o],r[o])||(s[o]=i[o])}),s}else return Object.assign({},i)}_handle_status(e){if(this.comm!==void 0&&e.content.execution_state==="idle"&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),this._msg_buffer!==null&&this._pending_msgs<1)){let i=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(i),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,i,n){let r=Pz.call(this,e,i,n);if(this._buffered_state_diff!==void 0){let s=this.changedAttributes()||{};if(this._state_lock)for(let o of Object.keys(this._state_lock))s[o]===this._state_lock[o]&&delete s[o];if(this._buffered_state_diff_synced)for(let o of Object.keys(this._buffered_state_diff_synced))s[o]===this._buffered_state_diff_synced[o]&&delete s[o];this._buffered_state_diff=sa(this._buffered_state_diff,s)}return this._changing===!1&&(this._buffered_state_diff_synced={}),r}sync(e,i,n={}){if(this.comm===void 0)throw"Syncing error: no comm channel defined";let r=e==="patch"?n.attrs:i.get_state(n.drop_defaults);if(this._state_lock)for(let o of Object.keys(this._state_lock))r[o]===this._state_lock[o]&&delete r[o];Object.keys(r).forEach(o=>{this._attrsToUpdate.add(o)});let s=this.serialize(r);if(Object.keys(s).length>0){let o=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=sa(this._msg_buffer||{},s);break;case"update":case"create":this._msg_buffer=s;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=o}else{let a=this.send_sync_message(r,o);this.rememberLastUpdateFor(a)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach(i=>{this._expectedEchoMsgIds.set(i,e)}),this._attrsToUpdate=new Set}serialize(e){let i=this.constructor.serializers||TB.JSONExt.emptyObject;for(let n of Object.keys(e))try{i[n]&&i[n].serialize?e[n]=i[n].serialize(e[n],this):e[n]=JSON.parse(JSON.stringify(e[n])),e[n]&&e[n].toJSON&&(e[n]=e[n].toJSON())}catch(r){throw console.error("Error serializing widget state attribute: ",n),r}return e}send_sync_message(e,i={}){if(!this.comm)return"";try{i={shell:Object.assign({},i.shell),iopub:Object.assign({},i.iopub),input:i.input};let n=i.iopub.status;i.iopub.status=o=>{this._handle_status(o),n&&n(o)};let r=tg(e),s=this.comm.send({method:"update",state:r.state,buffer_paths:r.buffer_paths},i,{},r.buffers);return this._pending_msgs++,s}catch(n){console.error("Could not send widget sync message",n)}return""}save_changes(e){if(this.comm_live){let i={patch:!0};e&&(i.callbacks=e),this.save(this._buffered_state_diff,i),this._changing&&sa(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,i,n){this.on("change",(...r)=>{e.some(this.hasChanged,this)&&i.apply(n,r)},this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,i){let n=this.serializers,r;if(n){r={};for(let s in e)n[s]&&n[s].deserialize?r[s]=n[s].deserialize(e[s],i):r[s]=e[s]}else r=e;return oa(r)}},Ws=class extends Fs{defaults(){return sa(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}};Ws.serializers=Object.assign(Object.assign({},Fs.serializers),{layout:{deserialize:cs},style:{deserialize:cs}});bc=class extends _x{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",(i,n)=>{let r=Object.keys(this.model.changedAttributes()||{});r[0]==="_view_count"&&r.length===1||this.update(n)}),this.options=e.options,this.once("remove",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())}),this.once("displayed",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())}),this.displayed=new Promise((i,n)=>{this.once("displayed",i),this.model.on("msg:custom",this.handle_message.bind(this))})}handle_message(e){e.do==="focus"?this.el.focus():e.do==="blur"&&this.el.blur()}update(e){}render(){}create_child_view(e,i={}){return i=Object.assign({parent:this},i),this.model.widget_manager.create_view(e,i).catch(er("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,i){this.model.send(e,this.callbacks(),i)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}},Ng=class extends un{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}},DV=Ng,la=class extends Ms{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),(e=this._view)===null||e===void 0||e.remove(),this._view=null)}},zV=la,Nt=class extends bc{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",(i,n)=>{let r=i.previous("_dom_classes");this.update_classes(r,n)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",(i,n)=>{this.setLayout(n,i.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",(i,n)=>{this.setStyle(n,i.previous("style"))}),this.displayed.then(()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",()=>{this._comm_live_update()}),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,i){e&&(this.layoutPromise=this.layoutPromise.then(n=>(n&&(n.unlayout(),this.stopListening(n.model),n.remove()),this.create_child_view(e).then(r=>this.displayed.then(()=>(r.trigger("displayed"),this.listenTo(r.model,"change",()=>{jo.postMessage(this.luminoWidget,un.ResizeMessage.UnknownSize)}),jo.postMessage(this.luminoWidget,un.ResizeMessage.UnknownSize),this.trigger("layout-changed"),r))).catch(er("Could not add LayoutView to DOMWidgetView",!0)))))}setStyle(e,i){e&&(this.stylePromise=this.stylePromise.then(n=>(n&&(n.unstyle(),this.stopListening(n.model),n.remove()),this.create_child_view(e).then(r=>this.displayed.then(()=>(r.trigger("displayed"),this.trigger("style-changed"),r))).catch(er("Could not add styleView to DOMWidgetView",!0)))))}updateTooltip(){let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,i,n){n===void 0&&(n=this.el),d0(e,i).map(function(r){n.classList?n.classList.remove(r):n.setAttribute("class",n.getAttribute("class").replace(r,""))}),d0(i,e).map(function(r){n.classList?n.classList.add(r):n.setAttribute("class",n.getAttribute("class").concat(" ",r))})}update_mapped_classes(e,i,n){let r=this.model.previous(i),s=e[r]?e[r]:[];r=this.model.get(i);let o=e[r]?e[r]:[];this.update_classes(s,o,n||this.el)}set_mapped_classes(e,i,n){let r=this.model.get(i),s=e[r]?e[r]:[];this.update_classes([],s,n||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof sM.default?e:(0,sM.default)(e),this.el=this.$el[0],this.luminoWidget=new Ng({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown");break}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){let e=this.model.get("tabbable");e===!0?this.el.setAttribute("tabIndex","0"):e===!1?this.el.setAttribute("tabIndex","-1"):e===null&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}set pWidget(e){this.luminoWidget=e}}});var AB=$(()=>{});var kB,aM,lM,LB=$(()=>{Rd();Og();kB={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null},aM=class extends Fs{defaults(){return sa(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},kB)}},lM=class extends bc{initialize(e){this._traitNames=[],super.initialize(e);for(let i of Object.keys(kB))this.registerTrait(i)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(i,n)=>{this.handleChange(e,n)}),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,i){let n=this.options.parent;n?i===null?n.el.style.removeProperty(this.css_name(e)):n.el.style.setProperty(this.css_name(e),i):console.warn("Style not applied because a parent view does not exist")}unlayout(){let e=this.options.parent;this._traitNames.forEach(i=>{e?e.el.style.removeProperty(this.css_name(i)):console.warn("Style not removed because a parent view does not exist")},this)}}});var xc,cM,NB=$(()=>{Rd();Og();xc=class extends Fs{defaults(){let e=this.constructor;return sa(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce((i,n)=>(i[n]=e.styleProperties[n].default,i),{}))}};xc.styleProperties={};cM=class extends bc{initialize(e){this._traitNames=[],super.initialize(e);let i=this.model.constructor;for(let n of Object.keys(i.styleProperties))this.registerTrait(n);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(i,n)=>{this.handleChange(e,n)})}handleChange(e,i){let n=this.options.parent;if(n){let s=this.model.constructor.styleProperties,o=s[e].attribute,a=s[e].selector,l=a?n.el.querySelectorAll(a):[n.el];if(i===null)for(let c=0;c!==l.length;++c)l[c].style.removeProperty(o);else for(let c=0;c!==l.length;++c)l[c].style.setProperty(o,i)}else console.warn("Style not applied because a parent view does not exist")}style(){for(let e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){let e=this.options.parent,n=this.model.constructor.styleProperties;this._traitNames.forEach(r=>{if(e){let s=n[r].attribute,o=n[r].selector,a=o?e.el.querySelectorAll(o):[e.el];for(let l=0;l!==a.length;++l)a[l].style.removeProperty(s)}else console.warn("Style not removed because a parent view does not exist")},this)}}});var Gf,OB=$(()=>{(function(t){let e;(function(i){class n{constructor(o){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(o)}init_kernel(o){this.kernel=o,this.jsServicesKernel=o}async new_comm(o,a,l,c,d,u){let f=this.jsServicesKernel.createComm(o,d),h=new r(f);return this.register_comm(h),h.open(a,l,c,u),h}register_target(o,a){let l=this.jsServicesKernel.registerCommTarget(o,(c,d)=>{let u=new r(c);this.register_comm(u);try{return a(u,d)}catch(f){u.close(),console.error(f),console.error(new Error("Exception opening new comm"))}});this.targets[o]=l}unregister_target(o,a){this.targets[o].dispose(),delete this.targets[o]}register_comm(o){return this.comms[o.comm_id]=Promise.resolve(o),o.kernel=this.kernel,o.comm_id}}i.CommManager=n;class r{constructor(o){this.jsServicesComm=o}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(o,a,l,c){let d=this.jsServicesComm.open(o,l,c);return this._hookupCallbacks(d,a),d.msg.header.msg_id}send(o,a,l,c){let d=this.jsServicesComm.send(o,l,c);return this._hookupCallbacks(d,a),d.msg.header.msg_id}close(o,a,l,c){let d=this.jsServicesComm.close(o,l,c);return this._hookupCallbacks(d,a),d.msg.header.msg_id}on_msg(o){this.jsServicesComm.onMsg=o.bind(this)}on_close(o){this.jsServicesComm.onClose=o.bind(this)}_hookupCallbacks(o,a){a&&(o.onReply=function(l){a.shell&&a.shell.reply&&a.shell.reply(l)},o.onStdin=function(l){a.input&&a.input(l)},o.onIOPub=function(l){if(a.iopub){if(a.iopub.status&&l.header.msg_type==="status")a.iopub.status(l);else if(a.iopub.clear_output&&l.header.msg_type==="clear_output")a.iopub.clear_output(l);else if(a.iopub.output)switch(l.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":a.iopub.output(l);break;default:break}}})}}i.Comm=r})(e=t.services||(t.services={}))})(Gf||(Gf={}))});var yo,DB=$(()=>{yo=class{constructor(e,i,n){this.initialize(e,i,n)}initialize(e,i,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=i||function(r){r.remove()}}update(e,i,n,r){let s=n||this._remove_view,o=i||this._create_view;r=r||this._handler_context;let a=0;for(;a<e.length&&!(a>=this._models.length||e[a]!==this._models[a]);a++);let l=a,c=this.views.splice(l,this.views.length-l);for(let d=0;d<c.length;d++)c[d].then(function(u){s.call(r,u)});for(;a<e.length;a++)this.views.push(Promise.resolve(o.call(r,e[a],a)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then(e=>{e.forEach(i=>this._remove_view.call(this._handler_context,i)),this.views=[],this._models=[]})}dispose(){this.views=null,this._models=null}}});var zB,PV,PB=$(()=>{zB=P(Jn()),PV=new zB.Token("jupyter.extensions.jupyterWidgetRegistry")});function Dg(t,e){class i extends Ws{constructor(r,s){r=Object.assign(Object.assign({},r),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:ml,_view_module_version:ml,msg:e,error:t}),super(r,s),this.comm_live=!0}}return i}function dM(t,e){return class extends Yf{generateErrorMessage(){return{msg:e,stack:String(t instanceof Error?t.stack:t)}}}}var Yf,BB=$(()=>{Og();bx();Rd();Yf=class extends Nt{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){let{msg:e,stack:i}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");let n=document.createElement("div");n.classList.add("jupyter-widgets-error-widget","icon-error"),n.innerHTML=u0;let r=document.createElement("pre");r.style.textAlign="center",r.innerText="Click to show javascript error.",n.append(r),this.el.appendChild(n);let s,o;this.el.onclick=()=>{n.classList.contains("icon-error")&&(o=o||n.clientHeight,s=s||n.clientWidth,n.classList.remove("icon-error"),n.innerHTML=`
        <pre>[Open Browser Console for more detailed log - Double click to close this message]
${e}
${i}</pre>
        `,n.style.height=`${o}px`,n.style.width=`${s}px`,n.classList.add("text-error"))},this.el.ondblclick=()=>{n.classList.contains("text-error")&&(n.classList.remove("text-error"),n.innerHTML=u0,n.append(r),n.classList.add("icon-error"))}}}});var zg={};Uu(zg,{BROKEN_FILE_SVG_ICON:()=>u0,DOMWidgetModel:()=>Ws,DOMWidgetView:()=>Nt,ErrorWidgetView:()=>Yf,IJupyterWidgetRegistry:()=>PV,JUPYTER_WIDGETS_VERSION:()=>ml,JupyterLuminoPanelWidget:()=>la,JupyterLuminoWidget:()=>Ng,JupyterPhosphorPanelWidget:()=>zV,JupyterPhosphorWidget:()=>DV,LayoutModel:()=>aM,LayoutView:()=>lM,PROTOCOL_VERSION:()=>vx,StyleModel:()=>xc,StyleView:()=>cM,ViewList:()=>yo,WidgetModel:()=>Fs,WidgetView:()=>bc,assign:()=>sa,createErrorWidgetModel:()=>Dg,createErrorWidgetView:()=>dM,difference:()=>d0,isEqual:()=>bf,isObject:()=>Oz,isSerializable:()=>Nz,pack_models:()=>oM,put_buffers:()=>lc,reject:()=>er,remove_buffers:()=>tg,resolvePromisesDict:()=>oa,shims:()=>Gf,unpack_models:()=>cs,uuid:()=>ni});var $i=$(()=>{Og();AB();LB();NB();OB();DB();bx();Rd();PB();BB()});var FB=Ve(xx=>{"use strict";xx.byteLength=jV;xx.toByteArray=FV;xx.fromByteArray=qV;var ca=[],$s=[],BV=typeof Uint8Array<"u"?Uint8Array:Array,uM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Vd=0,jB=uM.length;Vd<jB;++Vd)ca[Vd]=uM[Vd],$s[uM.charCodeAt(Vd)]=Vd;var Vd,jB;$s["-".charCodeAt(0)]=62;$s["_".charCodeAt(0)]=63;function HB(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function jV(t){var e=HB(t),i=e[0],n=e[1];return(i+n)*3/4-n}function HV(t,e,i){return(e+i)*3/4-i}function FV(t){var e,i=HB(t),n=i[0],r=i[1],s=new BV(HV(t,n,r)),o=0,a=r>0?n-4:n,l;for(l=0;l<a;l+=4)e=$s[t.charCodeAt(l)]<<18|$s[t.charCodeAt(l+1)]<<12|$s[t.charCodeAt(l+2)]<<6|$s[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=$s[t.charCodeAt(l)]<<2|$s[t.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=$s[t.charCodeAt(l)]<<10|$s[t.charCodeAt(l+1)]<<4|$s[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function WV(t){return ca[t>>18&63]+ca[t>>12&63]+ca[t>>6&63]+ca[t&63]}function $V(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),r.push(WV(n));return r.join("")}function qV(t){for(var e,i=t.length,n=i%3,r=[],s=16383,o=0,a=i-n;o<a;o+=s)r.push($V(t,o,o+s>a?a:o+s));return n===1?(e=t[i-1],r.push(ca[e>>2]+ca[e<<4&63]+"==")):n===2&&(e=(t[i-2]<<8)+t[i-1],r.push(ca[e>>10]+ca[e>>4&63]+ca[e<<2&63]+"=")),r.join("")}});function WB(t){let e=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=parseInt(t.slice(i,i+2),16);return e.buffer}function $B(t){return(0,yx.fromByteArray)(new Uint8Array(t))}function qB(t){return(0,yx.toByteArray)(t).buffer}var yx,hM=$(()=>{yx=P(FB())});function VB(t){let e=[],i=null,n=null,r=null,s=0,o;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(d,u)=>u==="T"?"~":UB)):o=c=>c;let l=t.replace(/\r\n?/g,`
`).split(UV);for(let c=1,d=l.length;c<d;c+=2){let u=l[c];u.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(u)):i!==null?u===n?s?r=c:(l=fM(i,c,o,e,l),i=null,n=null,r=null):u.match(/\n.*\n/)?(r!==null&&(c=r,l=fM(i,c,o,e,l)),i=null,n=null,r=null,s=0):u==="{"?s++:u==="}"&&s&&s--:u===UB||u==="$$"?(i=c,n=u,s=0):u==="\\\\("||u==="\\\\["?(i=c,n=u.slice(-1)==="("?"\\\\)":"\\\\]",s=0):u.substr(1,5)==="begin"&&(i=c,n="\\end"+u.substr(6),s=0)}return i!==null&&r!==null&&(l=fM(i,r,o,e,l),i=null,n=null,r=null),{text:o(l.join("")),math:e}}function GB(t,e){let i=(n,r)=>{let s=e[r];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return t.replace(/@@(\d+)@@/g,i)}function fM(t,e,i,n,r){let s=r.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)r[e]="",e--;return r[t]="@@"+n.length+"@@",i&&(s=i(s)),n.push(s),r}var UB,UV,YB=$(()=>{UB="$",UV=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});var QB=Ve((X1e,ZB)=>{var VV=o6(),KB=a6(),{isPlainObject:GV}=l6(),XB=c6(),YV=d6(),{parse:KV}=u6(),XV=["img","audio","video","picture","svg","object","map","iframe","embed"],JV=["script","style"];function Pg(t,e){t&&Object.keys(t).forEach(function(i){e(t[i],i)})}function pl(t,e){return{}.hasOwnProperty.call(t,e)}function JB(t,e){let i=[];return Pg(t,function(n){e(n)&&i.push(n)}),i}function ZV(t){for(let e in t)if(pl(t,e))return!1;return!0}function QV(t){return t.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}ZB.exports=Bg;var eG=/^[^\0\t\n\f\r /<=>]+$/;function Bg(t,e,i){if(t==null)return"";typeof t=="number"&&(t=t.toString());let n="",r="";function s(X,K){let Y=this;this.tag=X,this.attribs=K||{},this.tagPosition=n.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(_.length){let ie=_[_.length-1];ie.text+=Y.text}},this.updateParentNodeMediaChildren=function(){_.length&&XV.includes(this.tag)&&_[_.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},Bg.defaults,e),e.parser=Object.assign({},tG,e.parser);let o=function(X){return e.allowedTags===!1||(e.allowedTags||[]).indexOf(X)>-1};JV.forEach(function(X){o(X)&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${X}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let a=e.nonTextTags||["script","style","textarea","option"],l,c;e.allowedAttributes&&(l={},c={},Pg(e.allowedAttributes,function(X,K){l[K]=[];let Y=[];X.forEach(function(ie){typeof ie=="string"&&ie.indexOf("*")>=0?Y.push(KB(ie).replace(/\\\*/g,".*")):l[K].push(ie)}),Y.length&&(c[K]=new RegExp("^("+Y.join("|")+")$"))}));let d={},u={},f={};Pg(e.allowedClasses,function(X,K){if(l&&(pl(l,K)||(l[K]=[]),l[K].push("class")),d[K]=X,Array.isArray(X)){let Y=[];d[K]=[],f[K]=[],X.forEach(function(ie){typeof ie=="string"&&ie.indexOf("*")>=0?Y.push(KB(ie).replace(/\\\*/g,".*")):ie instanceof RegExp?f[K].push(ie):d[K].push(ie)}),Y.length&&(u[K]=new RegExp("^("+Y.join("|")+")$"))}});let h={},m;Pg(e.transformTags,function(X,K){let Y;typeof X=="function"?Y=X:typeof X=="string"&&(Y=Bg.simpleTransform(X)),K==="*"?m=Y:h[K]=Y});let p,_,y,S,T,D,k=!1;M();let b=new VV.Parser({onopentag:function(X,K){if(e.enforceHtmlBoundary&&X==="html"&&M(),T){D++;return}let Y=new s(X,K);_.push(Y);let ie=!1,be=!!Y.text,Pe;if(pl(h,X)&&(Pe=h[X](X,K),Y.attribs=K=Pe.attribs,Pe.text!==void 0&&(Y.innerText=Pe.text),X!==Pe.tagName&&(Y.name=X=Pe.tagName,S[p]=Pe.tagName)),m&&(Pe=m(X,K),Y.attribs=K=Pe.attribs,X!==Pe.tagName&&(Y.name=X=Pe.tagName,S[p]=Pe.tagName)),(!o(X)||e.disallowedTagsMode==="recursiveEscape"&&!ZV(y)||e.nestingLimit!=null&&p>=e.nestingLimit)&&(ie=!0,y[p]=!0,(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&a.indexOf(X)!==-1&&(T=!0,D=1),y[p]=!0),p++,ie){if(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")return;r=n,n=""}n+="<"+X,X==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(Y.innerText=""),(!l||pl(l,X)||l["*"])&&Pg(K,function(we,Le){if(!eG.test(Le)){delete Y.attribs[Le];return}if(we===""&&!e.allowedEmptyAttributes.includes(Le)&&(e.nonBooleanAttributes.includes(Le)||e.nonBooleanAttributes.includes("*"))){delete Y.attribs[Le];return}let at=!1;if(!l||pl(l,X)&&l[X].indexOf(Le)!==-1||l["*"]&&l["*"].indexOf(Le)!==-1||pl(c,X)&&c[X].test(Le)||c["*"]&&c["*"].test(Le))at=!0;else if(l&&l[X]){for(let Ze of l[X])if(GV(Ze)&&Ze.name&&Ze.name===Le){at=!0;let Je="";if(Ze.multiple===!0){let lt=we.split(" ");for(let bt of lt)Ze.values.indexOf(bt)!==-1&&(Je===""?Je=bt:Je+=" "+bt)}else Ze.values.indexOf(we)>=0&&(Je=we);we=Je}}if(at){if(e.allowedSchemesAppliedToAttributes.indexOf(Le)!==-1&&x(X,we)){delete Y.attribs[Le];return}if(X==="script"&&Le==="src"){let Ze=!0;try{let Je=w(we);if(e.allowedScriptHostnames||e.allowedScriptDomains){let lt=(e.allowedScriptHostnames||[]).find(function(wt){return wt===Je.url.hostname}),bt=(e.allowedScriptDomains||[]).find(function(wt){return Je.url.hostname===wt||Je.url.hostname.endsWith(`.${wt}`)});Ze=lt||bt}}catch{Ze=!1}if(!Ze){delete Y.attribs[Le];return}}if(X==="iframe"&&Le==="src"){let Ze=!0;try{let Je=w(we);if(Je.isRelativeUrl)Ze=pl(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){let lt=(e.allowedIframeHostnames||[]).find(function(wt){return wt===Je.url.hostname}),bt=(e.allowedIframeDomains||[]).find(function(wt){return Je.url.hostname===wt||Je.url.hostname.endsWith(`.${wt}`)});Ze=lt||bt}}catch{Ze=!1}if(!Ze){delete Y.attribs[Le];return}}if(Le==="srcset")try{let Ze=YV(we);if(Ze.forEach(function(Je){x("srcset",Je.url)&&(Je.evil=!0)}),Ze=JB(Ze,function(Je){return!Je.evil}),Ze.length)we=QV(JB(Ze,function(Je){return!Je.evil})),Y.attribs[Le]=we;else{delete Y.attribs[Le];return}}catch{delete Y.attribs[Le];return}if(Le==="class"){let Ze=d[X],Je=d["*"],lt=u[X],bt=f[X],wt=u["*"],oi=[lt,wt].concat(bt).filter(function(mi){return mi});if(Ze&&Je?we=Q(we,XB(Ze,Je),oi):we=Q(we,Ze||Je,oi),!we.length){delete Y.attribs[Le];return}}if(Le==="style"){if(e.parseStyleAttributes)try{let Ze=KV(X+" {"+we+"}",{map:!1}),Je=E(Ze,e.allowedStyles);if(we=O(Je),we.length===0){delete Y.attribs[Le];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+X+" {"+we+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Y.attribs[Le];return}else if(e.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}n+=" "+Le,we&&we.length?n+='="'+C(we,!0)+'"':e.allowedEmptyAttributes.includes(Le)&&(n+='=""')}else delete Y.attribs[Le]}),e.selfClosing.indexOf(X)!==-1?n+=" />":(n+=">",Y.innerText&&!be&&!e.textFilter&&(n+=C(Y.innerText),k=!0)),ie&&(n=r+C(n),r="")},ontext:function(X){if(T)return;let K=_[_.length-1],Y;if(K&&(Y=K.tag,X=K.innerText!==void 0?K.innerText:X),e.disallowedTagsMode==="completelyDiscard"&&!o(Y))X="";else if((e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&(Y==="script"||Y==="style"))n+=X;else{let ie=C(X,!1);e.textFilter&&!k?n+=e.textFilter(ie,Y):k||(n+=ie)}if(_.length){let ie=_[_.length-1];ie.text+=X}},onclosetag:function(X,K){if(T)if(D--,!D)T=!1;else return;let Y=_.pop();if(!Y)return;if(Y.tag!==X){_.push(Y);return}T=e.enforceHtmlBoundary?X==="html":!1,p--;let ie=y[p];if(ie){if(delete y[p],e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard"){Y.updateParentNodeText();return}r=n,n=""}if(S[p]&&(X=S[p],delete S[p]),e.exclusiveFilter&&e.exclusiveFilter(Y)){n=n.substr(0,Y.tagPosition);return}if(Y.updateParentNodeMediaChildren(),Y.updateParentNodeText(),e.selfClosing.indexOf(X)!==-1||K&&!o(X)&&["escape","recursiveEscape"].indexOf(e.disallowedTagsMode)>=0){ie&&(n=r,r="");return}n+="</"+X+">",ie&&(n=r+C(n),r=""),k=!1}},e.parser);return b.write(t),b.end(),n;function M(){n="",p=0,_=[],y={},S={},T=!1,D=0}function C(X,K){return typeof X!="string"&&(X=X+""),e.parser.decodeEntities&&(X=X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),K&&(X=X.replace(/"/g,"&quot;"))),X=X.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),K&&(X=X.replace(/"/g,"&quot;")),X}function x(X,K){for(K=K.replace(/[\x00-\x20]+/g,"");;){let be=K.indexOf("<!--");if(be===-1)break;let Pe=K.indexOf("-->",be+4);if(Pe===-1)break;K=K.substring(0,be)+K.substring(Pe+3)}let Y=K.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Y)return K.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;let ie=Y[1].toLowerCase();return pl(e.allowedSchemesByTag,X)?e.allowedSchemesByTag[X].indexOf(ie)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(ie)===-1}function w(X){if(X=X.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),X.startsWith("relative:"))throw new Error("relative: exploit attempt");let K="relative://relative-site";for(let be=0;be<100;be++)K+=`/${be}`;let Y=new URL(X,K);return{isRelativeUrl:Y&&Y.hostname==="relative-site"&&Y.protocol==="relative:",url:Y}}function E(X,K){if(!K)return X;let Y=X.nodes[0],ie;return K[Y.selector]&&K["*"]?ie=XB(K[Y.selector],K["*"]):ie=K[Y.selector]||K["*"],ie&&(X.nodes[0].nodes=Y.nodes.reduce(j(ie),[])),X}function O(X){return X.nodes[0].nodes.reduce(function(K,Y){return K.push(`${Y.prop}:${Y.value}${Y.important?" !important":""}`),K},[]).join(";")}function j(X){return function(K,Y){return pl(X,Y.prop)&&X[Y.prop].some(function(be){return be.test(Y.value)})&&K.push(Y),K}}function Q(X,K,Y){return K?(X=X.split(/\s+/),X.filter(function(ie){return K.indexOf(ie)!==-1||Y.some(function(be){return be.test(ie)})}).join(" ")):X}}var tG={decodeEntities:!0};Bg.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0};Bg.simpleTransform=function(t,e,i){return i=i===void 0?!0:i,e=e||{},function(n,r){let s;if(i)for(s in e)r[s]=e[s];else r=e;return{tagName:t,attribs:r}}}});function sG(t){return(0,i3.default)(t,{allowedTags:["a","abbr","b","code","em","i","img","li","ol","span","strong","ul"],allowedAttributes:{"*":["aria-*","class","style","title"],a:["href"],img:["src"],style:["media","type"]}})}function mM(t,e={}){let i={};return t.forEach(n=>{let r=n.model_id,s=tg(n.serialize(n.get_state(e.drop_defaults))),o=s.buffers.map((a,l)=>({data:$B(a),path:s.buffer_paths[l],encoding:"base64"}));i[r]={model_name:n.name,model_module:n.module,model_module_version:n.get("_model_module_version"),state:s.state},o.length>0&&(i[r].buffers=o)}),{version_major:2,version_minor:0,state:i}}var t3,i3,e3,iG,nG,rG,wx,n3=$(()=>{$i();t3=P(Jn());$i();hM();YB();i3=P(QB()),e3=vx.split(".",1)[0],iG="jupyter.widget.control",nG="1.0.0",rG=4e3;wx=class{constructor(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}setViewOptions(e={}){return e}create_view(e,i={}){let n=ni(),r=e.state_change=e.state_change.then(async()=>{let s=e.get("_view_name"),o=e.get("_view_module");try{let a=await this.loadViewClass(s,o,e.get("_view_module_version")),l=new a({model:e,options:this.setViewOptions(i)});return l.listenTo(e,"destroy",l.remove),await l.render(),l.once("remove",()=>{e.views&&delete e.views[n]}),l}catch(a){console.error(`Could not create a view for model id ${e.model_id}`);let l=`Failed to create view for '${s}' from module '${o}' with model '${e.name}' from module '${e.module}'`,c=Dg(a,l),d=new c,u=new Yf({model:d,options:this.setViewOptions(i)});return await u.render(),u}});return e.views&&(e.views[n]=r),r}callbacks(e){return{}}async get_model(e){let i=this._models[e];if(i===void 0)throw new Error("widget model not found");return i}has_model(e){return this._models[e]!==void 0}handle_comm_open(e,i){let n=(i.metadata||{}).version||"";if(n.split(".",1)[0]!==e3){let a=`Wrong widget protocol version: received protocol version '${n}', but was expecting major version '${e3}'`;return console.error(a),Promise.reject(a)}let r=i.content.data,s=r.buffer_paths||[],o=i.buffers||[];return lc(r.state,s,o),this.new_model({model_name:r.state._model_name,model_module:r.state._model_module,model_module_version:r.state._model_module_version,comm:e},r.state).catch(er("Could not create a model.",!0))}new_widget(e,i={}){let n;if(e.view_name===void 0||e.view_module===void 0||e.view_module_version===void 0)return Promise.reject("new_widget(...) must be given view information in the options.");e.comm?n=Promise.resolve(e.comm):n=this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:vx});let r=Object.assign({},e);return n.then(s=>(r.comm=s,this.new_model(r,i).then(a=>(a.sync("create",a),a))),()=>(r.model_id||(r.model_id=ni()),this.new_model(r,i)))}register_model(e,i){this._models[e]=i,i.then(n=>{n.once("comm:close",()=>{delete this._models[e]})})}async new_model(e,i={}){var n,r;let s=(n=e.model_id)!==null&&n!==void 0?n:(r=e.comm)===null||r===void 0?void 0:r.comm_id;if(!s)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");e.model_id=s;let o=this._make_model(e,i);return this.register_model(s,o),await o}async _loadFromKernel(){let e,i;try{let a=await this._create_comm(iG,ni(),{},{version:nG});await new Promise((l,c)=>{a.on_msg(d=>{if(e=d.content.data,e.method!=="update_states"){console.warn(`
              Unknown ${e.method} message on the Control channel
            `);return}i=(d.buffers||[]).map(u=>u instanceof DataView?u:new DataView(u instanceof ArrayBuffer?u:u.buffer)),l(null)}),a.on_close(()=>c("Control comm was closed too early")),a.send({method:"request_states"},{}),setTimeout(()=>c("Control comm did not respond in time"),rG)}),a.close()}catch{return this._loadFromKernelModels()}let n=e.states,r={},s={};for(let a=0;a<e.buffer_paths.length;a++){let[l,...c]=e.buffer_paths[a],d=i[a];r[l]||(r[l]=[],s[l]=[]),r[l].push(c),s[l].push(d)}let o=await Promise.all(Object.keys(n).map(async a=>{let l=this.has_model(a)?void 0:await this._create_comm("jupyter.widget",a);return{widget_id:a,comm:l}}));await Promise.all(o.map(async({widget_id:a,comm:l})=>{let c=n[a];a in r&&lc(c,r[a],s[a]);try{if(l)await this.new_model({model_name:c.model_name,model_module:c.model_module,model_module_version:c.model_module_version,model_id:a,comm:l},c.state);else{let d=await this.get_model(a),u=await d.constructor._deserialize_state(c.state,this);d.set_state(u)}}catch(d){console.error(d)}}))}async _loadFromKernelModels(){let e=await this._get_comm_info(),i=await Promise.all(Object.keys(e).map(async n=>{if(this.has_model(n))return;let r=await this._create_comm(this.comm_target_name,n),s="",o=new t3.PromiseDelegate;return r.on_msg(a=>{if(a.parent_header.msg_id===s&&a.header.msg_type==="comm_msg"&&a.content.data.method==="update"){let l=a.content.data,c=l.buffer_paths||[],d=a.buffers||[];lc(l.state,c,d),o.resolve({comm:r,msg:a})}}),s=r.send({method:"request_state"},this.callbacks(void 0)),o.promise}));await Promise.all(i.map(async n=>{if(!n)return;let r=n.msg.content;await this.new_model({model_name:r.data.state._model_name,model_module:r.data.state._model_module,model_module_version:r.data.state._model_module_version,comm:n.comm},r.data.state)}))}async _make_model(e,i={}){let n=e.model_id,r=this.loadModelClass(e.model_name,e.model_module,e.model_module_version),s,o=(l,c)=>{let d=Dg(l,c);return new d};try{s=await r}catch(l){let c="Could not instantiate widget";return console.error(c),o(l,c)}if(!s){let l="Could not instantiate widget";console.error(l);let c=new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`);return o(c,l)}let a;try{let l=await s._deserialize_state(i,this),c={widget_manager:this,model_id:n,comm:e.comm};a=new s(l,c)}catch(l){console.error(l);let c=`Model class '${e.model_name}' from module '${e.model_module}' is loaded but can not be instantiated`;a=o(l,c)}return a.name=e.model_name,a.module=e.model_module,a}clear_state(){return oa(this._models).then(e=>{Object.keys(e).forEach(i=>e[i].close()),this._models=Object.create(null)})}get_state(e={}){let i=Object.keys(this._models).map(n=>this._models[n]);return Promise.all(i).then(n=>mM(n,e))}set_state(e){if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";let i=e.state;return this._get_comm_info().then(r=>Promise.all(Object.keys(i).map(s=>{let o={base64:qB,hex:WB},a=i[s],l=a.state;if(a.buffers){let d=a.buffers.map(f=>f.path),u=a.buffers.map(f=>new DataView(o[f.encoding](f.data)));lc(a.state,d,u)}if(this.has_model(s))return this.get_model(s).then(d=>d.constructor._deserialize_state(l||{},this).then(u=>(d.set_state(u),d)));let c={model_id:s,model_name:a.model_name,model_module:a.model_module,model_module_version:a.model_module_version};return Object.prototype.hasOwnProperty.call(r,"model_id")?this._create_comm(this.comm_target_name,s).then(d=>(c.comm=d,this.new_model(c))):this.new_model(c,l)})))}disconnect(){Object.keys(this._models).forEach(e=>{this._models[e].then(i=>{i.comm_live=!1})})}resolveUrl(e){return Promise.resolve(e)}inline_sanitize(e){let i=VB(e),n=sG(i.text);return GB(n,i.math)}async loadModelClass(e,i,n){try{let r=this.loadClass(e,i,n);return await r,r}catch(r){console.error(r);let s=`Failed to load model class '${e}' from module '${i}'`;return Dg(r,s)}}async loadViewClass(e,i,n){try{let r=this.loadClass(e,i,n);return await r,r}catch(r){console.error(r);let s=`Failed to load view class '${e}' from module '${i}'`;return dM(r,s)}}filterExistingModelState(e){let i=e.state;return i=Object.keys(i).filter(n=>!this.has_model(n)).reduce((n,r)=>(n[r]=i[r],n),{}),Object.assign(Object.assign({},e),{state:i})}}});var r3=$(()=>{n3();hM()});var jg=Ve((rCe,s3)=>{var oG="2.0.0",aG=Number.MAX_SAFE_INTEGER||9007199254740991,lG=16,cG=256-6,dG=["major","premajor","minor","preminor","patch","prepatch","prerelease"];s3.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:lG,MAX_SAFE_BUILD_LENGTH:cG,MAX_SAFE_INTEGER:aG,RELEASE_TYPES:dG,SEMVER_SPEC_VERSION:oG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Hg=Ve((sCe,o3)=>{var uG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};o3.exports=uG});var Kf=Ve((gl,a3)=>{var{MAX_SAFE_COMPONENT_LENGTH:pM,MAX_SAFE_BUILD_LENGTH:hG,MAX_LENGTH:fG}=jg(),mG=Hg();gl=a3.exports={};var pG=gl.re=[],gG=gl.safeRe=[],Ke=gl.src=[],Xe=gl.t={},_G=0,gM="[a-zA-Z0-9-]",vG=[["\\s",1],["\\d",fG],[gM,hG]],bG=t=>{for(let[e,i]of vG)t=t.split(`${e}*`).join(`${e}{0,${i}}`).split(`${e}+`).join(`${e}{1,${i}}`);return t},_t=(t,e,i)=>{let n=bG(e),r=_G++;mG(t,r,e),Xe[t]=r,Ke[r]=e,pG[r]=new RegExp(e,i?"g":void 0),gG[r]=new RegExp(n,i?"g":void 0)};_t("NUMERICIDENTIFIER","0|[1-9]\\d*");_t("NUMERICIDENTIFIERLOOSE","\\d+");_t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${gM}*`);_t("MAINVERSION",`(${Ke[Xe.NUMERICIDENTIFIER]})\\.(${Ke[Xe.NUMERICIDENTIFIER]})\\.(${Ke[Xe.NUMERICIDENTIFIER]})`);_t("MAINVERSIONLOOSE",`(${Ke[Xe.NUMERICIDENTIFIERLOOSE]})\\.(${Ke[Xe.NUMERICIDENTIFIERLOOSE]})\\.(${Ke[Xe.NUMERICIDENTIFIERLOOSE]})`);_t("PRERELEASEIDENTIFIER",`(?:${Ke[Xe.NUMERICIDENTIFIER]}|${Ke[Xe.NONNUMERICIDENTIFIER]})`);_t("PRERELEASEIDENTIFIERLOOSE",`(?:${Ke[Xe.NUMERICIDENTIFIERLOOSE]}|${Ke[Xe.NONNUMERICIDENTIFIER]})`);_t("PRERELEASE",`(?:-(${Ke[Xe.PRERELEASEIDENTIFIER]}(?:\\.${Ke[Xe.PRERELEASEIDENTIFIER]})*))`);_t("PRERELEASELOOSE",`(?:-?(${Ke[Xe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ke[Xe.PRERELEASEIDENTIFIERLOOSE]})*))`);_t("BUILDIDENTIFIER",`${gM}+`);_t("BUILD",`(?:\\+(${Ke[Xe.BUILDIDENTIFIER]}(?:\\.${Ke[Xe.BUILDIDENTIFIER]})*))`);_t("FULLPLAIN",`v?${Ke[Xe.MAINVERSION]}${Ke[Xe.PRERELEASE]}?${Ke[Xe.BUILD]}?`);_t("FULL",`^${Ke[Xe.FULLPLAIN]}$`);_t("LOOSEPLAIN",`[v=\\s]*${Ke[Xe.MAINVERSIONLOOSE]}${Ke[Xe.PRERELEASELOOSE]}?${Ke[Xe.BUILD]}?`);_t("LOOSE",`^${Ke[Xe.LOOSEPLAIN]}$`);_t("GTLT","((?:<|>)?=?)");_t("XRANGEIDENTIFIERLOOSE",`${Ke[Xe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_t("XRANGEIDENTIFIER",`${Ke[Xe.NUMERICIDENTIFIER]}|x|X|\\*`);_t("XRANGEPLAIN",`[v=\\s]*(${Ke[Xe.XRANGEIDENTIFIER]})(?:\\.(${Ke[Xe.XRANGEIDENTIFIER]})(?:\\.(${Ke[Xe.XRANGEIDENTIFIER]})(?:${Ke[Xe.PRERELEASE]})?${Ke[Xe.BUILD]}?)?)?`);_t("XRANGEPLAINLOOSE",`[v=\\s]*(${Ke[Xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ke[Xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ke[Xe.XRANGEIDENTIFIERLOOSE]})(?:${Ke[Xe.PRERELEASELOOSE]})?${Ke[Xe.BUILD]}?)?)?`);_t("XRANGE",`^${Ke[Xe.GTLT]}\\s*${Ke[Xe.XRANGEPLAIN]}$`);_t("XRANGELOOSE",`^${Ke[Xe.GTLT]}\\s*${Ke[Xe.XRANGEPLAINLOOSE]}$`);_t("COERCEPLAIN",`(^|[^\\d])(\\d{1,${pM}})(?:\\.(\\d{1,${pM}}))?(?:\\.(\\d{1,${pM}}))?`);_t("COERCE",`${Ke[Xe.COERCEPLAIN]}(?:$|[^\\d])`);_t("COERCEFULL",Ke[Xe.COERCEPLAIN]+`(?:${Ke[Xe.PRERELEASE]})?(?:${Ke[Xe.BUILD]})?(?:$|[^\\d])`);_t("COERCERTL",Ke[Xe.COERCE],!0);_t("COERCERTLFULL",Ke[Xe.COERCEFULL],!0);_t("LONETILDE","(?:~>?)");_t("TILDETRIM",`(\\s*)${Ke[Xe.LONETILDE]}\\s+`,!0);gl.tildeTrimReplace="$1~";_t("TILDE",`^${Ke[Xe.LONETILDE]}${Ke[Xe.XRANGEPLAIN]}$`);_t("TILDELOOSE",`^${Ke[Xe.LONETILDE]}${Ke[Xe.XRANGEPLAINLOOSE]}$`);_t("LONECARET","(?:\\^)");_t("CARETTRIM",`(\\s*)${Ke[Xe.LONECARET]}\\s+`,!0);gl.caretTrimReplace="$1^";_t("CARET",`^${Ke[Xe.LONECARET]}${Ke[Xe.XRANGEPLAIN]}$`);_t("CARETLOOSE",`^${Ke[Xe.LONECARET]}${Ke[Xe.XRANGEPLAINLOOSE]}$`);_t("COMPARATORLOOSE",`^${Ke[Xe.GTLT]}\\s*(${Ke[Xe.LOOSEPLAIN]})$|^$`);_t("COMPARATOR",`^${Ke[Xe.GTLT]}\\s*(${Ke[Xe.FULLPLAIN]})$|^$`);_t("COMPARATORTRIM",`(\\s*)${Ke[Xe.GTLT]}\\s*(${Ke[Xe.LOOSEPLAIN]}|${Ke[Xe.XRANGEPLAIN]})`,!0);gl.comparatorTrimReplace="$1$2$3";_t("HYPHENRANGE",`^\\s*(${Ke[Xe.XRANGEPLAIN]})\\s+-\\s+(${Ke[Xe.XRANGEPLAIN]})\\s*$`);_t("HYPHENRANGELOOSE",`^\\s*(${Ke[Xe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ke[Xe.XRANGEPLAINLOOSE]})\\s*$`);_t("STAR","(<|>)?=?\\s*\\*");_t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Cx=Ve((oCe,l3)=>{var xG=Object.freeze({loose:!0}),yG=Object.freeze({}),wG=t=>t?typeof t!="object"?xG:t:yG;l3.exports=wG});var _M=Ve((aCe,u3)=>{var c3=/^[0-9]+$/,d3=(t,e)=>{let i=c3.test(t),n=c3.test(e);return i&&n&&(t=+t,e=+e),t===e?0:i&&!n?-1:n&&!i?1:t<e?-1:1},CG=(t,e)=>d3(e,t);u3.exports={compareIdentifiers:d3,rcompareIdentifiers:CG}});var nr=Ve((lCe,p3)=>{var Sx=Hg(),{MAX_LENGTH:h3,MAX_SAFE_INTEGER:Ex}=jg(),{safeRe:f3,t:m3}=Kf(),SG=Cx(),{compareIdentifiers:Xf}=_M(),ds=class{constructor(e,i){if(i=SG(i),e instanceof ds){if(e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>h3)throw new TypeError(`version is longer than ${h3} characters`);Sx("SemVer",e,i),this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease;let n=e.trim().match(i.loose?f3[m3.LOOSE]:f3[m3.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ex||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ex||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ex||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let s=+r;if(s>=0&&s<Ex)return s}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Sx("SemVer.compare",this.version,this.options,e),!(e instanceof ds)){if(typeof e=="string"&&e===this.version)return 0;e=new ds(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ds||(e=new ds(e,this.options)),Xf(this.major,e.major)||Xf(this.minor,e.minor)||Xf(this.patch,e.patch)}comparePre(e){if(e instanceof ds||(e=new ds(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let i=0;do{let n=this.prerelease[i],r=e.prerelease[i];if(Sx("prerelease compare",i,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Xf(n,r)}while(++i)}compareBuild(e){e instanceof ds||(e=new ds(e,this.options));let i=0;do{let n=this.build[i],r=e.build[i];if(Sx("build compare",i,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Xf(n,r)}while(++i)}inc(e,i,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",i,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",i,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",i,n),this.inc("pre",i,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",i,n),this.inc("pre",i,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let r=Number(n)?1:0;if(!i&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(i===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(i){let s=[i,r];n===!1&&(s=[i]),Xf(this.prerelease[0],i)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};p3.exports=ds});var Gd=Ve((cCe,_3)=>{var g3=nr(),EG=(t,e,i=!1)=>{if(t instanceof g3)return t;try{return new g3(t,e)}catch(n){if(!i)return null;throw n}};_3.exports=EG});var b3=Ve((dCe,v3)=>{var MG=Gd(),IG=(t,e)=>{let i=MG(t,e);return i?i.version:null};v3.exports=IG});var y3=Ve((uCe,x3)=>{var TG=Gd(),RG=(t,e)=>{let i=TG(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null};x3.exports=RG});var S3=Ve((hCe,C3)=>{var w3=nr(),AG=(t,e,i,n,r)=>{typeof i=="string"&&(r=n,n=i,i=void 0);try{return new w3(t instanceof w3?t.version:t,i).inc(e,n,r).version}catch{return null}};C3.exports=AG});var I3=Ve((fCe,M3)=>{var E3=Gd(),kG=(t,e)=>{let i=E3(t,null,!0),n=E3(e,null,!0),r=i.compare(n);if(r===0)return null;let s=r>0,o=s?i:n,a=s?n:i,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let d=l?"pre":"";return i.major!==n.major?d+"major":i.minor!==n.minor?d+"minor":i.patch!==n.patch?d+"patch":"prerelease"};M3.exports=kG});var R3=Ve((mCe,T3)=>{var LG=nr(),NG=(t,e)=>new LG(t,e).major;T3.exports=NG});var k3=Ve((pCe,A3)=>{var OG=nr(),DG=(t,e)=>new OG(t,e).minor;A3.exports=DG});var N3=Ve((gCe,L3)=>{var zG=nr(),PG=(t,e)=>new zG(t,e).patch;L3.exports=PG});var D3=Ve((_Ce,O3)=>{var BG=Gd(),jG=(t,e)=>{let i=BG(t,e);return i&&i.prerelease.length?i.prerelease:null};O3.exports=jG});var qs=Ve((vCe,P3)=>{var z3=nr(),HG=(t,e,i)=>new z3(t,i).compare(new z3(e,i));P3.exports=HG});var j3=Ve((bCe,B3)=>{var FG=qs(),WG=(t,e,i)=>FG(e,t,i);B3.exports=WG});var F3=Ve((xCe,H3)=>{var $G=qs(),qG=(t,e)=>$G(t,e,!0);H3.exports=qG});var Mx=Ve((yCe,$3)=>{var W3=nr(),UG=(t,e,i)=>{let n=new W3(t,i),r=new W3(e,i);return n.compare(r)||n.compareBuild(r)};$3.exports=UG});var U3=Ve((wCe,q3)=>{var VG=Mx(),GG=(t,e)=>t.sort((i,n)=>VG(i,n,e));q3.exports=GG});var G3=Ve((CCe,V3)=>{var YG=Mx(),KG=(t,e)=>t.sort((i,n)=>YG(n,i,e));V3.exports=KG});var Fg=Ve((SCe,Y3)=>{var XG=qs(),JG=(t,e,i)=>XG(t,e,i)>0;Y3.exports=JG});var Ix=Ve((ECe,K3)=>{var ZG=qs(),QG=(t,e,i)=>ZG(t,e,i)<0;K3.exports=QG});var vM=Ve((MCe,X3)=>{var eY=qs(),tY=(t,e,i)=>eY(t,e,i)===0;X3.exports=tY});var bM=Ve((ICe,J3)=>{var iY=qs(),nY=(t,e,i)=>iY(t,e,i)!==0;J3.exports=nY});var Tx=Ve((TCe,Z3)=>{var rY=qs(),sY=(t,e,i)=>rY(t,e,i)>=0;Z3.exports=sY});var Rx=Ve((RCe,Q3)=>{var oY=qs(),aY=(t,e,i)=>oY(t,e,i)<=0;Q3.exports=aY});var xM=Ve((ACe,ej)=>{var lY=vM(),cY=bM(),dY=Fg(),uY=Tx(),hY=Ix(),fY=Rx(),mY=(t,e,i,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t===i;case"!==":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t!==i;case"":case"=":case"==":return lY(t,i,n);case"!=":return cY(t,i,n);case">":return dY(t,i,n);case">=":return uY(t,i,n);case"<":return hY(t,i,n);case"<=":return fY(t,i,n);default:throw new TypeError(`Invalid operator: ${e}`)}};ej.exports=mY});var ij=Ve((kCe,tj)=>{var pY=nr(),gY=Gd(),{safeRe:Ax,t:kx}=Kf(),_Y=(t,e)=>{if(t instanceof pY)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let i=null;if(!e.rtl)i=t.match(e.includePrerelease?Ax[kx.COERCEFULL]:Ax[kx.COERCE]);else{let l=e.includePrerelease?Ax[kx.COERCERTLFULL]:Ax[kx.COERCERTL],c;for(;(c=l.exec(t))&&(!i||i.index+i[0].length!==t.length);)(!i||c.index+c[0].length!==i.index+i[0].length)&&(i=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(i===null)return null;let n=i[2],r=i[3]||"0",s=i[4]||"0",o=e.includePrerelease&&i[5]?`-${i[5]}`:"",a=e.includePrerelease&&i[6]?`+${i[6]}`:"";return gY(`${n}.${r}.${s}${o}${a}`,e)};tj.exports=_Y});var rj=Ve((LCe,nj)=>{var yM=class{constructor(){this.max=1e3,this.map=new Map}get(e){let i=this.map.get(e);if(i!==void 0)return this.map.delete(e),this.map.set(e,i),i}delete(e){return this.map.delete(e)}set(e,i){if(!this.delete(e)&&i!==void 0){if(this.map.size>=this.max){let r=this.map.keys().next().value;this.delete(r)}this.map.set(e,i)}return this}};nj.exports=yM});var Us=Ve((NCe,lj)=>{var vY=/\s+/g,Yd=class{constructor(e,i){if(i=xY(i),e instanceof Yd)return e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease?e:new Yd(e.raw,i);if(e instanceof wM)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=e.trim().replace(vY," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(r=>!oj(r[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let r of this.set)if(r.length===1&&IY(r[0])){this.set=[r];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let i=this.set[e];for(let n=0;n<i.length;n++)n>0&&(this.formatted+=" "),this.formatted+=i[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&EY)|(this.options.loose&&MY))+":"+e,r=sj.get(n);if(r)return r;let s=this.options.loose,o=s?Wr[Cr.HYPHENRANGELOOSE]:Wr[Cr.HYPHENRANGE];e=e.replace(o,PY(this.options.includePrerelease)),vi("hyphen replace",e),e=e.replace(Wr[Cr.COMPARATORTRIM],wY),vi("comparator trim",e),e=e.replace(Wr[Cr.TILDETRIM],CY),vi("tilde trim",e),e=e.replace(Wr[Cr.CARETTRIM],SY),vi("caret trim",e);let a=e.split(" ").map(u=>TY(u,this.options)).join(" ").split(/\s+/).map(u=>zY(u,this.options));s&&(a=a.filter(u=>(vi("loose invalid filter",u,this.options),!!u.match(Wr[Cr.COMPARATORLOOSE])))),vi("range list",a);let l=new Map,c=a.map(u=>new wM(u,this.options));for(let u of c){if(oj(u))return[u];l.set(u.value,u)}l.size>1&&l.has("")&&l.delete("");let d=[...l.values()];return sj.set(n,d),d}intersects(e,i){if(!(e instanceof Yd))throw new TypeError("a Range is required");return this.set.some(n=>aj(n,i)&&e.set.some(r=>aj(r,i)&&n.every(s=>r.every(o=>s.intersects(o,i)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new yY(e,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(BY(this.set[i],e,this.options))return!0;return!1}};lj.exports=Yd;var bY=rj(),sj=new bY,xY=Cx(),wM=Wg(),vi=Hg(),yY=nr(),{safeRe:Wr,t:Cr,comparatorTrimReplace:wY,tildeTrimReplace:CY,caretTrimReplace:SY}=Kf(),{FLAG_INCLUDE_PRERELEASE:EY,FLAG_LOOSE:MY}=jg(),oj=t=>t.value==="<0.0.0-0",IY=t=>t.value==="",aj=(t,e)=>{let i=!0,n=t.slice(),r=n.pop();for(;i&&n.length;)i=n.every(s=>r.intersects(s,e)),r=n.pop();return i},TY=(t,e)=>(vi("comp",t,e),t=kY(t,e),vi("caret",t),t=RY(t,e),vi("tildes",t),t=NY(t,e),vi("xrange",t),t=DY(t,e),vi("stars",t),t),Sr=t=>!t||t.toLowerCase()==="x"||t==="*",RY=(t,e)=>t.trim().split(/\s+/).map(i=>AY(i,e)).join(" "),AY=(t,e)=>{let i=e.loose?Wr[Cr.TILDELOOSE]:Wr[Cr.TILDE];return t.replace(i,(n,r,s,o,a)=>{vi("tilde",t,n,r,s,o,a);let l;return Sr(r)?l="":Sr(s)?l=`>=${r}.0.0 <${+r+1}.0.0-0`:Sr(o)?l=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:a?(vi("replaceTilde pr",a),l=`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`):l=`>=${r}.${s}.${o} <${r}.${+s+1}.0-0`,vi("tilde return",l),l})},kY=(t,e)=>t.trim().split(/\s+/).map(i=>LY(i,e)).join(" "),LY=(t,e)=>{vi("caret",t,e);let i=e.loose?Wr[Cr.CARETLOOSE]:Wr[Cr.CARET],n=e.includePrerelease?"-0":"";return t.replace(i,(r,s,o,a,l)=>{vi("caret",t,r,s,o,a,l);let c;return Sr(s)?c="":Sr(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Sr(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:l?(vi("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(vi("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),vi("caret return",c),c})},NY=(t,e)=>(vi("replaceXRanges",t,e),t.split(/\s+/).map(i=>OY(i,e)).join(" ")),OY=(t,e)=>{t=t.trim();let i=e.loose?Wr[Cr.XRANGELOOSE]:Wr[Cr.XRANGE];return t.replace(i,(n,r,s,o,a,l)=>{vi("xRange",t,n,r,s,o,a,l);let c=Sr(s),d=c||Sr(o),u=d||Sr(a),f=u;return r==="="&&f&&(r=""),l=e.includePrerelease?"-0":"",c?r===">"||r==="<"?n="<0.0.0-0":n="*":r&&f?(d&&(o=0),a=0,r===">"?(r=">=",d?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):r==="<="&&(r="<",d?s=+s+1:o=+o+1),r==="<"&&(l="-0"),n=`${r+s}.${o}.${a}${l}`):d?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:u&&(n=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),vi("xRange return",n),n})},DY=(t,e)=>(vi("replaceStars",t,e),t.trim().replace(Wr[Cr.STAR],"")),zY=(t,e)=>(vi("replaceGTE0",t,e),t.trim().replace(Wr[e.includePrerelease?Cr.GTE0PRE:Cr.GTE0],"")),PY=t=>(e,i,n,r,s,o,a,l,c,d,u,f)=>(Sr(n)?i="":Sr(r)?i=`>=${n}.0.0${t?"-0":""}`:Sr(s)?i=`>=${n}.${r}.0${t?"-0":""}`:o?i=`>=${i}`:i=`>=${i}${t?"-0":""}`,Sr(c)?l="":Sr(d)?l=`<${+c+1}.0.0-0`:Sr(u)?l=`<${c}.${+d+1}.0-0`:f?l=`<=${c}.${d}.${u}-${f}`:t?l=`<${c}.${d}.${+u+1}-0`:l=`<=${l}`,`${i} ${l}`.trim()),BY=(t,e,i)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(let n=0;n<t.length;n++)if(vi(t[n].semver),t[n].semver!==wM.ANY&&t[n].semver.prerelease.length>0){let r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}});var Wg=Ve((OCe,mj)=>{var $g=Symbol("SemVer ANY"),Jf=class{static get ANY(){return $g}constructor(e,i){if(i=cj(i),e instanceof Jf){if(e.loose===!!i.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),SM("comparator",e,i),this.options=i,this.loose=!!i.loose,this.parse(e),this.semver===$g?this.value="":this.value=this.operator+this.semver.version,SM("comp",this)}parse(e){let i=this.options.loose?dj[uj.COMPARATORLOOSE]:dj[uj.COMPARATOR],n=e.match(i);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new hj(n[2],this.options.loose):this.semver=$g}toString(){return this.value}test(e){if(SM("Comparator.test",e,this.options.loose),this.semver===$g||e===$g)return!0;if(typeof e=="string")try{e=new hj(e,this.options)}catch{return!1}return CM(e,this.operator,this.semver,this.options)}intersects(e,i){if(!(e instanceof Jf))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new fj(e.value,i).test(this.value):e.operator===""?e.value===""?!0:new fj(this.value,i).test(e.semver):(i=cj(i),i.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!i.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||CM(this.semver,"<",e.semver,i)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||CM(this.semver,">",e.semver,i)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};mj.exports=Jf;var cj=Cx(),{safeRe:dj,t:uj}=Kf(),CM=xM(),SM=Hg(),hj=nr(),fj=Us()});var qg=Ve((DCe,pj)=>{var jY=Us(),HY=(t,e,i)=>{try{e=new jY(e,i)}catch{return!1}return e.test(t)};pj.exports=HY});var _j=Ve((zCe,gj)=>{var FY=Us(),WY=(t,e)=>new FY(t,e).set.map(i=>i.map(n=>n.value).join(" ").trim().split(" "));gj.exports=WY});var bj=Ve((PCe,vj)=>{var $Y=nr(),qY=Us(),UY=(t,e,i)=>{let n=null,r=null,s=null;try{s=new qY(e,i)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||r.compare(o)===-1)&&(n=o,r=new $Y(n,i))}),n};vj.exports=UY});var yj=Ve((BCe,xj)=>{var VY=nr(),GY=Us(),YY=(t,e,i)=>{let n=null,r=null,s=null;try{s=new GY(e,i)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||r.compare(o)===1)&&(n=o,r=new VY(n,i))}),n};xj.exports=YY});var Sj=Ve((jCe,Cj)=>{var EM=nr(),KY=Us(),wj=Fg(),XY=(t,e)=>{t=new KY(t,e);let i=new EM("0.0.0");if(t.test(i)||(i=new EM("0.0.0-0"),t.test(i)))return i;i=null;for(let n=0;n<t.set.length;++n){let r=t.set[n],s=null;r.forEach(o=>{let a=new EM(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||wj(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!i||wj(i,s))&&(i=s)}return i&&t.test(i)?i:null};Cj.exports=XY});var Mj=Ve((HCe,Ej)=>{var JY=Us(),ZY=(t,e)=>{try{return new JY(t,e).range||"*"}catch{return null}};Ej.exports=ZY});var Lx=Ve((FCe,Aj)=>{var QY=nr(),Rj=Wg(),{ANY:eK}=Rj,tK=Us(),iK=qg(),Ij=Fg(),Tj=Ix(),nK=Rx(),rK=Tx(),sK=(t,e,i,n)=>{t=new QY(t,n),e=new tK(e,n);let r,s,o,a,l;switch(i){case">":r=Ij,s=nK,o=Tj,a=">",l=">=";break;case"<":r=Tj,s=rK,o=Ij,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(iK(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let d=e.set[c],u=null,f=null;if(d.forEach(h=>{h.semver===eK&&(h=new Rj(">=0.0.0")),u=u||h,f=f||h,r(h.semver,u.semver,n)?u=h:o(h.semver,f.semver,n)&&(f=h)}),u.operator===a||u.operator===l||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};Aj.exports=sK});var Lj=Ve((WCe,kj)=>{var oK=Lx(),aK=(t,e,i)=>oK(t,e,">",i);kj.exports=aK});var Oj=Ve(($Ce,Nj)=>{var lK=Lx(),cK=(t,e,i)=>lK(t,e,"<",i);Nj.exports=cK});var Pj=Ve((qCe,zj)=>{var Dj=Us(),dK=(t,e,i)=>(t=new Dj(t,i),e=new Dj(e,i),t.intersects(e,i));zj.exports=dK});var jj=Ve((UCe,Bj)=>{var uK=qg(),hK=qs();Bj.exports=(t,e,i)=>{let n=[],r=null,s=null,o=t.sort((d,u)=>hK(d,u,i));for(let d of o)uK(d,e,i)?(s=d,r||(r=d)):(s&&n.push([r,s]),s=null,r=null);r&&n.push([r,null]);let a=[];for(let[d,u]of n)d===u?a.push(d):!u&&d===o[0]?a.push("*"):u?d===o[0]?a.push(`<=${u}`):a.push(`${d} - ${u}`):a.push(`>=${d}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Uj=Ve((VCe,qj)=>{var Hj=Us(),IM=Wg(),{ANY:MM}=IM,Ug=qg(),TM=qs(),fK=(t,e,i={})=>{if(t===e)return!0;t=new Hj(t,i),e=new Hj(e,i);let n=!1;e:for(let r of t.set){for(let s of e.set){let o=pK(r,s,i);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},mK=[new IM(">=0.0.0-0")],Fj=[new IM(">=0.0.0")],pK=(t,e,i)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===MM){if(e.length===1&&e[0].semver===MM)return!0;i.includePrerelease?t=mK:t=Fj}if(e.length===1&&e[0].semver===MM){if(i.includePrerelease)return!0;e=Fj}let n=new Set,r,s;for(let h of t)h.operator===">"||h.operator===">="?r=Wj(r,h,i):h.operator==="<"||h.operator==="<="?s=$j(s,h,i):n.add(h.semver);if(n.size>1)return null;let o;if(r&&s){if(o=TM(r.semver,s.semver,i),o>0)return null;if(o===0&&(r.operator!==">="||s.operator!=="<="))return null}for(let h of n){if(r&&!Ug(h,String(r),i)||s&&!Ug(h,String(s),i))return null;for(let m of e)if(!Ug(h,String(m),i))return!1;return!0}let a,l,c,d,u=s&&!i.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=r&&!i.includePrerelease&&r.semver.prerelease.length?r.semver:!1;u&&u.prerelease.length===1&&s.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let h of e){if(d=d||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",r){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=Wj(r,h,i),a===h&&a!==r)return!1}else if(r.operator===">="&&!Ug(r.semver,String(h),i))return!1}if(s){if(u&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===u.major&&h.semver.minor===u.minor&&h.semver.patch===u.patch&&(u=!1),h.operator==="<"||h.operator==="<="){if(l=$j(s,h,i),l===h&&l!==s)return!1}else if(s.operator==="<="&&!Ug(s.semver,String(h),i))return!1}if(!h.operator&&(s||r)&&o!==0)return!1}return!(r&&c&&!s&&o!==0||s&&d&&!r&&o!==0||f||u)},Wj=(t,e,i)=>{if(!t)return e;let n=TM(t.semver,e.semver,i);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},$j=(t,e,i)=>{if(!t)return e;let n=TM(t.semver,e.semver,i);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};qj.exports=fK});var AM=Ve((GCe,Yj)=>{var RM=Kf(),Vj=jg(),gK=nr(),Gj=_M(),_K=Gd(),vK=b3(),bK=y3(),xK=S3(),yK=I3(),wK=R3(),CK=k3(),SK=N3(),EK=D3(),MK=qs(),IK=j3(),TK=F3(),RK=Mx(),AK=U3(),kK=G3(),LK=Fg(),NK=Ix(),OK=vM(),DK=bM(),zK=Tx(),PK=Rx(),BK=xM(),jK=ij(),HK=Wg(),FK=Us(),WK=qg(),$K=_j(),qK=bj(),UK=yj(),VK=Sj(),GK=Mj(),YK=Lx(),KK=Lj(),XK=Oj(),JK=Pj(),ZK=jj(),QK=Uj();Yj.exports={parse:_K,valid:vK,clean:bK,inc:xK,diff:yK,major:wK,minor:CK,patch:SK,prerelease:EK,compare:MK,rcompare:IK,compareLoose:TK,compareBuild:RK,sort:AK,rsort:kK,gt:LK,lt:NK,eq:OK,neq:DK,gte:zK,lte:PK,cmp:BK,coerce:jK,Comparator:HK,Range:FK,satisfies:WK,toComparators:$K,maxSatisfying:qK,minSatisfying:UK,minVersion:VK,validRange:GK,outside:YK,gtr:KK,ltr:XK,intersects:JK,simplifyRange:ZK,subset:QK,SemVer:gK,re:RM.re,src:RM.src,tokens:RM.t,SEMVER_SPEC_VERSION:Vj.SEMVER_SPEC_VERSION,RELEASE_TYPES:Vj.RELEASE_TYPES,compareIdentifiers:Gj.compareIdentifiers,rcompareIdentifiers:Gj.rcompareIdentifiers}});var Kj,Nx,Xj=$(()=>{Kj=P(AM()),Nx=class{constructor(){this._cache=Object.create(null)}set(e,i,n){if(e in this._cache||(this._cache[e]=Object.create(null)),!(i in this._cache[e]))this._cache[e][i]=n;else throw`Version ${i} of key ${e} already registered.`}get(e,i){if(e in this._cache){let n=this._cache[e],r=(0,Kj.maxSatisfying)(Object.keys(n),i);if(r!==null)return n[r]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}}});var Zj,Jj,Vg,Gg,Yg,kM=$(()=>{$i();r3();Cs();Zj=P(AM());Xj();Jj="application/vnd.jupyter.widget-state+json",Vg=class extends wx{constructor(e){super(),this._handleCommOpen=async(i,n)=>{let r=new Gf.services.Comm(i);await this.handle_comm_open(r,n)},this._restored=new Ie(this),this._restoredStatus=!1,this._kernelRestoreInProgress=!1,this._isDisposed=!1,this._registry=new Nx,this._modelsSync=new Map,this._onUnhandledIOPubMessage=new Ie(this),this._rendermime=e}callbacks(e){return{iopub:{output:i=>{this._onUnhandledIOPubMessage.emit(i)}}}}_handleKernelChanged({oldValue:e,newValue:i}){e&&e.removeCommTarget(this.comm_target_name,this._handleCommOpen),i&&i.registerCommTarget(this.comm_target_name,this._handleCommOpen)}disconnect(){super.disconnect(),this._restoredStatus=!1}async _loadFromKernel(){var e;if(!this.kernel)throw new Error("Kernel not set");if(((e=this.kernel)===null||e===void 0?void 0:e.handleComms)!==!1)return super._loadFromKernel()}async _create_comm(e,i,n,r,s){let o=this.kernel;if(!o)throw new Error("No current kernel");let a=o.createComm(e,i);return(n||r)&&a.open(n,r,s),new Gf.services.Comm(a)}async _get_comm_info(){let e=this.kernel;if(!e)throw new Error("No current kernel");let i=await e.requestCommInfo({target_name:this.comm_target_name});return i.content.status==="ok"?i.content.comms:{}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._commRegistration&&this._commRegistration.dispose())}async resolveUrl(e){return e}async loadClass(e,i,n){(i==="@jupyter-widgets/base"||i==="@jupyter-widgets/controls")&&(0,Zj.valid)(n)&&(n=`^${n}`);let r=this._registry.getAllVersions(i);if(!r)throw new Error(`No version of module ${i} is registered`);let s=this._registry.get(i,n);if(!s){let l=Object.keys(r);throw new Error(`Module ${i}, version ${n} is not registered, however,         ${l.join(",")} ${l.length>1?"are":"is"}`)}let o;typeof s=="function"?o=await s():o=await s;let a=o[e];if(!a)throw new Error(`Class ${e} not found in module ${i}`);return a}get rendermime(){return this._rendermime}get restored(){return this._restored}get restoredStatus(){return this._restoredStatus}get onUnhandledIOPubMessage(){return this._onUnhandledIOPubMessage}register(e){this._registry.set(e.name,e.version,e.exports)}register_model(e,i){super.register_model(e,i),i.then(n=>{this._modelsSync.set(e,n),n.once("comm:close",()=>{this._modelsSync.delete(e)})})}async clear_state(){await super.clear_state(),this._modelsSync=new Map}get_state_sync(e={}){let i=[];for(let n of this._modelsSync.values())n.comm_live&&i.push(n);return mM(i,e)}},Gg=class extends Vg{constructor(e,i){super(i),this._kernel=e,e.statusChanged.connect((n,r)=>{this._handleKernelStatusChange(r)}),e.connectionStatusChanged.connect((n,r)=>{this._handleKernelConnectionStatusChange(r)}),this._handleKernelChanged({name:"kernel",oldValue:null,newValue:e}),this.restoreWidgets()}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets())}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(){try{this._kernelRestoreInProgress=!0,await this._loadFromKernel(),this._restoredStatus=!0,this._restored.emit()}catch{}this._kernelRestoreInProgress=!1}dispose(){this.isDisposed||(this._kernel=null,super.dispose())}get kernel(){return this._kernel}},Yg=class extends Vg{constructor(e,i,n){var r,s;super(i),this._context=e,e.sessionContext.kernelChanged.connect((o,a)=>{this._handleKernelChanged(a)}),e.sessionContext.statusChanged.connect((o,a)=>{this._handleKernelStatusChange(a)}),e.sessionContext.connectionStatusChanged.connect((o,a)=>{this._handleKernelConnectionStatusChange(a)}),!((r=e.sessionContext.session)===null||r===void 0)&&r.kernel&&this._handleKernelChanged({name:"kernel",oldValue:null,newValue:(s=e.sessionContext.session)===null||s===void 0?void 0:s.kernel}),this.restoreWidgets(this._context.model),this._settings=n,e.saveState.connect((o,a)=>{a==="started"&&n.saveState&&this._saveState()})}_saveState(){let e=this.get_state_sync({drop_defaults:!0});this._context.model.setMetadata?this._context.model.setMetadata("widgets",{"application/vnd.jupyter.widget-state+json":e}):this._context.model.metadata.set("widgets",{"application/vnd.jupyter.widget-state+json":e})}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets(this._context.model,{loadKernel:!0,loadNotebook:!1}))}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(e,{loadKernel:i,loadNotebook:n}={loadKernel:!0,loadNotebook:!0}){try{if(await this.context.sessionContext.ready,i)try{this._kernelRestoreInProgress=!0,await this._loadFromKernel()}finally{this._kernelRestoreInProgress=!1}n&&await this._loadFromNotebook(e),this._restoredStatus=!0,this._restored.emit()}catch{}}async _loadFromNotebook(e){let i=e.getMetadata?e.getMetadata("widgets"):e.metadata.get("widgets");if(i&&i[Jj]){let n=i[Jj];n=this.filterExistingModelState(n),await this.set_state(n)}}dispose(){this.isDisposed||(this._context=null,super.dispose())}async resolveUrl(e){let i=await this.context.urlResolver.resolveUrl(e);return this.context.urlResolver.getDownloadUrl(i)}get context(){return this._context}get kernel(){var e,i,n;return(n=(i=(e=this._context.sessionContext)===null||e===void 0?void 0:e.session)===null||i===void 0?void 0:i.kernel)!==null&&n!==void 0?n:null}register_model(e,i){super.register_model(e,i),this.setDirty()}async clear_state(){await super.clear_state(),this.setDirty()}setDirty(){this._settings.saveState&&(this._context.model.dirty=!0)}}});var Ox,Dx,zx,Qj=$(()=>{$i();Ox="1.0.0",Dx=class extends Ws{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:Ox,_view_module_version:Ox})}},zx=class extends Nt{}});var eH=$(()=>{Qj()});var Zf={};Uu(Zf,{OUTPUT_WIDGET_VERSION:()=>tX,OutputModel:()=>LM,OutputView:()=>NM});var tH,tX,LM,NM,iH=$(()=>{eH();$i();kM();yS();tH=P(Ud()),tX=Ox,LM=class extends Dx{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,i){super.initialize(e,i),this._outputs=new ta({trusted:!0}),this._msgHook=n=>(this.add(n),!1),this.widget_manager instanceof Yg&&this.widget_manager.context.sessionContext.kernelChanged.connect((n,r)=>{this._handleKernelChanged(r)}),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}_handleKernelChanged({oldValue:e}){let i=this.get("msg_id");i&&e&&(e.removeMessageHook(i,this._msgHook),this.set("msg_id",null))}reset_msg_id(){let e=this.widget_manager.kernel,i=this.get("msg_id"),n=this.previous("msg_id");n&&e&&e.removeMessageHook(n,this._msgHook),i&&e&&e.registerMessageHook(i,this._msgHook)}add(e){let i=e.header.msg_type;switch(i){case"execute_result":case"display_data":case"stream":case"error":{let n=e.content;n.output_type=i,this._outputs.add(n);break}case"clear_output":this.clear_output(e.content.wait);break;default:break}this.set("outputs",this._outputs.toJSON(),{newMessage:!0}),this.save_changes()}clear_output(e=!1){this._outputs.clear(e)}get outputs(){return this._outputs}setOutputs(e,i,n){n&&n.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}},NM=class extends zx{_createElement(e){return this.luminoWidget=new la({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,tH.default)(this.luminoWidget.node)}render(){super.render(),this._outputView=new ss({rendermime:this.model.widget_manager.rendermime,contentFactory:ss.defaultContentFactory,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}});var qi,Qf=$(()=>{qi="2.0.0"});var nH=$(()=>{iH();kM();kz()});function OM(t,e){e!==void 0&&(t.textContent=e),window.MathJax!==void 0&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}function DM(t){let e=document.createElement("div");return e.textContent=t,e.innerHTML}function iX(t,e){return function(n){throw e&&console.error(new Error(t)),n}}var Vs=$(()=>{$i()});var Ui,em,ui,zM,PM,wo=$(()=>{$i();Vs();Qf();Ui=class extends xc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};Ui.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};em=class extends Ws{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:qi,_model_module_version:qi,description:"",description_allow_html:!1})}},ui=class extends Nt{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,i){this.displayed.then(()=>{var n,r,s;if(!((r=(n=window.MathJax)===null||n===void 0?void 0:n.Hub)===null||r===void 0)&&r.Queue)return OM(e,i);let a=(s=this.model.widget_manager._rendermime)===null||s===void 0?void 0:s.latexTypesetter;a&&(i!==void 0&&(e.textContent=i),a.typeset(e))})}updateDescription(){let e=this.model.get("description");e.length===0?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}},zM=class extends em{},PM=class extends ui{}});var Kg,hi,bi,vn=$(()=>{$i();wo();Qf();Kg=class extends Fs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:qi,_model_module_version:qi})}},hi=class extends Ws{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:qi,_model_module_version:qi})}},bi=class extends em{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:qi,_model_module_version:qi})}}});var Xg,BM,sH=$(()=>{$i();vn();Xg=class extends Kg{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,i){super.initialize(e,i),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,i,n,r){if(!this._updating){this._updating=!0;try{n&&(n.set(r,e.get(i)),n.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}};Xg.serializers=Object.assign(Object.assign({},Kg.serializers),{target:{deserialize:cs},source:{deserialize:cs}});BM=class extends Xg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)})}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}});var Px,Bx,Jg,jM,HM,FM,Kd,WM,$M,oH=$(()=>{$i();vn();wo();Px=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}};Px.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{background:{selector:"",attribute:"background",default:null}});Bx=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}};Bx.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});Jg=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}},jM=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}},HM=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(this.checkboxLabel==null)return;let e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){let e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;let e=this.model.get("tabbable");e===!0?this.checkbox.setAttribute("tabIndex","0"):e===!1?this.checkbox.setAttribute("tabIndex","-1"):e===null&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){let e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),(e===void 0||e.updated_view!=this)&&(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){e.do=="focus"?this.checkbox.focus():e.do=="blur"&&this.checkbox.blur()}},FM=class extends Jg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}},Kd=class extends Nt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(Kd.class_map,"button_style")}set_button_style(){this.set_mapped_classes(Kd.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),e===void 0||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));let i=this.model.get("description"),n=this.model.get("icon");if(i.trim().length===0&&n.trim().length===0)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",n.trim().length){let r=document.createElement("i");this.el.appendChild(r),r.classList.add("fa"),r.classList.add("fa-"+n)}this.el.appendChild(document.createTextNode(i))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();let i=this.model.get("value");this.model.set("value",!i,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}};Kd.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};WM=class extends Jg{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}},$M=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}});var jx,qM,Xd,aH=$(()=>{$i();vn();Qf();jx=class extends xc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};jx.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};qM=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}},Xd=class extends Nt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();let e=this.model.get("tooltip"),i=this.model.get("description"),n=this.model.get("icon");if(this.el.setAttribute("title",e??i),i.length||n.length){if(this.el.textContent="",n.length){let r=document.createElement("i");r.classList.add("fa"),r.classList.add(...n.split(/[\s]+/).filter(Boolean).map(s=>`fa-${s}`)),i.length===0&&r.classList.add("center"),this.el.appendChild(r)}this.el.appendChild(document.createTextNode(i))}return super.update()}update_button_style(){this.update_mapped_classes(Xd.class_map,"button_style")}set_button_style(){this.set_mapped_classes(Xd.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}};Xd.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});var lH,_l,UM,VM,Gs,GM,YM,KM,XM,JM=$(()=>{$i();vn();gp();vv();Gc();lH=P(Ud()),_l=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}};_l.serializers=Object.assign(Object.assign({},hi.serializers),{children:{deserialize:cs}});UM=class extends _l{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}},VM=class extends _l{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}},Gs=class extends Nt{_createElement(e){return this.luminoWidget=new la({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,lH.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new yo(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")).then(i=>{i.forEach(n=>{jo.postMessage(n.luminoWidget,un.ResizeMessage.UnknownSize)})})}update_box_style(){this.update_mapped_classes(Gs.class_map,"box_style")}set_box_style(){this.set_mapped_classes(Gs.class_map,"box_style")}add_child_model(e){let i=new un;return this.luminoWidget.addWidget(i),this.create_child_view(e).then(n=>{let r=Es.firstIndexOf(this.luminoWidget.widgets,i);return this.luminoWidget.insertWidget(r,n.luminoWidget),i.dispose(),n}).catch(er("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}};Gs.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};GM=class extends Gs{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}},YM=class extends Gs{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}},KM=class extends Gs{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}},XM=class extends _l{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}});var Hx,ZM,cH=$(()=>{$i();vn();Hx=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}};Hx.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});ZM=class extends Nt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,i=this.model.get("format"),n=this.model.get("value");if(i!=="url"){let a=new Blob([n],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(n.buffer);let r=this.el.src;this.el.src=e,r&&URL.revokeObjectURL(r);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}});var Fx,QM,dH=$(()=>{$i();vn();Fx=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};Fx.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});QM=class extends Nt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,i=this.model.get("format"),n=this.model.get("value");if(i!=="url"){let a=new Blob([n],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(n.buffer);let r=this.el.src;this.el.src=e,r&&URL.revokeObjectURL(r);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}});var Wx,eI,uH=$(()=>{$i();vn();Wx=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};Wx.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});eI=class extends Nt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e,i=this.model.get("format"),n=this.model.get("value");if(i!=="url"){let s=new Blob([n],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(s)}else e=new TextDecoder("utf-8").decode(n.buffer);let r=this.el.src;return this.el.src=e,r&&URL.revokeObjectURL(r),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}});function nX(t){return hH[t.toLowerCase()]||rX(t)}function rX(t){return t.length===7?t:"#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}var hH,tI,iI,fH=$(()=>{vn();wo();Vs();hH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},tI=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}},iI=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=ni(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(e===void 0||e.updated_view!=this){let i=this.model.get("disabled");this._textbox.disabled=i,this._colorpicker.disabled=i}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){let e=this.model.get("value");this._colorpicker.value=nX(e),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){let e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,i){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||hH[e.toLowerCase()]?e:i}}});function mH(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()}}function pH(t){if(t===null)return null;{let e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(0,0,0,0),e}}var $x,nI,gH=$(()=>{wo();vn();Vs();$x=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}};$x.serializers=Object.assign(Object.assign({},bi.serializers),{value:{serialize:mH,deserialize:pH}});nI=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=ni(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){let e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}});function Ux(t){if(t===null)return null;{let e=sX.exec(t);return e===null?null:{hours:Math.min(23,parseInt(e[1],10)),minutes:Math.min(59,parseInt(e[2],10)),seconds:e[4]?Math.min(59,parseInt(e[4],10)):0,milliseconds:e[6]?parseInt(e[6],10):0}}}function _H(t){if(t===null)return null;{let e=[`${t.hours.toString().padStart(2,"0")}:${t.minutes.toString().padStart(2,"0")}`];return(t.seconds>0||t.milliseconds>0)&&(e.push(`:${t.seconds.toString().padStart(2,"0")}`),t.milliseconds>0&&e.push(`.${t.milliseconds.toString().padStart(3,"0")}`)),e.join("")}}var sX,qx,vl,rI,sI=$(()=>{Vs();wo();vn();sX=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;qx={serialize:Ux,deserialize:_H},vl=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:vl.model_name,_view_name:vl.view_name,value:null,disabled:!1,min:null,max:null,step:60})}};vl.serializers=Object.assign(Object.assign({},bi.serializers),{value:qx,min:qx,max:qx});vl.model_name="TimeModel";vl.view_name="TimeView";rI=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=ni(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,i){return(i===void 0||i.updated_view!==this)&&(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,i,n){(n===void 0||n.updated_view!==this)&&(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}});function vH(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),hours:t.getUTCHours(),minutes:t.getUTCMinutes(),seconds:t.getUTCSeconds(),milliseconds:t.getUTCMilliseconds()}}function bH(t){if(t===null)return null;{let e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}function xH(t){return t===null?null:{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}}function yH(t){if(t===null)return null;{let e=new Date;return e.setFullYear(t.year,t.month,t.date),e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}var Vx,Zg,oI,yc,Gx,Yx,wH=$(()=>{Vs();wo();vn();sI();Vx={serialize:vH,deserialize:bH},Zg=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}};Zg.serializers=Object.assign(Object.assign({},bi.serializers),{value:Vx,min:Vx,max:Vx});oI=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");let e=document.createElement("input");e.type="datetime-local",e.type==="text"?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=ni(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=ni(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=ni(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,i){if(i===void 0||i.updated_view!==this){let n=this.model.get("min"),r=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=yc.dt_as_dt_string(n),this._datetimepicker.max=yc.dt_as_dt_string(r)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=yc.dt_as_date_string(n),this._datepicker.max=yc.dt_as_date_string(r),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,i,n){if(n===void 0||n.updated_view!==this){let r=this.model.get("value");this._datetimepicker?this._datetimepicker.value=yc.dt_as_dt_string(r):(this._datepicker.valueAsDate=r,this._timepicker.value=yc.dt_as_time_string(r))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){let e=this._datetimepicker.value,i=e?new Date(e):null;i&&isNaN(i.valueOf())&&(i=null),this.model.set("value",i,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){let e=this._datepicker.valueAsDate,i=Ux(this._timepicker.value);e!==null&&i!==null&&e.setHours(i.hours,i.minutes,i.seconds,i.milliseconds),this.model.set("value",i!==null&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some(i=>i&&i.validity.badInput)&&(this.model.set("value",null),this.touch())}};(function(t){function e(r){if(r===null)return"";let s=[];return s.push(`${r.getFullYear().toString().padStart(4,"0")}`),s.push(`-${(r.getMonth()+1).toString().padStart(2,"0")}`),s.push(`-${r.getDate().toString().padStart(2,"0")}`),s.push(`T${r.getHours().toString().padStart(2,"0")}`),s.push(`:${r.getMinutes().toString().padStart(2,"0")}`),(r.getSeconds()>0||r.getMilliseconds()>0)&&(s.push(`:${r.getSeconds().toString().padStart(2,"0")}`),r.getMilliseconds()>0&&s.push(`.${r.getMilliseconds().toString().padStart(3,"0")}`)),s.join("")}t.dt_as_dt_string=e;function i(r){return r?e(r).split("T",2)[0]:""}t.dt_as_date_string=i;function n(r){return r?e(r).split("T",2)[1]:""}t.dt_as_time_string=n})(yc||(yc={}));Gx={serialize:xH,deserialize:yH},Yx=class extends Zg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}};Yx.serializers=Object.assign(Object.assign({},bi.serializers),{value:Gx,min:Gx,max:Gx})});var Xx=Ve((Kx,CH)=>{(function(t,e){typeof Kx=="object"&&typeof CH<"u"?e(Kx):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.noUiSlider={}))})(Kx,function(t){"use strict";t.PipsMode=void 0,function(q){q.Range="range",q.Steps="steps",q.Positions="positions",q.Count="count",q.Values="values"}(t.PipsMode||(t.PipsMode={})),t.PipsType=void 0,function(q){q[q.None=-1]="None",q[q.NoValue=0]="NoValue",q[q.LargeValue=1]="LargeValue",q[q.SmallValue=2]="SmallValue"}(t.PipsType||(t.PipsType={}));function e(q){return i(q)&&typeof q.from=="function"}function i(q){return typeof q=="object"&&typeof q.to=="function"}function n(q){q.parentElement.removeChild(q)}function r(q){return q!=null}function s(q){q.preventDefault()}function o(q){return q.filter(function(B){return this[B]?!1:this[B]=!0},{})}function a(q,B){return Math.round(q/B)*B}function l(q,B){var Me=q.getBoundingClientRect(),Te=q.ownerDocument,Ne=Te.documentElement,ot=y(Te);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(ot.x=0),B?Me.top+ot.y-Ne.clientTop:Me.left+ot.x-Ne.clientLeft}function c(q){return typeof q=="number"&&!isNaN(q)&&isFinite(q)}function d(q,B,Me){Me>0&&(m(q,B),setTimeout(function(){p(q,B)},Me))}function u(q){return Math.max(Math.min(q,100),0)}function f(q){return Array.isArray(q)?q:[q]}function h(q){q=String(q);var B=q.split(".");return B.length>1?B[1].length:0}function m(q,B){q.classList&&!/\s/.test(B)?q.classList.add(B):q.className+=" "+B}function p(q,B){q.classList&&!/\s/.test(B)?q.classList.remove(B):q.className=q.className.replace(new RegExp("(^|\\b)"+B.split(" ").join("|")+"(\\b|$)","gi")," ")}function _(q,B){return q.classList?q.classList.contains(B):new RegExp("\\b"+B+"\\b").test(q.className)}function y(q){var B=window.pageXOffset!==void 0,Me=(q.compatMode||"")==="CSS1Compat",Te=B?window.pageXOffset:Me?q.documentElement.scrollLeft:q.body.scrollLeft,Ne=B?window.pageYOffset:Me?q.documentElement.scrollTop:q.body.scrollTop;return{x:Te,y:Ne}}function S(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function T(){var q=!1;try{var B=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",null,B)}catch{}return q}function D(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function k(q,B){return 100/(B-q)}function b(q,B,Me){return B*100/(q[Me+1]-q[Me])}function M(q,B){return b(q,q[0]<0?B+Math.abs(q[0]):B-q[0],0)}function C(q,B){return B*(q[1]-q[0])/100+q[0]}function x(q,B){for(var Me=1;q>=B[Me];)Me+=1;return Me}function w(q,B,Me){if(Me>=q.slice(-1)[0])return 100;var Te=x(Me,q),Ne=q[Te-1],ot=q[Te],ct=B[Te-1],Tt=B[Te];return ct+M([Ne,ot],Me)/k(ct,Tt)}function E(q,B,Me){if(Me>=100)return q.slice(-1)[0];var Te=x(Me,B),Ne=q[Te-1],ot=q[Te],ct=B[Te-1],Tt=B[Te];return C([Ne,ot],(Me-ct)*k(ct,Tt))}function O(q,B,Me,Te){if(Te===100)return Te;var Ne=x(Te,q),ot=q[Ne-1],ct=q[Ne];return Me?Te-ot>(ct-ot)/2?ct:ot:B[Ne-1]?q[Ne-1]+a(Te-q[Ne-1],B[Ne-1]):Te}var j=function(){function q(B,Me,Te){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Te||!1],this.xNumSteps=[!1],this.snap=Me;var Ne,ot=[];for(Object.keys(B).forEach(function(ct){ot.push([f(B[ct]),ct])}),ot.sort(function(ct,Tt){return ct[0][0]-Tt[0][0]}),Ne=0;Ne<ot.length;Ne++)this.handleEntryPoint(ot[Ne][1],ot[Ne][0]);for(this.xNumSteps=this.xSteps.slice(0),Ne=0;Ne<this.xNumSteps.length;Ne++)this.handleStepPoint(Ne,this.xNumSteps[Ne])}return q.prototype.getDistance=function(B){var Me,Te=[];for(Me=0;Me<this.xNumSteps.length-1;Me++){var Ne=this.xNumSteps[Me];if(Ne&&B/Ne%1!==0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[Me]+"% range must be divisible by step.");Te[Me]=b(this.xVal,B,Me)}return Te},q.prototype.getAbsoluteDistance=function(B,Me,Te){var Ne=0;if(B<this.xPct[this.xPct.length-1])for(;B>this.xPct[Ne+1];)Ne++;else B===this.xPct[this.xPct.length-1]&&(Ne=this.xPct.length-2);!Te&&B===this.xPct[Ne+1]&&Ne++,Me===null&&(Me=[]);var ot,ct=1,Tt=Me[Ne],ut=0,Oi=0,cr=0,Si=0;for(Te?ot=(B-this.xPct[Ne])/(this.xPct[Ne+1]-this.xPct[Ne]):ot=(this.xPct[Ne+1]-B)/(this.xPct[Ne+1]-this.xPct[Ne]);Tt>0;)ut=this.xPct[Ne+1+Si]-this.xPct[Ne+Si],Me[Ne+Si]*ct+100-ot*100>100?(Oi=ut*ot,ct=(Tt-100*ot)/Me[Ne+Si],ot=1):(Oi=Me[Ne+Si]*ut/100*ct,ct=0),Te?(cr=cr-Oi,this.xPct.length+Si>=1&&Si--):(cr=cr+Oi,this.xPct.length-Si>=1&&Si++),Tt=Me[Ne+Si]*ct;return B+cr},q.prototype.toStepping=function(B){return B=w(this.xVal,this.xPct,B),B},q.prototype.fromStepping=function(B){return E(this.xVal,this.xPct,B)},q.prototype.getStep=function(B){return B=O(this.xPct,this.xSteps,this.snap,B),B},q.prototype.getDefaultStep=function(B,Me,Te){var Ne=x(B,this.xPct);return(B===100||Me&&B===this.xPct[Ne-1])&&(Ne=Math.max(Ne-1,1)),(this.xVal[Ne]-this.xVal[Ne-1])/Te},q.prototype.getNearbySteps=function(B){var Me=x(B,this.xPct);return{stepBefore:{startValue:this.xVal[Me-2],step:this.xNumSteps[Me-2],highestStep:this.xHighestCompleteStep[Me-2]},thisStep:{startValue:this.xVal[Me-1],step:this.xNumSteps[Me-1],highestStep:this.xHighestCompleteStep[Me-1]},stepAfter:{startValue:this.xVal[Me],step:this.xNumSteps[Me],highestStep:this.xHighestCompleteStep[Me]}}},q.prototype.countStepDecimals=function(){var B=this.xNumSteps.map(h);return Math.max.apply(null,B)},q.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},q.prototype.convert=function(B){return this.getStep(this.toStepping(B))},q.prototype.handleEntryPoint=function(B,Me){var Te;if(B==="min"?Te=0:B==="max"?Te=100:Te=parseFloat(B),!c(Te)||!c(Me[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Te),this.xVal.push(Me[0]);var Ne=Number(Me[1]);Te?this.xSteps.push(isNaN(Ne)?!1:Ne):isNaN(Ne)||(this.xSteps[0]=Ne),this.xHighestCompleteStep.push(0)},q.prototype.handleStepPoint=function(B,Me){if(Me){if(this.xVal[B]===this.xVal[B+1]){this.xSteps[B]=this.xHighestCompleteStep[B]=this.xVal[B];return}this.xSteps[B]=b([this.xVal[B],this.xVal[B+1]],Me,0)/k(this.xPct[B],this.xPct[B+1]);var Te=(this.xVal[B+1]-this.xVal[B])/this.xNumSteps[B],Ne=Math.ceil(Number(Te.toFixed(3))-1),ot=this.xVal[B]+this.xNumSteps[B]*Ne;this.xHighestCompleteStep[B]=ot}},q}(),Q={to:function(q){return q===void 0?"":q.toFixed(2)},from:Number},X={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},K={tooltips:".__tooltips",aria:".__aria"};function Y(q,B){if(!c(B))throw new Error("noUiSlider: 'step' is not numeric.");q.singleStep=B}function ie(q,B){if(!c(B))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");q.keyboardPageMultiplier=B}function be(q,B){if(!c(B))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");q.keyboardMultiplier=B}function Pe(q,B){if(!c(B))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");q.keyboardDefaultStep=B}function we(q,B){if(typeof B!="object"||Array.isArray(B))throw new Error("noUiSlider: 'range' is not an object.");if(B.min===void 0||B.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");q.spectrum=new j(B,q.snap||!1,q.singleStep)}function Le(q,B){if(B=f(B),!Array.isArray(B)||!B.length)throw new Error("noUiSlider: 'start' option is incorrect.");q.handles=B.length,q.start=B}function at(q,B){if(typeof B!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");q.snap=B}function Ze(q,B){if(typeof B!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");q.animate=B}function Je(q,B){if(typeof B!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");q.animationDuration=B}function lt(q,B){var Me=[!1],Te;if(B==="lower"?B=[!0,!1]:B==="upper"&&(B=[!1,!0]),B===!0||B===!1){for(Te=1;Te<q.handles;Te++)Me.push(B);Me.push(!1)}else{if(!Array.isArray(B)||!B.length||B.length!==q.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");Me=B}q.connect=Me}function bt(q,B){switch(B){case"horizontal":q.ort=0;break;case"vertical":q.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function wt(q,B){if(!c(B))throw new Error("noUiSlider: 'margin' option must be numeric.");B!==0&&(q.margin=q.spectrum.getDistance(B))}function oi(q,B){if(!c(B))throw new Error("noUiSlider: 'limit' option must be numeric.");if(q.limit=q.spectrum.getDistance(B),!q.limit||q.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function mi(q,B){var Me;if(!c(B)&&!Array.isArray(B))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(B)&&!(B.length===2||c(B[0])||c(B[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(B!==0){for(Array.isArray(B)||(B=[B,B]),q.padding=[q.spectrum.getDistance(B[0]),q.spectrum.getDistance(B[1])],Me=0;Me<q.spectrum.xNumSteps.length-1;Me++)if(q.padding[0][Me]<0||q.padding[1][Me]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var Te=B[0]+B[1],Ne=q.spectrum.xVal[0],ot=q.spectrum.xVal[q.spectrum.xVal.length-1];if(Te/(ot-Ne)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Ci(q,B){switch(B){case"ltr":q.dir=0;break;case"rtl":q.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function ye(q,B){if(typeof B!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var Me=B.indexOf("tap")>=0,Te=B.indexOf("drag")>=0,Ne=B.indexOf("fixed")>=0,ot=B.indexOf("snap")>=0,ct=B.indexOf("hover")>=0,Tt=B.indexOf("unconstrained")>=0,ut=B.indexOf("drag-all")>=0;if(Ne){if(q.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");wt(q,q.start[1]-q.start[0])}if(Tt&&(q.margin||q.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");q.events={tap:Me||ot,drag:Te,dragAll:ut,fixed:Ne,snap:ot,hover:ct,unconstrained:Tt}}function A(q,B){if(B!==!1)if(B===!0||i(B)){q.tooltips=[];for(var Me=0;Me<q.handles;Me++)q.tooltips.push(B)}else{if(B=f(B),B.length!==q.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");B.forEach(function(Te){if(typeof Te!="boolean"&&!i(Te))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),q.tooltips=B}}function H(q,B){if(B.length!==q.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");q.handleAttributes=B}function F(q,B){if(!i(B))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");q.ariaFormat=B}function Z(q,B){if(!e(B))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");q.format=B}function ae(q,B){if(typeof B!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");q.keyboardSupport=B}function ce(q,B){q.documentElement=B}function ke(q,B){if(typeof B!="string"&&B!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");q.cssPrefix=B}function tt(q,B){if(typeof B!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof q.cssPrefix=="string"?(q.cssClasses={},Object.keys(B).forEach(function(Me){q.cssClasses[Me]=q.cssPrefix+B[Me]})):q.cssClasses=B}function xt(q){var B={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Q,format:Q},Me={step:{r:!1,t:Y},keyboardPageMultiplier:{r:!1,t:ie},keyboardMultiplier:{r:!1,t:be},keyboardDefaultStep:{r:!1,t:Pe},start:{r:!0,t:Le},connect:{r:!0,t:lt},direction:{r:!0,t:Ci},snap:{r:!1,t:at},animate:{r:!1,t:Ze},animationDuration:{r:!1,t:Je},range:{r:!0,t:we},orientation:{r:!1,t:bt},margin:{r:!1,t:wt},limit:{r:!1,t:oi},padding:{r:!1,t:mi},behaviour:{r:!0,t:ye},ariaFormat:{r:!1,t:F},format:{r:!1,t:Z},tooltips:{r:!1,t:A},keyboardSupport:{r:!0,t:ae},documentElement:{r:!1,t:ce},cssPrefix:{r:!0,t:ke},cssClasses:{r:!0,t:tt},handleAttributes:{r:!1,t:H}},Te={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:X,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};q.format&&!q.ariaFormat&&(q.ariaFormat=q.format),Object.keys(Me).forEach(function(ut){if(!r(q[ut])&&Te[ut]===void 0){if(Me[ut].r)throw new Error("noUiSlider: '"+ut+"' is required.");return}Me[ut].t(B,r(q[ut])?q[ut]:Te[ut])}),B.pips=q.pips;var Ne=document.createElement("div"),ot=Ne.style.msTransform!==void 0,ct=Ne.style.transform!==void 0;B.transformRule=ct?"transform":ot?"msTransform":"webkitTransform";var Tt=[["left","top"],["right","bottom"]];return B.style=Tt[B.dir][B.ort],B}function Xt(q,B,Me){var Te=S(),Ne=D(),ot=Ne&&T(),ct=q,Tt,ut,Oi,cr,Si,At=B.spectrum,_s=[],Ai=[],Gi=[],ya=0,vs={},wa=q.ownerDocument,Nn=B.documentElement||wa.documentElement,ln=wa.body,Xm=wa.dir==="rtl"||B.ort===1?0:100;function to(G,ne){var oe=wa.createElement("div");return ne&&m(oe,ne),G.appendChild(oe),oe}function Q_(G,ne){var oe=to(G,B.cssClasses.origin),Ee=to(oe,B.cssClasses.handle);if(to(Ee,B.cssClasses.touchArea),Ee.setAttribute("data-handle",String(ne)),B.keyboardSupport&&(Ee.setAttribute("tabindex","0"),Ee.addEventListener("keydown",function(qe){return ip(qe,ne)})),B.handleAttributes!==void 0){var $e=B.handleAttributes[ne];Object.keys($e).forEach(function(qe){Ee.setAttribute(qe,$e[qe])})}return Ee.setAttribute("role","slider"),Ee.setAttribute("aria-orientation",B.ort?"vertical":"horizontal"),ne===0?m(Ee,B.cssClasses.handleLower):ne===B.handles-1&&m(Ee,B.cssClasses.handleUpper),oe}function Jm(G,ne){return ne?to(G,B.cssClasses.connect):!1}function kl(G,ne){var oe=to(ne,B.cssClasses.connects);ut=[],Oi=[],Oi.push(Jm(oe,G[0]));for(var Ee=0;Ee<B.handles;Ee++)ut.push(Q_(ne,Ee)),Gi[Ee]=Ee,Oi.push(Jm(oe,G[Ee+1]))}function Ll(G){m(G,B.cssClasses.target),B.dir===0?m(G,B.cssClasses.ltr):m(G,B.cssClasses.rtl),B.ort===0?m(G,B.cssClasses.horizontal):m(G,B.cssClasses.vertical);var ne=getComputedStyle(G).direction;return ne==="rtl"?m(G,B.cssClasses.textDirectionRtl):m(G,B.cssClasses.textDirectionLtr),to(G,B.cssClasses.base)}function Zm(G,ne){return!B.tooltips||!B.tooltips[ne]?!1:to(G.firstChild,B.cssClasses.tooltip)}function Bc(){return ct.hasAttribute("disabled")}function Qm(G){var ne=ut[G];return ne.hasAttribute("disabled")}function ep(){Si&&(Nl("update"+K.tooltips),Si.forEach(function(G){G&&n(G)}),Si=null)}function ev(){ep(),Si=ut.map(Zm),np("update"+K.tooltips,function(G,ne,oe){if(!(!Si||!B.tooltips)&&Si[ne]!==!1){var Ee=G[ne];B.tooltips[ne]!==!0&&(Ee=B.tooltips[ne].to(oe[ne])),Si[ne].innerHTML=Ee}})}function tv(){Nl("update"+K.aria),np("update"+K.aria,function(G,ne,oe,Ee,$e){Gi.forEach(function(qe){var Qe=ut[qe],rt=Hc(Ai,qe,0,!0,!0,!0),Jt=Hc(Ai,qe,100,!0,!0,!0),Ut=$e[qe],zt=String(B.ariaFormat.to(oe[qe]));rt=At.fromStepping(rt).toFixed(1),Jt=At.fromStepping(Jt).toFixed(1),Ut=At.fromStepping(Ut).toFixed(1),Qe.children[0].setAttribute("aria-valuemin",rt),Qe.children[0].setAttribute("aria-valuemax",Jt),Qe.children[0].setAttribute("aria-valuenow",Ut),Qe.children[0].setAttribute("aria-valuetext",zt)})})}function Ow(G){if(G.mode===t.PipsMode.Range||G.mode===t.PipsMode.Steps)return At.xVal;if(G.mode===t.PipsMode.Count){if(G.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var ne=G.values-1,oe=100/ne,Ee=[];ne--;)Ee[ne]=ne*oe;return Ee.push(100),iv(Ee,G.stepped)}return G.mode===t.PipsMode.Positions?iv(G.values,G.stepped):G.mode===t.PipsMode.Values?G.stepped?G.values.map(function($e){return At.fromStepping(At.getStep(At.toStepping($e)))}):G.values:[]}function iv(G,ne){return G.map(function(oe){return At.fromStepping(ne?At.getStep(oe):oe)})}function nv(G){function ne(Ut,zt){return Number((Ut+zt).toFixed(7))}var oe=Ow(G),Ee={},$e=At.xVal[0],qe=At.xVal[At.xVal.length-1],Qe=!1,rt=!1,Jt=0;return oe=o(oe.slice().sort(function(Ut,zt){return Ut-zt})),oe[0]!==$e&&(oe.unshift($e),Qe=!0),oe[oe.length-1]!==qe&&(oe.push(qe),rt=!0),oe.forEach(function(Ut,zt){var Di,Ft,Cn,Sn=Ut,en=oe[zt+1],cn,op,ap,ju,Hu,Fu,Wu,lp=G.mode===t.PipsMode.Steps;for(lp&&(Di=At.xNumSteps[zt]),Di||(Di=en-Sn),en===void 0&&(en=Sn),Di=Math.max(Di,1e-7),Ft=Sn;Ft<=en;Ft=ne(Ft,Di)){for(cn=At.toStepping(Ft),op=cn-Jt,Hu=op/(G.density||1),Fu=Math.round(Hu),Wu=op/Fu,Cn=1;Cn<=Fu;Cn+=1)ap=Jt+Cn*Wu,Ee[ap.toFixed(5)]=[At.fromStepping(ap),0];ju=oe.indexOf(Ft)>-1?t.PipsType.LargeValue:lp?t.PipsType.SmallValue:t.PipsType.NoValue,!zt&&Qe&&Ft!==en&&(ju=0),Ft===en&&rt||(Ee[cn.toFixed(5)]=[Ft,ju]),Jt=cn}}),Ee}function Dw(G,ne,oe){var Ee,$e,qe=wa.createElement("div"),Qe=(Ee={},Ee[t.PipsType.None]="",Ee[t.PipsType.NoValue]=B.cssClasses.valueNormal,Ee[t.PipsType.LargeValue]=B.cssClasses.valueLarge,Ee[t.PipsType.SmallValue]=B.cssClasses.valueSub,Ee),rt=($e={},$e[t.PipsType.None]="",$e[t.PipsType.NoValue]=B.cssClasses.markerNormal,$e[t.PipsType.LargeValue]=B.cssClasses.markerLarge,$e[t.PipsType.SmallValue]=B.cssClasses.markerSub,$e),Jt=[B.cssClasses.valueHorizontal,B.cssClasses.valueVertical],Ut=[B.cssClasses.markerHorizontal,B.cssClasses.markerVertical];m(qe,B.cssClasses.pips),m(qe,B.ort===0?B.cssClasses.pipsHorizontal:B.cssClasses.pipsVertical);function zt(Ft,Cn){var Sn=Cn===B.cssClasses.value,en=Sn?Jt:Ut,cn=Sn?Qe:rt;return Cn+" "+en[B.ort]+" "+cn[Ft]}function Di(Ft,Cn,Sn){if(Sn=ne?ne(Cn,Sn):Sn,Sn!==t.PipsType.None){var en=to(qe,!1);en.className=zt(Sn,B.cssClasses.marker),en.style[B.style]=Ft+"%",Sn>t.PipsType.NoValue&&(en=to(qe,!1),en.className=zt(Sn,B.cssClasses.value),en.setAttribute("data-value",String(Cn)),en.style[B.style]=Ft+"%",en.innerHTML=String(oe.to(Cn)))}}return Object.keys(G).forEach(function(Ft){Di(Ft,G[Ft][0],G[Ft][1])}),qe}function Lo(){cr&&(n(cr),cr=null)}function Ou(G){Lo();var ne=nv(G),oe=G.filter,Ee=G.format||{to:function($e){return String(Math.round($e))}};return cr=ct.appendChild(Dw(ne,oe,Ee)),cr}function Du(){var G=Tt.getBoundingClientRect(),ne="offset"+["Width","Height"][B.ort];return B.ort===0?G.width||Tt[ne]:G.height||Tt[ne]}function io(G,ne,oe,Ee){var $e=function(Qe){var rt=zu(Qe,Ee.pageOffset,Ee.target||ne);if(!rt||Bc()&&!Ee.doNotReject||_(ct,B.cssClasses.tap)&&!Ee.doNotReject||G===Te.start&&rt.buttons!==void 0&&rt.buttons>1||Ee.hover&&rt.buttons)return!1;ot||rt.preventDefault(),rt.calcPoint=rt.points[B.ort],oe(rt,Ee)},qe=[];return G.split(" ").forEach(function(Qe){ne.addEventListener(Qe,$e,ot?{passive:!0}:!1),qe.push([Qe,$e])}),qe}function zu(G,ne,oe){var Ee=G.type.indexOf("touch")===0,$e=G.type.indexOf("mouse")===0,qe=G.type.indexOf("pointer")===0,Qe=0,rt=0;if(G.type.indexOf("MSPointer")===0&&(qe=!0),G.type==="mousedown"&&!G.buttons&&!G.touches)return!1;if(Ee){var Jt=function(Di){var Ft=Di.target;return Ft===oe||oe.contains(Ft)||G.composed&&G.composedPath().shift()===oe};if(G.type==="touchstart"){var Ut=Array.prototype.filter.call(G.touches,Jt);if(Ut.length>1)return!1;Qe=Ut[0].pageX,rt=Ut[0].pageY}else{var zt=Array.prototype.find.call(G.changedTouches,Jt);if(!zt)return!1;Qe=zt.pageX,rt=zt.pageY}}return ne=ne||y(wa),($e||qe)&&(Qe=G.clientX+ne.x,rt=G.clientY+ne.y),G.pageOffset=ne,G.points=[Qe,rt],G.cursor=$e||qe,G}function tp(G){var ne=G-l(Tt,B.ort),oe=ne*100/Du();return oe=u(oe),B.dir?100-oe:oe}function zw(G){var ne=100,oe=!1;return ut.forEach(function(Ee,$e){if(!Qm($e)){var qe=Ai[$e],Qe=Math.abs(qe-G),rt=Qe===100&&ne===100,Jt=Qe<ne,Ut=Qe<=ne&&G>qe;(Jt||Ut||rt)&&(oe=$e,ne=Qe)}}),oe}function jc(G,ne){G.type==="mouseout"&&G.target.nodeName==="HTML"&&G.relatedTarget===null&&Pu(G,ne)}function rv(G,ne){if(navigator.appVersion.indexOf("MSIE 9")===-1&&G.buttons===0&&ne.buttonsProperty!==0)return Pu(G,ne);var oe=(B.dir?-1:1)*(G.calcPoint-ne.startCalcPoint),Ee=oe*100/ne.baseSize;Ca(oe>0,Ee,ne.locations,ne.handleNumbers,ne.connect)}function Pu(G,ne){ne.handle&&(p(ne.handle,B.cssClasses.active),ya-=1),ne.listeners.forEach(function(oe){Nn.removeEventListener(oe[0],oe[1])}),ya===0&&(p(ct,B.cssClasses.drag),rp(),G.cursor&&(ln.style.cursor="",ln.removeEventListener("selectstart",s))),ne.handleNumbers.forEach(function(oe){Ei("change",oe),Ei("set",oe),Ei("end",oe)})}function Bu(G,ne){if(!ne.handleNumbers.some(Qm)){var oe;if(ne.handleNumbers.length===1){var Ee=ut[ne.handleNumbers[0]];oe=Ee.children[0],ya+=1,m(oe,B.cssClasses.active)}G.stopPropagation();var $e=[],qe=io(Te.move,Nn,rv,{target:G.target,handle:oe,connect:ne.connect,listeners:$e,startCalcPoint:G.calcPoint,baseSize:Du(),pageOffset:G.pageOffset,handleNumbers:ne.handleNumbers,buttonsProperty:G.buttons,locations:Ai.slice()}),Qe=io(Te.end,Nn,Pu,{target:G.target,handle:oe,listeners:$e,doNotReject:!0,handleNumbers:ne.handleNumbers}),rt=io("mouseout",Nn,jc,{target:G.target,handle:oe,listeners:$e,doNotReject:!0,handleNumbers:ne.handleNumbers});$e.push.apply($e,qe.concat(Qe,rt)),G.cursor&&(ln.style.cursor=getComputedStyle(G.target).cursor,ut.length>1&&m(ct,B.cssClasses.drag),ln.addEventListener("selectstart",s,!1)),ne.handleNumbers.forEach(function(Jt){Ei("start",Jt)})}}function sv(G){G.stopPropagation();var ne=tp(G.calcPoint),oe=zw(ne);oe!==!1&&(B.events.snap||d(ct,B.cssClasses.tap,B.animationDuration),No(oe,ne,!0,!0),rp(),Ei("slide",oe,!0),Ei("update",oe,!0),B.events.snap?Bu(G,{handleNumbers:[oe]}):(Ei("change",oe,!0),Ei("set",oe,!0)))}function Pw(G){var ne=tp(G.calcPoint),oe=At.getStep(ne),Ee=At.fromStepping(oe);Object.keys(vs).forEach(function($e){$e.split(".")[0]==="hover"&&vs[$e].forEach(function(qe){qe.call(bs,Ee)})})}function ip(G,ne){if(Bc()||Qm(ne))return!1;var oe=["Left","Right"],Ee=["Down","Up"],$e=["PageDown","PageUp"],qe=["Home","End"];B.dir&&!B.ort?oe.reverse():B.ort&&!B.dir&&(Ee.reverse(),$e.reverse());var Qe=G.key.replace("Arrow",""),rt=Qe===$e[0],Jt=Qe===$e[1],Ut=Qe===Ee[0]||Qe===oe[0]||rt,zt=Qe===Ee[1]||Qe===oe[1]||Jt,Di=Qe===qe[0],Ft=Qe===qe[1];if(!Ut&&!zt&&!Di&&!Ft)return!0;G.preventDefault();var Cn;if(zt||Ut){var Sn=Ut?0:1,en=Ol(ne),cn=en[Sn];if(cn===null)return!1;cn===!1&&(cn=At.getDefaultStep(Ai[ne],Ut,B.keyboardDefaultStep)),Jt||rt?cn*=B.keyboardPageMultiplier:cn*=B.keyboardMultiplier,cn=Math.max(cn,1e-7),cn=(Ut?-1:1)*cn,Cn=_s[ne]+cn}else Ft?Cn=B.spectrum.xVal[B.spectrum.xVal.length-1]:Cn=B.spectrum.xVal[0];return No(ne,At.toStepping(Cn),!0,!0),Ei("slide",ne),Ei("update",ne),Ei("change",ne),Ei("set",ne),!1}function Bw(G){G.fixed||ut.forEach(function(ne,oe){io(Te.start,ne.children[0],Bu,{handleNumbers:[oe]})}),G.tap&&io(Te.start,Tt,sv,{}),G.hover&&io(Te.move,Tt,Pw,{hover:!0}),G.drag&&Oi.forEach(function(ne,oe){if(!(ne===!1||oe===0||oe===Oi.length-1)){var Ee=ut[oe-1],$e=ut[oe],qe=[ne],Qe=[Ee,$e],rt=[oe-1,oe];m(ne,B.cssClasses.draggable),G.fixed&&(qe.push(Ee.children[0]),qe.push($e.children[0])),G.dragAll&&(Qe=ut,rt=Gi),qe.forEach(function(Jt){io(Te.start,Jt,Bu,{handles:Qe,handleNumbers:rt,connect:ne})})}})}function np(G,ne){vs[G]=vs[G]||[],vs[G].push(ne),G.split(".")[0]==="update"&&ut.forEach(function(oe,Ee){Ei("update",Ee)})}function ov(G){return G===K.aria||G===K.tooltips}function Nl(G){var ne=G&&G.split(".")[0],oe=ne?G.substring(ne.length):G;Object.keys(vs).forEach(function(Ee){var $e=Ee.split(".")[0],qe=Ee.substring($e.length);(!ne||ne===$e)&&(!oe||oe===qe)&&(!ov(qe)||oe===qe)&&delete vs[Ee]})}function Ei(G,ne,oe){Object.keys(vs).forEach(function(Ee){var $e=Ee.split(".")[0];G===$e&&vs[Ee].forEach(function(qe){qe.call(bs,_s.map(B.format.to),ne,_s.slice(),oe||!1,Ai.slice(),bs)})})}function Hc(G,ne,oe,Ee,$e,qe){var Qe;return ut.length>1&&!B.events.unconstrained&&(Ee&&ne>0&&(Qe=At.getAbsoluteDistance(G[ne-1],B.margin,!1),oe=Math.max(oe,Qe)),$e&&ne<ut.length-1&&(Qe=At.getAbsoluteDistance(G[ne+1],B.margin,!0),oe=Math.min(oe,Qe))),ut.length>1&&B.limit&&(Ee&&ne>0&&(Qe=At.getAbsoluteDistance(G[ne-1],B.limit,!1),oe=Math.min(oe,Qe)),$e&&ne<ut.length-1&&(Qe=At.getAbsoluteDistance(G[ne+1],B.limit,!0),oe=Math.max(oe,Qe))),B.padding&&(ne===0&&(Qe=At.getAbsoluteDistance(0,B.padding[0],!1),oe=Math.max(oe,Qe)),ne===ut.length-1&&(Qe=At.getAbsoluteDistance(100,B.padding[1],!0),oe=Math.min(oe,Qe))),oe=At.getStep(oe),oe=u(oe),oe===G[ne]&&!qe?!1:oe}function wn(G,ne){var oe=B.ort;return(oe?ne:G)+", "+(oe?G:ne)}function Ca(G,ne,oe,Ee,$e){var qe=oe.slice(),Qe=Ee[0],rt=[!G,G],Jt=[G,!G];Ee=Ee.slice(),G&&Ee.reverse(),Ee.length>1?Ee.forEach(function(zt,Di){var Ft=Hc(qe,zt,qe[zt]+ne,rt[Di],Jt[Di],!1);Ft===!1?ne=0:(ne=Ft-qe[zt],qe[zt]=Ft)}):rt=Jt=[!0];var Ut=!1;Ee.forEach(function(zt,Di){Ut=No(zt,oe[zt]+ne,rt[Di],Jt[Di])||Ut}),Ut&&(Ee.forEach(function(zt){Ei("update",zt),Ei("slide",zt)}),$e!=null&&Ei("drag",Qe))}function Fc(G,ne){return B.dir?100-G-ne:G}function jw(G,ne){Ai[G]=ne,_s[G]=At.fromStepping(ne);var oe=10*(Fc(ne,0)-Xm),Ee="translate("+wn(oe+"%","0")+")";ut[G].style[B.transformRule]=Ee,sp(G),sp(G+1)}function rp(){Gi.forEach(function(G){var ne=Ai[G]>50?-1:1,oe=3+(ut.length+ne*G);ut[G].style.zIndex=String(oe)})}function No(G,ne,oe,Ee,$e){return $e||(ne=Hc(Ai,G,ne,oe,Ee,!1)),ne===!1?!1:(jw(G,ne),!0)}function sp(G){if(Oi[G]){var ne=0,oe=100;G!==0&&(ne=Ai[G-1]),G!==Oi.length-1&&(oe=Ai[G]);var Ee=oe-ne,$e="translate("+wn(Fc(ne,Ee)+"%","0")+")",qe="scale("+wn(Ee/100,"1")+")";Oi[G].style[B.transformRule]=$e+" "+qe}}function Wc(G,ne){return G===null||G===!1||G===void 0||(typeof G=="number"&&(G=String(G)),G=B.format.from(G),G!==!1&&(G=At.toStepping(G)),G===!1||isNaN(G))?Ai[ne]:G}function $c(G,ne,oe){var Ee=f(G),$e=Ai[0]===void 0;ne=ne===void 0?!0:ne,B.animate&&!$e&&d(ct,B.cssClasses.tap,B.animationDuration),Gi.forEach(function(rt){No(rt,Wc(Ee[rt],rt),!0,!1,oe)});var qe=Gi.length===1?0:1;if($e&&At.hasNoSize()&&(oe=!0,Ai[0]=0,Gi.length>1)){var Qe=100/(Gi.length-1);Gi.forEach(function(rt){Ai[rt]=rt*Qe})}for(;qe<Gi.length;++qe)Gi.forEach(function(rt){No(rt,Ai[rt],!0,!0,oe)});rp(),Gi.forEach(function(rt){Ei("update",rt),Ee[rt]!==null&&ne&&Ei("set",rt)})}function Hw(G){$c(B.start,G)}function Fw(G,ne,oe,Ee){if(G=Number(G),!(G>=0&&G<Gi.length))throw new Error("noUiSlider: invalid handle number, got: "+G);No(G,Wc(ne,G),!0,!0,Ee),Ei("update",G),oe&&Ei("set",G)}function Ir(G){if(G===void 0&&(G=!1),G)return _s.length===1?_s[0]:_s.slice(0);var ne=_s.map(B.format.to);return ne.length===1?ne[0]:ne}function av(){for(Nl(K.aria),Nl(K.tooltips),Object.keys(B.cssClasses).forEach(function(G){p(ct,B.cssClasses[G])});ct.firstChild;)ct.removeChild(ct.firstChild);delete ct.noUiSlider}function Ol(G){var ne=Ai[G],oe=At.getNearbySteps(ne),Ee=_s[G],$e=oe.thisStep.step,qe=null;if(B.snap)return[Ee-oe.stepBefore.startValue||null,oe.stepAfter.startValue-Ee||null];$e!==!1&&Ee+$e>oe.stepAfter.startValue&&($e=oe.stepAfter.startValue-Ee),Ee>oe.thisStep.startValue?qe=oe.thisStep.step:oe.stepBefore.step===!1?qe=!1:qe=Ee-oe.stepBefore.highestStep,ne===100?$e=null:ne===0&&(qe=null);var Qe=At.countStepDecimals();return $e!==null&&$e!==!1&&($e=Number($e.toFixed(Qe))),qe!==null&&qe!==!1&&(qe=Number(qe.toFixed(Qe))),[qe,$e]}function Ww(){return Gi.map(Ol)}function $w(G,ne){var oe=Ir(),Ee=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];Ee.forEach(function(qe){G[qe]!==void 0&&(Me[qe]=G[qe])});var $e=xt(Me);Ee.forEach(function(qe){G[qe]!==void 0&&(B[qe]=$e[qe])}),At=$e.spectrum,B.margin=$e.margin,B.limit=$e.limit,B.padding=$e.padding,B.pips?Ou(B.pips):Lo(),B.tooltips?ev():ep(),Ai=[],$c(r(G.start)?G.start:oe,ne)}function Sa(){Tt=Ll(ct),kl(B.connect,Tt),Bw(B.events),$c(B.start),B.pips&&Ou(B.pips),B.tooltips&&ev(),tv()}Sa();var bs={destroy:av,steps:Ww,on:np,off:Nl,get:Ir,set:$c,setHandle:Fw,reset:Hw,__moveHandles:function(G,ne,oe){Ca(G,ne,Ai,oe)},options:Me,updateOptions:$w,target:ct,removePips:Lo,removeTooltips:ep,getPositions:function(){return Ai.slice()},getTooltips:function(){return Si},getOrigins:function(){return ut},pips:Ou};return bs}function Ht(q,B){if(!q||!q.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+q);if(q.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Me=xt(B),Te=Xt(q,Me,B);return q.noUiSlider=Te,Te}var Ce={__spectrum:j,cssClasses:X,create:Ht};t.create=Ht,t.cssClasses=X,t.default=Ce,Object.defineProperty(t,"__esModule",{value:!0})})});var SH,Qg,Jd,Jx,Zx,aI,Zd,e_,t_,lI,cI,i_,Qx,dI,Qd,uI,hI,fI=$(()=>{vn();wo();$i();Vs();o1();SH=P(Xx()),Qg=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}},Jd=class extends Qg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}},Jx=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}};Jx.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});Zx=class extends Jd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=jl(this.get("readout_format"))}},aI=class extends Zx{},Zd=class extends ui{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),this.model.get("orientation")==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")})):this.readout.style.display="none"),super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){e.keyCode===13&&(e.preventDefault(),this.handleTextChange())}createSlider(){let e=this.model.get("orientation"),i=this.model.get("behavior");SH.default.create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:i,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:e==="horizontal"?"ltr":"rtl",format:{from:n=>Number(n),to:n=>this._validate_slide_value(n)}}),this.$slider.noUiSlider.on("update",(n,r)=>{this.handleSliderUpdateEvent(n,r)}),this.$slider.noUiSlider.on("change",(n,r)=>{this.handleSliderChangeEvent(n,r)})}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}},e_=class extends Zd{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:]\s*([+-]?\d+)/}update(e){super.update(e);let i=this.model.get("value");this.readout.textContent=this.valueToString(i),this.model.get("value")!==i&&(this.model.set("value",i,{updated_view:this}),this.touch())}valueToString(e){let i=this.model.readout_formatter;return e.map(function(n){return i(n)}).join(" \u2013 ")}stringToValue(e){if(e===null)return null;let i=this._range_regex.exec(e);return i?[this._parse_value(i[1]),this._parse_value(i[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent),i=this.model.get("min"),n=this.model.get("max");e===null||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],n),i),Math.max(Math.min(e[1],n),i)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,i){let n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,i)}handleSliderUpdateEvent(e,i){let n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let n=e.map(this._validate_slide_value);this.model.set("value",n,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,i,n){if(n.updated_view===this)return;let r=this.$slider.noUiSlider.get(),s=this.model.get("value");(r[0]!==s[0]||r[1]!==s[1])&&this.$slider.noUiSlider.set(s)}},t_=class extends Zd{update(e){super.update(e);let i=this.model.get("min"),n=this.model.get("max"),r=this.model.get("value");r>n?r=n:r<i&&(r=i),this.readout.textContent=this.valueToString(r),this.model.get("value")!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())}valueToString(e){let i=this.model.readout_formatter;return i(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let i=this.stringToValue((e=this.readout.textContent)!==null&&e!==void 0?e:""),n=this.model.get("min"),r=this.model.get("max");isNaN(i)?this.readout.textContent=this.valueToString(this.model.get("value")):(i=Math.max(Math.min(i,r),n),i!==this.model.get("value")?(this.readout.textContent=this.valueToString(i),this.model.set("value",i),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,i){let n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,i)}handleSliderUpdateEvent(e,i){let n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let n=this._validate_slide_value(e[i]),r=this.model.get("value");parseFloat(r)!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,i,n){if(n.updated_view===this)return;let r=this.$slider.noUiSlider.get(),s=this.model.get("value");r!==s&&this.$slider.noUiSlider.set(s)}},lI=class extends Qg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}},cI=class extends Jd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}},i_=class extends ui{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=ni(),this.el.appendChild(this.textbox),this.update()}update(e){if(e===void 0||e.updated_view!==this){let i=this.model.get("value");this._parse_value(this.textbox.value)!==i&&(this.textbox.value=i.toString()),this.model.get("min")!==void 0&&(this.textbox.min=this.model.get("min")),this.model.get("max")!==void 0&&(this.textbox.max=this.model.get("max")),this.model.get("step")!==void 0&&this.model.get("step")!==null?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;let i=e.target,n=i.value;if(n=n.replace(/[e,.\s]/g,""),n.length>=1){let r=n.substr(1);n=n[0]+r.replace(/[+-]/g,"")}i.value!==n&&(e.preventDefault(),i.value=n)}handleChanging(e){let n=e.target.value.trim();n===""||["-","-.",".","+.","+"].indexOf(n)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target,n=this._parse_value(i.value);if(isNaN(n))i.value=this.model.get("value");else{let r=n;this.model.get("max")!==void 0&&(r=Math.min(this.model.get("max"),r)),this.model.get("min")!==void 0&&(r=Math.max(this.model.get("min"),r)),r!==n&&(i.value=r,n=r),n!==this.model.get("value")&&(this.model.set("value",n,{updated_view:this}),this.touch())}}},Qx=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}};Qx.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});dI=class extends Jd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}},Qd=class extends ui{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();let i=this.model.get("orientation")==="horizontal"?"widget-hprogress":"widget-vprogress";this.el.classList.add(i),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){let e=this.model.get("value"),i=this.model.get("max"),n=this.model.get("min"),r=this.model.get("orientation"),s=100*(e-n)/(i-n);return r==="horizontal"?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=s+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=s+"%"),super.update()}update_bar_style(){this.update_mapped_classes(Qd.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(Qd.class_map,"bar_style",this.bar)}};Qd.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};uI=class extends Jd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,i){super.initialize(e,i)}loop(){if(!this.get("playing"))return;let e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){this._timerId===void 0&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}},hI=class extends Nt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);let e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);let i=document.createElement("i");i.className="fa fa-stop",this.stopButton.appendChild(i);let n=document.createElement("i");n.className="fa fa-retweet",this.repeatButton.appendChild(n),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){let e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();let e=this.model.previous("playing"),i=this.model.get("playing");!e&&i?this.model.animate():this.model.pause()}updatePlaying(){let e=this.model.get("playing"),i=this.playPauseButton.getElementsByTagName("i")[0];e?i.className="fa fa-pause":i.className="fa fa-play"}updateRepeat(){let e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}});var EH,n_,eu,ey,mI,pI,gI,_I,vI,bI,xI,yI,wI,MH=$(()=>{vn();fI();o1();EH=P(Xx()),n_=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}},eu=class extends n_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}},ey=class extends eu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=jl(this.get("readout_format"))}},mI=class extends eu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=jl(this.get("readout_format"))}},pI=class extends ey{},gI=class extends t_{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}},_I=class extends Zd{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);let i=this.model.get("value");this.readout.textContent=this.valueToString(i)}logCalc(e){let i=this.model.get("min"),n=this.model.get("max"),r=this.model.get("base"),s=Math.log(e)/Math.log(r);return s>n?s=n:s<i&&(s=i),s}createSlider(){var e;let i=this.model.get("orientation"),n=this.model.get("behavior");EH.default.create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:n,range:{min:this.model.get("min"),max:this.model.get("max")},step:(e=this.model.get("step"))!==null&&e!==void 0?e:void 0,animate:!1,orientation:i,direction:i==="horizontal"?"ltr":"rtl",format:{from:r=>Number(r),to:r=>r}}),this.$slider.noUiSlider.on("update",(r,s)=>{this.handleSliderUpdateEvent(r,s)}),this.$slider.noUiSlider.on("change",(r,s)=>{this.handleSliderChangeEvent(r,s)})}valueToString(e){let i=this.model.readout_formatter;return i(e)}stringToValue(e){return e===null?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent),i=this.model.get("min"),n=this.model.get("max"),r=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(r,n)),Math.pow(r,i)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,i){let n=this.model.get("base"),r=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChangeEvent(e,i){let n=this.model.get("base"),r=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(r),this.handleSliderChanged(e,i)}handleSliderChanged(e,i){if(this._updating_slider)return;let n=this.model.get("base"),r=Math.pow(n,this._validate_slide_value(e[0]));this.model.set("value",r,{updated_view:this}),this.touch()}updateSliderValue(e,i,n){if(n.updated_view===this)return;let r=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(r)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}},vI=class extends e_{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}},bI=class extends n_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}},xI=class extends eu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}},yI=class extends i_{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}},wI=class extends eu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}});var IH,CI,SI,EI,MI,ty,II,TH=$(()=>{vn();$i();Gc();gp();Vs();IH=P(Ud()),CI=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}},SI=class extends Nt{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}},EI=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}},MI=class extends Nt{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}},ty=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,i){super.initialize(e,i),navigator.getGamepads===void 0?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){let e=this.get("index"),i=navigator.getGamepads()[e];i?this.setup(i).then(n=>{this.set(n),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))}):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),oa({buttons:Promise.all(e.buttons.map((i,n)=>this._create_button_model(n))),axes:Promise.all(e.axes.map((i,n)=>this._create_axis_model(n)))})}update_loop(){let e=this.get("index"),i=this.get("name"),n=navigator.getGamepads()[e];n&&e===n.index&&i===n.id?(this.set({timestamp:n.timestamp,connected:n.connected}),this.save_changes(),this.get("buttons").forEach(function(r,s){r.set({value:n.buttons[s].value,pressed:n.buttons[s].pressed}),r.save_changes()}),this.get("axes").forEach(function(r,s){r.set("value",n.axes[s]),r.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach(function(e){e.close()}),this.get("axes").forEach(function(e){e.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(i){return i.set("description",e),i})}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(i){return i.set("description",e),i})}};ty.serializers=Object.assign(Object.assign({},hi.serializers),{buttons:{deserialize:cs},axes:{deserialize:cs}});II=class extends Nt{_createElement(e){return this.luminoWidget=new la({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,IH.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new yo(this.add_button,null,this),this.listenTo(this.model,"change:buttons",(i,n)=>{this.button_views.update(n)}),this.axis_views=new yo(this.add_axis,null,this),this.listenTo(this.model,"change:axes",(i,n)=>{this.axis_views.update(n)}),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new Ms,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new Ms,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){let i=new un;return this.button_box.addWidget(i),this.create_child_view(e).then(n=>{let r=Es.firstIndexOf(this.button_box.widgets,i);return this.button_box.insertWidget(r,n.luminoWidget),i.dispose(),n}).catch(er("Could not add child button view to controller",!0))}add_axis(e){let i=new un;return this.axis_box.addWidget(i),this.create_child_view(e).then(n=>{let r=Es.firstIndexOf(this.axis_box.widgets,i);return this.axis_box.insertWidget(r,n.luminoWidget),i.dispose(),n}).catch(er("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}});var RH,xl,r_,TI,RI,AI,iy,kI,LI,ny,NI,bl,OI,ry,s_,DI,zI,PI,BI,AH=$(()=>{vn();wo();Vs();RH=P(Xx());Vs();xl=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}},r_=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;let e=this.model.get("tabbable");e===!0?this.listbox.setAttribute("tabIndex","0"):e===!1?this.listbox.setAttribute("tabIndex","-1"):e===null&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}},TI=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}},RI=class extends r_{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=ni(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){e?.updated_view!==this&&this.model.hasChanged("_options_labels")&&this._updateOptions();let i=this.model.get("index");return this.listbox.selectedIndex=i===null?-1:i,super.update()}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let i=0;i<e.length;i++){let n=e[i],r=document.createElement("option");r.textContent=n.replace(/ /g,"\xA0"),r.setAttribute("data-value",encodeURIComponent(n)),r.value=n,this.listbox.appendChild(r)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex===-1?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.listbox.focus():e.do==="blur"&&this.listbox.blur()}},AI=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}},iy=class extends r_{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=ni(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if(e?.updated_view!==this){let n=this.model.hasChanged("_options_labels"),r=this.model.hasChanged("index");if(n||r){let s=this.model.get("index");n&&this._updateOptions(),this.updateSelection(s)}}super.update();let i=this.model.get("rows");i===null&&(i=""),this.listbox.setAttribute("size",i)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=e===null?-1:e}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let i=0;i<e.length;i++){let n=e[i],r=document.createElement("option");r.textContent=n.replace(/ /g,"\xA0"),r.setAttribute("data-value",encodeURIComponent(n)),r.value=n,this.listbox.appendChild(r)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do=="focus"?this.listbox.focus():e.do=="blur"&&this.listbox.blur()}},kI=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:"",orientation:"vertical"})}},LI=class extends ui{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){this.model.get("orientation")==="vertical"?(this.container.classList.remove("widget-radio-box-horizontal"),this.container.classList.add("widget-radio-box-vertical")):(this.container.classList.remove("widget-radio-box-vertical"),this.container.classList.add("widget-radio-box-horizontal"));let i=this.model.get("_options_labels"),n=Array.from(this.container.querySelectorAll('input[type="radio"]')).map(s=>s.value),r=i.length!==n.length;if(!r){for(let s=0,o=i.length;s<o;++s)if(n[s]!==i[s]){r=!0;break}}return r&&(e===void 0||e.updated_view!==this)&&(this.container.textContent="",i.forEach((s,o)=>{let a=document.createElement("label");a.textContent=s,this.container.appendChild(a);let l=document.createElement("input");l.setAttribute("type","radio"),l.value=o.toString(),l.setAttribute("data-value",encodeURIComponent(s)),a.appendChild(l)})),i.forEach((s,o)=>{let a='input[data-value="'+encodeURIComponent(s)+'"]',l=this.container.querySelectorAll(a);if(l.length>0){let c=l[0];c.checked=this.model.get("index")===o,c.disabled=this.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){let i=window.getComputedStyle(e.el),n=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),r=e.label.offsetHeight+n,s=window.getComputedStyle(e.container),o=parseInt(s.marginBottom,10),a=(e.el.offsetHeight+n-o)%r,l=a===0?0:r-a;e.container.style.marginBottom=l+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){let i=e.target;this.model.set("index",parseInt(i.value,10),{updated_view:this}),this.touch()}handle_message(e){if(e.do=="focus")this.container.firstElementChild.focus();else if(e.do=="blur")for(let i=0;i<this.container.children.length;i++)this.container.children[i].blur()}},ny=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}};ny.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});NI=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}},bl=class extends ui{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){let i=this.model.get("_options_labels"),n=this.model.get("icons")||[],r=this.model.previous("icons")||[],s=bl.classMap[this.model.previous("button_style")]||"",o=this.model.get("tooltips")||[],a=this.model.get("disabled"),l=this.buttongroup.querySelectorAll("button"),c=Array.from(l).map(u=>u.value),d=!1;for(let u=0,f=i.length;u<f;++u)if(c[u]!==i[u]||n[u]!==r[u]){d=!0;break}return d&&(e===void 0||e.updated_view!==this)&&(this.buttongroup.textContent="",i.forEach((u,f)=>{let h;u.trim().length===0&&(!n[f]||n[f].trim().length===0)?h="&nbsp;":h=DM(u);let p=document.createElement("i"),_=document.createElement("button");n[f]&&(p.className="fa fa-"+n[f]),_.setAttribute("type","button"),_.className="widget-toggle-button jupyter-button",s&&_.classList.add(s),_.innerHTML=h,_.setAttribute("data-value",encodeURIComponent(u)),_.setAttribute("value",f.toString()),_.appendChild(p),_.disabled=a,o[f]&&_.setAttribute("title",o[f]),this.update_style_traits(_),this.buttongroup.appendChild(_)})),i.forEach((u,f)=>{let h='[data-value="'+encodeURIComponent(u)+'"]',m=this.buttongroup.querySelector(h);this.model.get("index")===f?m.classList.add("mod-active"):m.classList.remove("mod-active")}),this.stylePromise.then(function(u){u&&u.style()}),super.update(e)}update_style_traits(e){for(let i in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name")){if(i==="margin")this.buttongroup.style[i]=this._css_state[i];else if(i!=="width")if(e)e.style[i]=this._css_state[i];else{let n=this.buttongroup.querySelectorAll("button");n.length&&(n[0].style[i]=this._css_state[i])}}}update_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let i=0;i<e.length;i++)this.update_mapped_classes(bl.classMap,"button_style",e[i])}set_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let i=0;i<e.length;i++)this.set_mapped_classes(bl.classMap,"button_style",e[i])}events(){return{"click button":"_handle_click"}}_handle_click(e){let i=e.target;this.model.set("index",parseInt(i.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}};(function(t){t.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}})(bl||(bl={}));OI=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},ry=class extends ui{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if(e?.updated_view!==this){this.updateSliderOptions(this.model);let i=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),i==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?this.readout.style.display="":this.readout.style.display="none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){let e=this.model.get("_options_labels"),i=0,n=e.length-1,r=this.model.get("orientation"),s=this.model.get("behavior");RH.default.create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:s,range:{min:i,max:n},step:1,animate:!1,orientation:r,direction:r==="horizontal"?"ltr":"rtl",format:{from:o=>Number(o),to:o=>Math.round(o)}}),this.$slider.noUiSlider.on("update",(o,a)=>{this.handleSliderUpdateEvent(o,a)}),this.$slider.noUiSlider.on("change",(o,a)=>{this.handleSliderChangeEvent(o,a)})}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){let e=this.model.get("index");this.updateReadout(e)}updateReadout(e){let i=this.model.get("_options_labels")[e];this.readout.textContent=i}handleSliderUpdateEvent(e,i){let n=e[0];this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChangeEvent(e,i){let n=e[0];this.updateReadout(n),this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let n=e[0];this.updateReadout(n),this.model.set("index",n,{updated_view:this}),this.touch()}updateSliderOptions(e){let i=this.model.get("_options_labels"),n=0,r=i.length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:n,max:r},step:1})}updateSliderValue(e,i,n){if(n.updated_view===this)return;let r=this.$slider.noUiSlider.get(),s=this.model.get("index");r!==s&&this.$slider.noUiSlider.set(s)}},s_=class extends xl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}},DI=class extends s_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}},zI=class extends iy{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){let e=this.model.get("index")||[],i=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach(n=>{i[n].selected=!0})}_handle_change(){let e=Array.prototype.map.call(this.listbox.selectedOptions||[],function(i){return i.index});this.model.set("index",e,{updated_view:this}),this.touch()}},PI=class extends s_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},BI=class extends ry{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){let i=this.model.get("_options_labels"),n=i[e[0]],r=i[e[1]];this.readout.textContent=`${n}-${r}`}handleSliderUpdateEvent(e,i){let n=e.map(Math.trunc);this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let n=e.map(Math.round);this.updateReadout(n),this.model.set("index",n.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,i,n){if(n.updated_view===this)return;let r=this.$slider.noUiSlider.get().map(Math.round),s=this.model.get("index").map(Math.round);(r[0]!==s[0]||r[1]!==s[1])&&this.$slider.noUiSlider.set(s)}}});var jI,sy,kH=$(()=>{vv();Cs();h6();Gc();jI=class extends Ms{constructor(){super(...arguments),this._widgetRemoved=new Ie(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}},sy=class extends un{constructor(e={}){super(),this._currentChanged=new Ie(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new vk(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new jI,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);let i=new bv;i.addWidget(this.tabBar),i.addWidget(this.tabContents),this.layout=i}get currentChanged(){return this._currentChanged}get currentIndex(){let e=this.tabBar.currentIndex;return e===-1?null:e}set currentIndex(e){this.tabBar.currentIndex=e===null?-1:e}get currentWidget(){let e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,i){i!==this.currentWidget&&i.hide(),this.tabContents.insertWidget(e,i),this.tabBar.insertTab(e,i.title)}_onCurrentChanged(e,i){let{previousIndex:n,previousTitle:r,currentIndex:s,currentTitle:o}=i,a=r?r.owner:null,l=o?o.owner:null;a&&a.hide(),l&&l.show(),this._currentChanged.emit({previousIndex:n,previousWidget:a,currentIndex:s,currentWidget:l}),(s1.IS_EDGE||s1.IS_IE)&&jo.flush()}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabMoved(e,i){this.tabContents.insertWidget(i.toIndex,i.title.owner)}_onWidgetRemoved(e,i){this.tabBar.removeTab(i.title)}}});var oy,LH=$(()=>{gp();Cs();oy=class{constructor(e,i={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new Ie(this),this._array=e,this._insertBehavior=i.insertBehavior||"select-item-if-needed",this._removeBehavior=i.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){let i=this.index,n=this.value;if(e!==i)return;this._updateSelectedValue();let r=this.value;this._previousValue=null,n!==r&&this._selectionChanged.emit({previousIndex:i,previousValue:n,currentIndex:i,currentValue:r})}get value(){return this._value}set value(e){e===null||this._array===null?this.index=null:this.index=Es.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let i;if(e!==null&&this._array!==null?(i=Math.floor(e),(i<0||i>=this._array.length)&&(i=null)):i=null,this._index===i)return;let n=this._index,r=this._value;this._index=i,this._updateSelectedValue(),this._previousValue=r,this._selectionChanged.emit({previousIndex:n,previousValue:r,currentIndex:i,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,i){let n=this._value,r=this._index,s=this._insertBehavior;if(s==="select-item"||s==="select-item-if-needed"&&r===null){this._index=e,this._value=i,this._previousValue=n,this._selectionChanged.emit({previousIndex:r,previousValue:n,currentIndex:e,currentValue:i});return}r!==null&&r>=e&&this._index++}clearSelection(){let e=this._index,i=this._value;this._index=null,this._value=null,this._previousValue=null,e!==null&&this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,i){if(this._index===null)return;let n=this._index,r=this._removeBehavior;if(n!==e){n>e&&this._index--;return}if(!this._array||this._array.length===0){this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(r==="select-item-after"){this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(r==="select-item-before"){this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(r==="select-previous-item"){this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this.value});return}this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value})}_updateSelectedValue(){let e=this._index;this._value=e!==null&&this._array?this._array[e]:null}}});var oX,aX,lX,NH,HI,cX,dX,OH,ay,DH=$(()=>{gp();Cs();Gc();LH();oX="jupyter-widget-Collapse",aX="jupyter-widget-Collapse-header",lX="jupyter-widget-Collapse-contents",NH="jupyter-widget-Collapse-open",HI=class extends un{constructor(e){super(e),this._collapseChanged=new Ie(this),this.addClass(oX),this._header=new un,this._header.addClass(aX),this._header.node.addEventListener("click",this);let i=document.createElement("i");i.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(i),this._header.node.appendChild(document.createElement("span")),this._content=new Ms,this._content.addClass(lX);let n=new bv;this.layout=n,n.addWidget(this._header),n.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){let i=this._widget;i&&(i.disposed.disconnect(this._onChildDisposed,this),i.title.changed.disconnect(this._onTitleChanged,this),i.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(NH),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(NH),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:break}}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}},cX="jupyter-widget-Accordion",dX="jupyter-widget-Accordion-child",OH="jupyter-widget-Accordion-child-active",ay=class extends Ms{constructor(e){super(e),this._selection=new oy(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass(cX)}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return Es.findFirstIndex(this.collapseWidgets,i=>i.widget===e)}addWidget(e){let i=this._wrapWidget(e);return i.collapsed=!0,super.addWidget(i),this._selection.adjustSelectionForInsert(this.widgets.length-1,i),i}insertWidget(e,i){let n=this._wrapWidget(i);n.collapsed=!0,super.insertWidget(e,n),this._selection.adjustSelectionForInsert(e,n)}removeWidget(e){let i=this.indexOf(e);if(i>=0){let n=this.collapseWidgets[i];e.parent=null,n.dispose(),this._selection.adjustSelectionForRemove(i,null)}}_wrapWidget(e){let i=new HI({widget:e});return i.addClass(dX),i.collapseChanged.connect(this._onCollapseChange,this),i}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,i){let n=i.previousValue,r=i.currentValue;n&&(n.collapsed=!0,n.removeClass(OH)),r&&(r.collapsed=!1,r.addClass(OH))}}});var GI,tm,FI,ly,WI,$I,cy,qI,UI,VI,zH=$(()=>{$i();JM();kH();DH();Gc();gp();vv();GI=P(Ud()),tm=class extends _l{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}},FI=class extends tm{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}},ly=class extends ay{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}processMessage(e){var i;super.processMessage(e),(i=this._view)===null||i===void 0||i.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},WI=class extends Nt{_createElement(e){return this.luminoWidget=new ly({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,GI.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new yo(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",()=>this.updateChildren()),this.listenTo(this.model,"change:selected_index",()=>this.update_selected_index()),this.listenTo(this.model,"change:titles",()=>this.update_titles())}render(){var e;super.render();let i=this.luminoWidget;i.addClass("jupyter-widgets"),i.addClass("widget-accordion"),i.addClass("widget-container"),i.selection.selectionChanged.connect(n=>{this.updatingChildren||(this.model.set("selected_index",i.selection.index),this.touch())}),(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){let e=this.luminoWidget.collapseWidgets,i=this.model.get("titles");for(let n=0;n<e.length;n++)i[n]!==void 0&&(e[n].widget.title.label=i[n])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,i){let n=this.luminoWidget,r=new un;return r.title.label=this.model.get("titles")[i]||"",n.addWidget(r),this.create_child_view(e).then(s=>{let o=s.luminoWidget;o.title.label=r.title.label;let a=n.collapseWidgets[n.indexOf(r)];return a.widget=o,r.dispose(),s}).catch(er("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}},$I=class extends tm{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}},cy=class extends sy{constructor(e){let i=e.view;delete e.view,super(e),this._view=i,jo.installMessageHook(this.tabContents,(n,r)=>(this._view.processLuminoMessage(r),!0))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},qI=class extends Nt{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new cy({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,GI.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new yo(this.addChildView,i=>{i.remove()},this),this.listenTo(this.model,"change:children",()=>this.updateTabs()),this.listenTo(this.model,"change:titles",()=>this.updateTitles())}render(){super.render();let e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,(e=this.childrenViews)===null||e===void 0||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,i){let n=this.model.get("titles")[i]||"",r=this.luminoWidget,s=new un;return s.title.label=n,r.addWidget(s),this.create_child_view(e).then(o=>{let a=o.luminoWidget;a.title.label=s.title.label,a.title.closable=!1;let l=Es.firstIndexOf(r.widgets,s);return r.insertWidget(l+1,a),s.dispose(),o}).catch(er("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){let e=this.model.get("titles")||[];_k(this.luminoWidget.widgets,(i,n)=>{i.title.label=e[n]||""})}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,i){if(!this.updatingTabs){let n=i.currentIndex;this.model.set("selected_index",n===-1?null:n),this.touch()}}_onTabMoved(e,i){let n=this.model.get("children").slice();Es.move(n,i.fromIndex,i.toIndex),this.model.set("children",n),this.touch()}},UI=class extends tm{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}},VI=class extends Gs{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let i;this.model.get("selected_index")===null?i=[]:i=[this.model.get("children")[this.model.get("selected_index")]],(e=this.children_views)===null||e===void 0||e.update(i).then(n=>{n.forEach(r=>{jo.postMessage(r.luminoWidget,un.ResizeMessage.UnknownSize)})})}}});function uX(t){return t.replace(/^\s+|\s+$/g,"")}function hX(t,e,i){return Math.min(Math.max(t,e),i)}function PH(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var YI,dy,uy,hy,tu,KI,XI,fy,my,JI,ZI,QI,eT,BH=$(()=>{f6();o1();vn();$i();YI=class{constructor(e,i,n){this.start=e,this.dx=i,this.max=n}isSelected(e){let i,n;return this.dx>=0?(i=this.start,n=this.start+this.dx):(i=this.start+this.dx,n=this.start),i<=e&&e<n}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}},dy=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"\u200B",allowed_tags:null,allow_duplicates:!0})}},uy=class extends Nt{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=ni(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{let i=this.hoveredTagIndex==null?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,i)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,PH(this.el),this.tags=[];let e=this.model.get("value");this.inputIndex=e.length;for(let i in e){let n=parseInt(i),r=this.createTag(e[n],n,this.selection!=null&&this.selection.isSelected(n));r.draggable=!0,r.ondragstart=((s,o)=>a=>{this.ondragstart(a,s,o,this.model.model_id)})(n,e[n]),r.ondrop=(s=>o=>{this.ondrop(o,s)})(n),r.ondragover=this.ondragover.bind(this),r.ondragenter=(s=>o=>{this.ondragenter(o,s)})(n),r.ondragend=this.ondragend.bind(this),this.tags.push(r),this.el.appendChild(r)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){PH(this.autocompleteList);let e=this.model.get("allowed_tags");for(let i of e){let n=document.createElement("option");n.value=i,this.autocompleteList.appendChild(n)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){let e=this.model.get("value");for(let i in this.tags){let n=parseInt(i);this.updateTag(this.tags[n],e[n],n,this.selection!=null&&this.selection.isSelected(n))}}handleValueAdded(e){let i=uX(this.taginput.value),n=this.inputIndex;if(i=="")return;this.inputIndex++,this.addTag(n,i)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,i){let n=this.model.get("value"),r;try{r=this.validateValue(i)}catch{return!1}let s=this.model.get("allowed_tags");if(s.length&&!s.includes(r)||!this.model.get("allow_duplicates")&&n.includes(r))return!1;this.selection=null;let o=[...n];return o.splice(e,0,r),this.model.set("value",o),this.model.save_changes(),!0}resizeInput(){let e;this.taginput.value.length!=0?e=this.taginput.value:e=this.model.get("placeholder");let i=e.length+1;this.taginput.setAttribute("size",String(i))}handleKeyEvent(e){let i=this.model.get("value").length;if(this.taginput.value.length)return;let n=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(n,-n),!e.ctrlKey&&e.shiftKey&&this.select(n,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(n,i-n),!e.ctrlKey&&e.shiftKey&&this.select(n,1),e.ctrlKey?this.inputIndex=i:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=hX(this.inputIndex,0,i),this.update(),this.focus()}ondragstart(e,i,n,r){e.dataTransfer!=null&&(e.dataTransfer.setData("index",String(i)),e.dataTransfer.setData("tagValue",String(n)),e.dataTransfer.setData("origin",r))}ondrop(e,i){if(e.dataTransfer==null)return;e.preventDefault(),e.stopPropagation();let n=e.dataTransfer.getData("tagValue"),r=parseInt(e.dataTransfer.getData("index")),s=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(r)){if(s){let a=[...this.model.get("value")];r<i&&i--,a.splice(r,1),a.splice(i,0,n),this.model.set("value",a),this.model.save_changes();return}this.addTag(i,n)}}ondragover(e){e.preventDefault()}ondragenter(e,i){this.hoveredTag!=null&&this.hoveredTag!=this.tags[i]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[i],this.hoveredTagIndex=i,this.hoveredTag.style.marginLeft="30px"}ondragend(){this.hoveredTag!=null&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,i){let n=this.model.get("value").length;this.selection?this.selection.updateSelection(i):this.selection=new YI(e,i,n)}removeSelectedTags(){let e=[...this.model.get("value")],i=e.length;for(let n=i-1;n>=0;n--)this.selection!=null&&this.selection.isSelected(n)&&(e.splice(n,1),n<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){let i=[...this.model.get("value")];i.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",i),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}},hy=class extends dy{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}},tu=class extends uy{createTag(e,i,n){let r=document.createElement("div"),s=this.model.get("tag_style");r.classList.add("jupyter-widget-tag"),r.classList.add(tu.class_map[s]),n&&r.classList.add("mod-active"),r.appendChild(document.createTextNode(this.getTagText(e)));let o=document.createElement("i");return o.classList.add("fa"),o.classList.add("fa-times"),o.classList.add("jupyter-widget-tag-close"),r.appendChild(o),o.onmousedown=(a=>()=>{this.removeTag(a),this.loseFocus()})(i),r}getTagText(e){return e}updateTag(e,i,n,r){r?e.classList.add("mod-active"):e.classList.remove("mod-active")}};tu.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};KI=class extends dy{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}},XI=class extends uy{createTag(e,i,n){let r=document.createElement("div"),s=e,o=xv(e).darker().toString();r.classList.add("jupyter-widget-tag"),r.classList.add("jupyter-widget-colortag"),n?(r.classList.add("mod-active"),r.style.backgroundColor=o):r.style.backgroundColor=s;let a=document.createElement("i");return a.classList.add("fa"),a.classList.add("fa-times"),a.classList.add("jupyter-widget-tag-close"),r.appendChild(a),a.onmousedown=(l=>()=>{this.removeTag(l),this.loseFocus()})(i),r}updateTag(e,i,n,r){let s=i,o=xv(i).darker().toString();r?(e.classList.add("mod-active"),e.style.backgroundColor=o):(e.classList.remove("mod-active"),e.style.backgroundColor=s)}validateValue(e){if(xv(e)==null)throw e+" is not a valid Color";return e}},fy=class extends hy{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}},my=class extends tu{render(){this.model.on("change:format",()=>{this.formatter=jl(this.model.get("format")),this.update()}),this.formatter=jl(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){let i=this.parseNumber(e),n=this.model.get("min"),r=this.model.get("max");if(isNaN(i)||n!=null&&i<n||r!=null&&i>r)throw e+" is not a valid number, it should be in the range ["+n+", "+r+"]";return i}},JI=class extends fy{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}},ZI=class extends my{parseNumber(e){return parseFloat(e)}},QI=class extends fy{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}},eT=class extends my{parseNumber(e){let i=parseInt(e);if(i!=parseFloat(e))throw e+" should be an integer";return i}}});var fX,yl,py,gy,_y,vy,wc,Cc,tT,iT,nT,rT,sT,oT,aT,lT,o_,a_,cT,dT,uT,hT,jH=$(()=>{vn();wo();Vs();Qf();fX="jpwidgets-invalidComboValue",yl=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};yl.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});py=class extends yl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};py.styleProperties=Object.assign({},yl.styleProperties);gy=class extends yl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};gy.styleProperties=Object.assign({},yl.styleProperties);_y=class extends yl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};_y.styleProperties=Object.assign(Object.assign({},yl.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});vy=class extends Ui{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:qi})}};vy.styleProperties=Object.assign(Object.assign({},Ui.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});wc=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"\u200B",_model_name:"StringModel"})}},Cc=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}},tT=class extends wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}},iT=class extends Cc{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},nT=class extends wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}},rT=class extends Cc{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},sT=class extends wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}},oT=class extends Cc{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}},aT=class extends wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}},lT=class extends Cc{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=ni(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,i,n)=>{this.update_placeholder(i)}),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){let i=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",i.toString())}update(e){if(e===void 0||e.updated_view!==this){this.textbox.value=this.model.get("value");let i=this.model.get("rows");i===null&&(i=""),this.textbox.setAttribute("rows",i),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target;this.model.set("value",i.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},o_=class extends wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}},a_=class extends Cc{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=ni(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,i,n)=>{this.update_placeholder(i)}),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return(e===void 0||e.updated_view!==this)&&(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),e.keyCode===13&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target;this.model.set("value",i.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},cT=class extends o_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}},dT=class extends a_{constructor(){super(...arguments),this.inputType="password"}},uT=class extends o_{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}},hT=class extends a_{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=ni(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;let i=this.isValid(this.model.get("value"));if(this.highlightValidState(i),e!==void 0&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;let n=this.model.get("options"),r=document.createDocumentFragment();for(let s of n){let o=document.createElement("option");o.value=s,r.appendChild(o)}this.datalist.replaceChildren(...r.children)}isValid(e){return!(this.model.get("ensure_option")===!0&&this.model.get("options").indexOf(e)===-1)}handleChanging(e){let i=e.target,n=this.isValid(i.value);this.highlightValidState(n),n&&super.handleChanging(e)}handleChanged(e){let i=e.target,n=this.isValid(i.value);this.highlightValidState(n),n&&super.handleChanged(e)}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle(fX,!e)}}});var by,iu,HH=$(()=>{vn();$i();by=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}};by.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:t=>t}});iu=class extends Nt{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",()=>{this.fileInput.click()}),this.fileInput.addEventListener("click",()=>{this.fileInput.value=""}),this.fileInput.addEventListener("change",()=>{var e;let i=[];Array.from((e=this.fileInput.files)!==null&&e!==void 0?e:[]).forEach(n=>{i.push(new Promise((r,s)=>{let o=new FileReader;o.onload=()=>{let a=o.result;r({content:a,name:n.name,type:n.type,size:n.size,last_modified:n.lastModified})},o.onerror=()=>{s()},o.onabort=o.onerror,o.readAsArrayBuffer(n)}))}),Promise.all(i).then(n=>{this.model.set({value:n,error:""}),this.touch()}).catch(n=>{console.error("error in file upload: %o",n),this.model.set({error:n}),this.touch()})}),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));let e=this.model.get("value"),i=`${this.model.get("description")} (${e.length})`,n=this.model.get("icon");if(i.length||n.length){if(this.el.textContent="",n.length){let r=document.createElement("i");r.classList.add("fa"),r.classList.add("fa-"+n),i.length===0&&r.classList.add("center"),this.el.appendChild(r)}this.el.appendChild(document.createTextNode(i))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(iu.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(iu.class_map,"button_style",this.el)}};iu.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});var FH=Ve((aMe,mX)=>{mX.exports={name:"@jupyter-widgets/controls",version:"5.0.11",description:"Jupyter interactive widgets",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},license:"BSD-3-Clause",author:"Project Jupyter",main:"lib/index.js",typings:"lib/index.d.ts",files:["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],scripts:{build:"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js",clean:"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},dependencies:{"@jupyter-widgets/base":"^6.0.10","@lumino/algorithm":"^1.9.1 || ^2.1","@lumino/domutils":"^1.8.1 || ^2.1","@lumino/messaging":"^1.10.1 || ^2.1","@lumino/signaling":"^1.10.1 || ^2.1","@lumino/widgets":"^1.30.0 || ^2.1","d3-color":"^3.0.1","d3-format":"^3.0.1",jquery:"^3.1.1",nouislider:"15.4.0"},devDependencies:{"@jupyterlab/services":"^6.0.0 || ^7.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/jquery":"^3.5.16","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2",chai:"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1",karma:"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0",less:"^4.1.2",mocha:"^9.0.0","npm-run-all":"^4.1.5",postcss:"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0",rimraf:"^3.0.2",sinon:"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1",typescript:"~4.9.4",webpack:"^5.65.0"},gitHead:"35229eff5d87e4abf639d6b3c34ccc24845a44d4"}});var xy={};Uu(xy,{AccordionModel:()=>FI,AccordionView:()=>WI,AudioModel:()=>Wx,AudioView:()=>eI,BaseIntSliderView:()=>Zd,BoolModel:()=>Jg,BoundedFloatModel:()=>eu,BoundedFloatTextModel:()=>xI,BoundedIntModel:()=>Jd,BoundedIntTextModel:()=>cI,BoxModel:()=>_l,BoxView:()=>Gs,ButtonModel:()=>qM,ButtonStyleModel:()=>jx,ButtonView:()=>Xd,CheckboxModel:()=>jM,CheckboxStyleModel:()=>Px,CheckboxView:()=>HM,ColorPickerModel:()=>tI,ColorPickerView:()=>iI,ColorsInputModel:()=>KI,ColorsInputView:()=>XI,ComboboxModel:()=>uT,ComboboxView:()=>hT,ControllerAxisModel:()=>EI,ControllerAxisView:()=>MI,ControllerButtonModel:()=>CI,ControllerButtonView:()=>SI,ControllerModel:()=>ty,ControllerView:()=>II,DatePickerModel:()=>$x,DatePickerView:()=>nI,DatetimeModel:()=>Zg,DatetimeView:()=>oI,DescriptionModel:()=>em,DescriptionStyleModel:()=>Ui,DescriptionView:()=>ui,DirectionalLinkModel:()=>Xg,DropdownModel:()=>TI,DropdownView:()=>RI,FileUploadModel:()=>by,FileUploadView:()=>iu,FloatLogSliderModel:()=>mI,FloatLogSliderView:()=>_I,FloatModel:()=>n_,FloatProgressModel:()=>wI,FloatRangeSliderModel:()=>pI,FloatRangeSliderView:()=>vI,FloatSliderModel:()=>ey,FloatSliderView:()=>gI,FloatTextModel:()=>bI,FloatTextView:()=>yI,FloatsInputModel:()=>JI,FloatsInputView:()=>ZI,GridBoxModel:()=>XM,GridBoxView:()=>KM,HBoxModel:()=>UM,HBoxView:()=>GM,HTMLMathModel:()=>nT,HTMLMathStyleModel:()=>gy,HTMLMathView:()=>rT,HTMLModel:()=>tT,HTMLStyleModel:()=>py,HTMLView:()=>iT,ImageModel:()=>Hx,ImageView:()=>ZM,IntModel:()=>Qg,IntProgressModel:()=>dI,IntRangeSliderModel:()=>aI,IntRangeSliderView:()=>e_,IntSliderModel:()=>Zx,IntSliderView:()=>t_,IntTextModel:()=>lI,IntTextView:()=>i_,IntsInputModel:()=>QI,IntsInputView:()=>eT,JUPYTER_CONTROLS_VERSION:()=>qi,JupyterLuminoAccordionWidget:()=>ly,JupyterLuminoTabPanelWidget:()=>cy,LabelModel:()=>sT,LabelStyleModel:()=>_y,LabelView:()=>oT,LabeledDOMWidgetModel:()=>zM,LabeledDOMWidgetView:()=>PM,LinkModel:()=>BM,MultipleSelectionModel:()=>s_,NaiveDatetimeModel:()=>Yx,PasswordModel:()=>cT,PasswordView:()=>dT,PlayModel:()=>uI,PlayView:()=>hI,ProgressStyleModel:()=>Qx,ProgressView:()=>Qd,RadioButtonsModel:()=>kI,RadioButtonsView:()=>LI,SelectModel:()=>AI,SelectMultipleModel:()=>DI,SelectMultipleView:()=>zI,SelectView:()=>iy,SelectionContainerModel:()=>tm,SelectionModel:()=>xl,SelectionRangeSliderModel:()=>PI,SelectionRangeSliderView:()=>BI,SelectionSliderModel:()=>OI,SelectionSliderView:()=>ry,SelectionView:()=>r_,SliderStyleModel:()=>Jx,StackModel:()=>UI,StackView:()=>VI,StringModel:()=>wc,StringView:()=>Cc,TabModel:()=>$I,TabView:()=>qI,TagsInputModel:()=>hy,TagsInputView:()=>tu,TextModel:()=>o_,TextStyleModel:()=>vy,TextView:()=>a_,TextareaModel:()=>aT,TextareaView:()=>lT,TimeModel:()=>vl,TimeView:()=>rI,ToggleButtonModel:()=>FM,ToggleButtonStyleModel:()=>Bx,ToggleButtonView:()=>Kd,ToggleButtonsModel:()=>NI,ToggleButtonsStyleModel:()=>ny,ToggleButtonsView:()=>bl,VBoxModel:()=>VM,VBoxView:()=>YM,ValidModel:()=>WM,ValidView:()=>$M,VideoModel:()=>Fx,VideoView:()=>QM,datetime_serializers:()=>Vx,deserialize_date:()=>pH,deserialize_datetime:()=>bH,deserialize_naive:()=>yH,deserialize_time:()=>_H,escape_html:()=>DM,naive_serializers:()=>Gx,reject:()=>iX,resolvePromisesDict:()=>oa,serialize_date:()=>mH,serialize_datetime:()=>vH,serialize_naive:()=>xH,serialize_time:()=>Ux,time_serializers:()=>qx,typeset:()=>OM,uuid:()=>ni,version:()=>pX});var pX,WH=$(()=>{Vs();Qf();sH();oH();aH();JM();cH();dH();uH();fH();gH();wH();sI();fI();MH();TH();AH();zH();BH();jH();wo();HH();pX=FH().version});var $H=$(()=>{});var gX,_X,qH,UH=$(()=>{$H();gX=t=>crypto.getRandomValues(new Uint8Array(t)),_X=(t,e,i)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*n*e/t.length);return(s=e)=>{let o="";for(;;){let a=i(r),l=r;for(;l--;)if(o+=t[a[l]&n]||"",o.length===s)return o}}},qH=(t,e=21)=>_X(t,e,gX)});function $r(){return vX()}function im(t){return Array.isArray(t)?t.join(`
`):t}function VH({output_type:t}){return t==="display_data"||t==="execute_result"}function GH(t){return`
<div class="thebe-ipywidgets-placeholder">
  <div class="thebe-ipywidgets-placeholder-image"></div>
  <div class="thebe-ipywidgets-placeholder-message"><code>ipywidgets</code> - a Jupyter kernel connection is required to fully display this output.</div>
  ${t&&`<pre>${t}</pre>`}
</div>
`}function bX(t,e=!0,i=GH){return t.map(n=>{if(!VH(n))return n;let r=n.data,s=l_,o=r[s],a=Gu(r,[typeof s=="symbol"?s:s+""]);if(!o)return n;let l=n.data;return e&&(l=Object.assign({},a)),i&&!("text/html"in l)&&(l["text/html"]=i(im(l["text/plain"]))),Object.assign(Object.assign({},n),{data:l})})}var vX,Sc=$(()=>{Pi();UH();yy();vX=qH("1234567890abcdef",8)});function wX(t){return ft(this,void 0,void 0,function*(){if(typeof document>"u")throw new Error("Cannot load requirejs outside of the browser");let e=yield fetch(yX);if(!e.ok)throw new Error(`Could not fetch requirejs ${e.status} ${e.statusText}`);let i=yield e.text();return new Promise((n,r)=>{let s=document.createElement("iframe");s.style.display="none",s.onload=()=>{let o=s.contentWindow;if(!o)return r("Cannot load in isolated: no contentWindow, origin error?");o.window.eval(i);let a={require:o.window.require,define:o.window.define};if(!a.require||!a.define)return r("Require.js loading did not result in `require` and `define` objects attachment to window");a.require.config({baseUrl:t}),n(a),s.onload=null},document.body.appendChild(s)})})}var xX,yX,wy,YH=$(()=>{Pi();xX="https://cdn.jsdelivr.net/npm/",yX="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";wy=class{constructor(e){this.baseUrl=e??xX,this.requested=!1,this.resolveFn=()=>({}),this.ready=new Promise(i=>this.resolveFn=i)}load(e){return ft(this,void 0,void 0,function*(){return this.requested||(this.requested=!0,this.requirejs=yield wX(this.baseUrl),yield e?.(this.requirejs.require,this.requirejs.define),this.resolveFn(this.requirejs)),this.ready})}}});function JH(t,e){return new Promise((i,n)=>t.require([`${e}`],i,n))}function CX(t,e){let i=t,n="index",r=t.indexOf("/");return r!==-1&&t[0]==="@"&&(r=t.indexOf("/",r+1)),r!==-1&&(n=t.substr(r+1),i=t.substr(0,r)),`${XH}${i}@${e}/dist/${n}`}function KH(t,e,i){return ft(this,void 0,void 0,function*(){let n=CX(e,i),r={paths:{}};r.paths[e]=n,t.require.config(r);try{return yield JH(t,e)}catch(s){throw console.error("thebe:loader requirejs error on cdn require",s),s}})}function ZH(t,e,i,n=!1){return ft(this,void 0,void 0,function*(){return console.debug(`thebe:loader loading ${e}@${i}`),n?KH(t,e,i):t.require.defined(e)?JH(t,e):(console.debug(`thebe:loader falling back to ${XH} for ${e}@${i}`),KH(t,e,i))})}var XH,QH=$(()=>{Pi();XH="https://cdn.jsdelivr.net/npm/"});var l_,c_,yy=$(()=>{Pi();FC();Lb();nH();$i();WH();Sc();YH();QH();l_="application/vnd.jupyter.widget-view+json",c_=class extends Gg{constructor(e,i){super(e,i),this.id=$r(),this.addWidgetFactories(),this._registerWidgets(),this._loader=new wy}addWidgetFactories(){this.rendermime.addFactory({safe:!1,mimeTypes:[l_],createRenderer:e=>new eg(e,this)},1)}removeWidgetFactories(){this.rendermime.removeMimeType(l_)}build_widgets(){return ft(this,void 0,void 0,function*(){throw new Error("ThebeManager:build_widgets not implmented")})}display_view(e,i,n){return ft(this,void 0,void 0,function*(){return n.el&&fe.attach(i.luminoWidget,n.el),i.el&&(i.el.setAttribute("data-thebe-jupyter-widget",""),i.el.addEventListener("jupyterWidgetResize",()=>{Ae.postMessage(i.luminoWidget,fe.ResizeMessage.UnknownSize)})),i.luminoWidget})}loadClass(e,i,n){let r=Object.create(null,{loadClass:{get:()=>super.loadClass}});return ft(this,void 0,void 0,function*(){this._loader.requested||(console.debug(`thebe:manager:loadClass initial requirejs load ${this.id}`),this._loader.load((o,a)=>{a("@jupyter-widgets/base",zg),a("@jupyter-widgets/controls",xy),a("@jupyter-widgets/output",Zf)})),console.debug(`thebe:manager:loadClass ${i}@${n}`);let s=yield this._loader.ready;if(i==="@jupyter-widgets/base"||i==="@jupyter-widgets/controls"||i==="@jupyter-widgets/output")return r.loadClass.call(this,e,i,n);{let o;try{o=yield ZH(s,i,n)}catch(a){throw console.error("thebe:manager:loadClass loader error",a),a}if(o[e])return o[e];throw console.error(`thebe:manager:loadClass ${e} not found in module ${i}@${n}`),new Error(`Class ${e} not found in module ${i}@${n}`)}})}_registerWidgets(){this.register({name:"@jupyter-widgets/base",version:ml,exports:zg}),this.register({name:"@jupyter-widgets/controls",version:qi,exports:xy}),this.register({name:"@jupyter-widgets/output",version:Zf.OUTPUT_WIDGET_VERSION,exports:Zf})}}});var da,d_=$(()=>{Ua();da=class{constructor(e,i,n,r){this._id=e,this._config=i,this._subject=n,this._object=r}triggerStatus({status:e,message:i}){console.debug(`${e} ${i}`),this._config.events.trigger(Gh.status,{subject:this._subject,id:this._id,object:this._object,status:e,message:i})}triggerError({status:e,message:i}){console.debug(`Error [${this._subject}][${this._id}] ${i}`),this._config.events.trigger(Gh.error,{subject:this._subject,id:this._id,object:this._object,status:e,message:i})}}});var fT,u_,mT=$(()=>{Pi();Ua();yy();d_();fT=class{constructor(e,i,n){var r;if(this.server=e,this.connection=i,this.events=new da(this.connection.id,e.config,uo.session,this),this.connection.kernel==null)throw Error("ThebeSession - kernel is null");this.manager=new c_(this.connection.kernel,n),this.connection.statusChanged.connect((s,o)=>{let a;switch(o){case"starting":case"restarting":case"autorestarting":a=zs.starting;break;case"idle":case"busy":a=zs.ready;break;case"terminating":case"dead":default:a=zs.shutdown;break}this.events.triggerStatus({status:a,message:`kernel ${this.connection.name} status changed to ${a}[${o}]`}),o==="dead"&&(this.events.triggerError({status:jn.session,message:`kernel ${this.connection.name} is dead`}),this.dispose())}),this.connection.disposed.connect(()=>{this.events.triggerStatus({status:zs.shutdown,message:`kernel ${this.connection.name} disposed`})}),this.events.triggerStatus({status:zs.ready,message:`ThebeSession created, kernel '${(r=this.connection.kernel)===null||r===void 0?void 0:r.name}' available`})}get id(){return this.connection.id}get kernel(){var e;return(e=this.connection)===null||e===void 0?void 0:e.kernel}get path(){return this.connection.path}get name(){return this.connection.name}restart(){var e,i;return ft(this,void 0,void 0,function*(){console.debug(`requesting restart for kernel ${this.id}`);let n=(e=this.connection.kernel)===null||e===void 0?void 0:e.restart();this.events.triggerStatus({status:zs.starting,message:"Kernel restart requested"}),yield n,this.events.triggerStatus({status:zs.ready,message:`session restarted, kernel '${(i=this.connection.kernel)===null||i===void 0?void 0:i.name}' available`})})}shutdown(){return ft(this,void 0,void 0,function*(){this.connection.isDisposed||(yield this.connection.shutdown(),this.events.triggerStatus({status:zs.shutdown,message:`session ${this.name}`}),this.dispose())})}dispose(){this.connection.isDisposed||this.connection.dispose()}},u_=fT});function h_(t){return ft(this,void 0,void 0,function*(){if(!t.ok)throw Error(`${t.status} - ${t.statusText}`);return yield t.json()})}function pT(t){return typeof t=="string"?t:t.message?t.message:t.status&&t.statusText?`${t.status} - ${t.statusText}`:JSON.stringify(t)}var Wn,nm,nu,gT=$(()=>{Pi();JO();RC();Wn=P(t1());mT();Sc();Ua();d_();nm=class{constructor(e){this.id=$r(),this.config=e,this.events=new da(this.id,e,uo.server,this),this.ready=new Promise((i,n)=>{this.resolveReadyFn=i,this.rejectReadyFn=n}),this._isDisposed=!1}get isBinder(){return!!this.binderUrls}get isReady(){var e,i;return(i=(e=this.sessionManager)===null||e===void 0?void 0:e.isReady)!==null&&i!==void 0?i:!1}get isDisposed(){return this._isDisposed}get settings(){var e;return(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings}shutdownSession(e){var i;return ft(this,void 0,void 0,function*(){return(i=this.sessionManager)===null||i===void 0?void 0:i.shutdown(e)})}shutdownAllSessions(){var e;return ft(this,void 0,void 0,function*(){return(e=this.sessionManager)===null||e===void 0?void 0:e.shutdownAll()})}check(){var e,i;return ft(this,void 0,void 0,function*(){return(yield nm.status((i=(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings)!==null&&i!==void 0?i:this.config.serverSettings)).ok})}dispose(){var e,i,n,r;this._isDisposed||(!((e=this.serviceManager)===null||e===void 0)&&e.isDisposed||(i=this.serviceManager)===null||i===void 0||i.dispose(),!((n=this.sessionManager)===null||n===void 0)&&n.isDisposed||(r=this.sessionManager)===null||r===void 0||r.dispose(),this._isDisposed=!0)}startNewSession(e,i){var n,r,s;return ft(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let o=(n=i?.path)!==null&&n!==void 0?n:this.config.kernels.path,a="thebe.ipynb",l=o.match(/\/*([a-zA-Z0-9-]+.ipynb)$/);l&&(a=l[1]);let c=(r=i?.kernelName)!==null&&r!==void 0?r:this.config.kernels.kernelName;console.debug("thebe:api:startNewSession server",this),console.debug("thebe:api:startNewSession",{name:a,path:o,kernelName:c}),this.serviceManager&&(o=o.slice(1).replace(/\//g,"-"));let d=yield(s=this.sessionManager)===null||s===void 0?void 0:s.startNew({name:a,path:o,type:"notebook",kernel:{name:c}});return new u_(this,d,e)})}listRunningSessions(){var e;return ft(this,void 0,void 0,function*(){yield this.ready;let i=(e=this.sessionManager)===null||e===void 0?void 0:e.running(),n=[],r=i?.next();for(;r&&!r.done;)n.push(r.value),r=i?.next();return n})}refreshRunningSessions(){var e;return ft(this,void 0,void 0,function*(){return yield this.ready,yield(e=this.sessionManager)===null||e===void 0?void 0:e.refreshRunning(),this.listRunningSessions()})}connectToExistingSession(e,i){var n;return ft(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let r=(n=this.sessionManager)===null||n===void 0?void 0:n.connectTo({model:e});return new u_(this,r,i)})}clearSavedBinderSessions(){return ft(this,void 0,void 0,function*(){let e=this.makeBinderUrls();window.localStorage.removeItem(e.storageKey)})}connectToJupyterServer(){var e;return ft(this,void 0,void 0,function*(){console.debug("thebe:api:connectToJupyterServer:serverSettings:",this.config.serverSettings);let i=Wn.ServerConnection.makeSettings(this.config.serverSettings);try{this.events.triggerStatus({status:Ki.launching,message:"Checking server url"}),yield nm.status(i),this.events.triggerStatus({status:Ki.launching,message:"Server reachable"})}catch(r){let s=`Server not reachable (${i.baseUrl}) - ${r}`;this.events.triggerError({status:jn.error,message:s}),(e=this.rejectReadyFn)===null||e===void 0||e.call(this,s);return}let n=new Wn.KernelManager({serverSettings:i});return this.events.triggerStatus({status:Ki.launching,message:"Created KernelManager"}),this.sessionManager=new Wn.SessionManager({kernelManager:n,serverSettings:i}),this.sessionManager.connectionFailure.connect((r,s)=>{this.events.triggerError({status:jn.server,message:`connection failure: ${s}`})}),this.sessionManager.runningChanged.connect((r,s)=>{this.events.triggerStatus({status:Ki.ready,message:`${s.length} running sessions changed: ${s.map(o=>o.name).join(",")}`})}),this.events.triggerStatus({status:Ki.ready,message:"Created SessionManager"}),this.sessionManager.ready.then(()=>{var r;this.userServerUrl=`${i.baseUrl}?token=${i.token}`,this.events.triggerStatus({status:Ki.ready,message:"Server connection ready"}),(r=this.resolveReadyFn)===null||r===void 0||r.call(this,this)},r=>{var s;return(s=this.rejectReadyFn)===null||s===void 0?void 0:s.call(this,pT(r))})})}connectToJupyterLiteServer(e){var i;return ft(this,void 0,void 0,function*(){if(this.events.triggerStatus({status:Ki.launching,message:"Connecting to JupyterLite"}),!window.thebeLite)throw new Error("thebe-lite is not available at window.thebeLite - load this onto your page before loading thebe or thebe-core.");return this.serviceManager=yield window.thebeLite.startJupyterLiteServer(e),this.events.triggerStatus({status:Ki.launching,message:"Started JupyterLite server"}),console.debug("thebe:api:connectToJupyterLiteServer:serverSettings:",this.serviceManager.serverSettings),this.sessionManager=this.serviceManager.sessions,this.events.triggerStatus({status:Ki.launching,message:"Received SessionMananger from JupyterLite"}),(i=this.sessionManager)===null||i===void 0?void 0:i.ready.then(()=>{var n;this.userServerUrl="/",this.events.triggerStatus({status:Ki.ready,message:"Server connection established"}),(n=this.resolveReadyFn)===null||n===void 0||n.call(this,this)},n=>{var r;return(r=this.rejectReadyFn)===null||r===void 0?void 0:r.call(this,pT(n))})})}makeBinderUrls(){var e;return Rb(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:Tb)}checkForSavedBinderSession(){var e;return ft(this,void 0,void 0,function*(){try{let{storageKey:i}=Rb(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:Tb);return QO(this.config.savedSessions,i)}catch(i){return this.events.triggerError({status:jn.error,message:`${i} - Failed to check for saved session.`}),null}})}connectToServerViaBinder(e){return ft(this,void 0,void 0,function*(){this.events.triggerStatus({status:Ki.launching,message:`Connecting to binderhub at ${this.config.binder.binderUrl}`}),this.repoProviders=[...Tb,...e??[]];try{this.binderUrls=Rb(this.config,this.repoProviders)}catch(s){this.events.triggerError({status:jn.error,message:`${s} - Failed to connect to binderhub at ${this.config.binder.binderUrl}`});return}let i=this.binderUrls;if(this.events.triggerStatus({status:Ki.launching,message:`Binder build url is ${i.build}`}),this.config.savedSessions.enabled){console.debug("thebe:server:connectToServerViaBinder Checking for saved session...");let s=yield this.checkForSavedBinderSession();if(s){let o=Wn.ServerConnection.makeSettings(s),a=new Wn.KernelManager({serverSettings:o});return this.events.triggerStatus({status:Ki.launching,message:"Created KernelManager"}),this.sessionManager=new Wn.SessionManager({kernelManager:a,serverSettings:o}),this.events.triggerStatus({status:Ki.launching,message:"Created KernelManager"}),this.sessionManager.ready.then(()=>{var l;this.userServerUrl=`${o.baseUrl}?token=${o.token}`,this.events.triggerStatus({status:Ki.ready,message:"Re-connected to binder server"}),(l=this.resolveReadyFn)===null||l===void 0||l.call(this,this)},l=>{var c;return(c=this.rejectReadyFn)===null||c===void 0?void 0:c.call(this,pT(l))})}}let n={status:Ki.launching},r=new EventSource(i.build);this.events.triggerStatus({status:n.status,message:`Opened connection to binder: ${i.build}`}),r.onerror=s=>{var o;console.error(`Lost connection to binder: ${i.build}`,s),r?.close(),n.status=jn.error;let a=s?.data,l=a?a.phase:"unknown",c=`Lost connection to binder: ${i.build}
phase: ${l} - ${a?a.message:"no message"}`;this.events.triggerError({status:jn.error,message:c}),(o=this.rejectReadyFn)===null||o===void 0||o.call(this,c)},r.onmessage=s=>ft(this,void 0,void 0,function*(){var o,a,l,c;let d=JSON.parse(s.data),u=(a=(o=d.phase)===null||o===void 0?void 0:o.toLowerCase())!==null&&a!==void 0?a:"";switch(u){case"failed":r?.close(),n.status=jn.error,this.events.triggerError({status:jn.error,message:`Binder: failed to build - ${i.build} - ${d.message}`}),(l=this.rejectReadyFn)===null||l===void 0||l.call(this,d.message);break;case"ready":{r?.close();let f={baseUrl:d.url,wsUrl:"ws"+d.url.slice(4),token:d.token,appendToken:!0},h=Wn.ServerConnection.makeSettings(f),m=new Wn.KernelManager({serverSettings:h});this.sessionManager=new Wn.SessionManager({kernelManager:m,serverSettings:h}),this.config.savedSessions.enabled&&(ZO(i.storageKey,this.id,h),console.debug(`thebe:server:connectToServerViaBinder Saved session for ${this.id} at ${i.build}`)),yield this.sessionManager.ready,this.userServerUrl=`${d.url}?token=${d.token}`,n.status=Ki.ready,this.events.triggerStatus({status:n.status,message:`Binder server is ready: ${d.message}`}),(c=this.resolveReadyFn)===null||c===void 0||c.call(this,this)}break;default:this.events.triggerStatus({status:n.status,message:`Binder is: ${u} - ${d.message}`})}})})}getFetchUrl(e){var i,n;if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");if(!(!((i=this.sessionManager)===null||i===void 0)&&i.serverSettings))throw new Error("No server settings available in session manager");let r=(n=this.sessionManager)===null||n===void 0?void 0:n.serverSettings,s=new URL(r.baseUrl),o=new URL(`${s.pathname}${e}`.replace("//","/"),s.origin);return o.searchParams.append("token",r.token),o}static status(e){return Wn.ServerConnection.makeRequest(`${e.baseUrl}api/status`,{},Wn.ServerConnection.makeSettings(e))}getKernelSpecs(){var e;return ft(this,void 0,void 0,function*(){if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");return Wn.KernelSpecAPI.getSpecs(Wn.ServerConnection.makeSettings((e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings))})}getContents(e){return ft(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`);return e.type&&i.searchParams.append("type",e.type),e.format&&i.searchParams.append("format",e.format),i.searchParams.append("content",e.returnContent?"1":"0"),h_(yield fetch(i))})}duplicateFile(e){return ft(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`),{copy_from:n,ext:r,type:s}=e;return h_(yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:n,ext:r,type:s})}))})}createDirectory(e){return ft(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`);return h_(yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"directory"})}))})}renameContents(e){return ft(this,void 0,void 0,function*(){let{path:i,newPath:n}=e,r=this.getFetchUrl(`/api/contents/${i}`);return h_(yield fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:n})}))})}uploadFile(e){return ft(this,void 0,void 0,function*(){let{path:i,content:n,format:r,type:s}=e,o=this.getFetchUrl(`/api/contents/${i}`);return console.debug("thebe:api:server:uploadFile",o),h_(yield fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:i,content:n,format:r??"json",type:s??"notebook"})}))})}},nu=nm});var t5=Ve((Cy,e5)=>{(function(t,e){typeof Cy=="object"&&typeof e5<"u"?e(Cy):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.lumino_coreutils={}))})(Cy,function(t){"use strict";t.JSONExt=void 0,function(o){o.emptyObject=Object.freeze({}),o.emptyArray=Object.freeze([]);function a(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"}o.isPrimitive=a;function l(_){return Array.isArray(_)}o.isArray=l;function c(_){return!a(_)&&!l(_)}o.isObject=c;function d(_,y){if(_===y)return!0;if(a(_)||a(y))return!1;var S=l(_),T=l(y);return S!==T?!1:S&&T?f(_,y):h(_,y)}o.deepEqual=d;function u(_){return a(_)?_:l(_)?m(_):p(_)}o.deepCopy=u;function f(_,y){if(_===y)return!0;if(_.length!==y.length)return!1;for(var S=0,T=_.length;S<T;++S)if(!d(_[S],y[S]))return!1;return!0}function h(_,y){if(_===y)return!0;for(var S in _)if(_[S]!==void 0&&!(S in y))return!1;for(var S in y)if(y[S]!==void 0&&!(S in _))return!1;for(var S in _){var T=_[S],D=y[S];if(!(T===void 0&&D===void 0)&&(T===void 0||D===void 0||!d(T,D)))return!1}return!0}function m(_){for(var y=new Array(_.length),S=0,T=_.length;S<T;++S)y[S]=u(_[S]);return y}function p(_){var y={};for(var S in _){var T=_[S];T!==void 0&&(y[S]=u(T))}return y}}(t.JSONExt||(t.JSONExt={}));var e=function(){function o(){this._types=[],this._values=[]}return o.prototype.types=function(){return this._types.slice()},o.prototype.hasData=function(a){return this._types.indexOf(a)!==-1},o.prototype.getData=function(a){var l=this._types.indexOf(a);return l!==-1?this._values[l]:void 0},o.prototype.setData=function(a,l){this.clearData(a),this._types.push(a),this._values.push(l)},o.prototype.clearData=function(a){var l=this._types.indexOf(a);l!==-1&&(this._types.splice(l,1),this._values.splice(l,1))},o.prototype.clear=function(){this._types.length=0,this._values.length=0},o}(),i=function(){function o(){var a=this;this.promise=new Promise(function(l,c){a._resolve=l,a._reject=c})}return o.prototype.resolve=function(a){var l=this._resolve;l(a)},o.prototype.reject=function(a){var l=this._reject;l(a)},o}(),n=function(){function o(a){this.name=a,this._tokenStructuralPropertyT=null}return o}();function r(o){for(var a=0,l=0,c=o.length;l<c;++l)l%4===0&&(a=Math.random()*4294967295>>>0),o[l]=a&255,a>>>=8}t.Random=void 0,function(o){o.getRandomValues=function(){var a=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return a&&typeof a.getRandomValues=="function"?function(c){return a.getRandomValues(c)}:r}()}(t.Random||(t.Random={}));function s(o){for(var a=new Uint8Array(16),l=new Array(256),c=0;c<16;++c)l[c]="0"+c.toString(16);for(var c=16;c<256;++c)l[c]=c.toString(16);return function(){return o(a),a[6]=64|a[6]&15,a[8]=128|a[8]&63,l[a[0]]+l[a[1]]+l[a[2]]+l[a[3]]+"-"+l[a[4]]+l[a[5]]+"-"+l[a[6]]+l[a[7]]+"-"+l[a[8]]+l[a[9]]+"-"+l[a[10]]+l[a[11]]+l[a[12]]+l[a[13]]+l[a[14]]+l[a[15]]}}t.UUID=void 0,function(o){o.uuid4=s(t.Random.getRandomValues)}(t.UUID||(t.UUID={})),t.MimeData=e,t.PromiseDelegate=i,t.Token=n,Object.defineProperty(t,"__esModule",{value:!0})})});var i5,Sy,n5=$(()=>{i5=P(t5()),Sy=class{constructor(e){this._initPromise=new i5.PromiseDelegate,this._initialized=!1,this._url=e.url,this._config=e.config}typeset(e){this._initialized||this._init(),this._initPromise.promise.then(()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]);try{MathJax.Hub.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/TeX/AMSmath.js"],()=>{MathJax.InputJax.TeX.resetEquationNumbers()})}catch(i){console.error("Error queueing resetEquationNumbers:",i)}})}_init(){let e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=`${this._url}?config=${this._config}&amp;delayStartupUntil=configured`,i.charset="utf-8",e.appendChild(i),i.addEventListener("load",()=>{this._onLoad()}),this._initialized=!0}_onLoad(){MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center",CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{availableFonts:[],imageFont:null,preferredFont:null,webFont:"STIX-Web",styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}},skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Register.StartupHook("End Config",()=>{var e,i,n,r,s,o;(n=(i=(e=MathJax.Hub)===null||e===void 0?void 0:e.config)===null||i===void 0?void 0:i.MathEvents)===null||n===void 0||delete n.styles[".MathJax_Hover_Arrow:hover span"],(o=(s=(r=MathJax.Hub)===null||r===void 0?void 0:r.config)===null||s===void 0?void 0:s.MathMenu)===null||o===void 0||delete o.styles[".MathJax_MenuClose:hover span"]}),MathJax.Hub.Configured(),this._initPromise.resolve(void 0)}}});function MX(code,element,document,window){return eval(code)}var SX,EX,_T,vT,IX,hIe,r5=$(()=>{i0();SX="text/javascript",EX="application/javascript";_T=class extends Kp{render(e){let i=this.translator.load("jupyterlab"),n=()=>{try{let r=e.data[this.mimeType];return r&&MX(r,this.node,document,window),Promise.resolve()}catch(r){return Promise.reject(r)}};if(!e.trusted){let r=document.createElement("pre");r.textContent=i.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let s=document.createElement("button");return s.textContent=i.__("Run"),this.node.appendChild(r),this.node.appendChild(s),s.onclick=o=>{this.node.textContent="",n()},Promise.resolve()}return n()}},vT={safe:!1,mimeTypes:[SX,EX],createRenderer:t=>new _T(t)},IX={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory:vT,rank:0,dataType:"string"},hIe=IX});function*sm(){}function bT(t,e){let i=0;for(let n of t)if(e(n,i++))return n}function o5(t,e){let i=0;for(let n of t)if(e(n,i++)===!1)return!1;return!0}function a5(t,e){let i=0;for(let n of t)if(e(n,i++))return!0;return!1}function*l5(t){if(typeof t.retro=="function")yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}var Fe,s5,rm,xT=$(()=>{(function(t){function e(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(M[Q]===C)return Q}return-1}t.firstIndexOf=e;function i(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(M[Q]===C)return Q}return-1}t.lastIndexOf=i;function n(M,C,x=0,w=-1){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j){let Q=(x+j)%E;if(C(M[Q],Q))return Q}return-1}t.findFirstIndex=n;function r(M,C,x=-1,w=0){let E=M.length;if(E===0)return-1;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;x<w?O=x+1+(E-w):O=x-w+1;for(let j=0;j<O;++j){let Q=(x-j+E)%E;if(C(M[Q],Q))return Q}return-1}t.findLastIndex=r;function s(M,C,x=0,w=-1){let E=n(M,C,x,w);return E!==-1?M[E]:void 0}t.findFirstValue=s;function o(M,C,x=-1,w=0){let E=r(M,C,x,w);return E!==-1?M[E]:void 0}t.findLastValue=o;function a(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)<0?(j=K+1,Q-=X+1):Q=X}return j}t.lowerBound=a;function l(M,C,x,w=0,E=-1){let O=M.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),E<0?E=Math.max(0,E+O):E=Math.min(E,O-1);let j=w,Q=E-w+1;for(;Q>0;){let X=Q>>1,K=j+X;x(M[K],C)>0?Q=X:(j=K+1,Q-=X+1)}return j}t.upperBound=l;function c(M,C,x){if(M===C)return!0;if(M.length!==C.length)return!1;for(let w=0,E=M.length;w<E;++w)if(x?!x(M[w],C[w]):M[w]!==C[w])return!1;return!0}t.shallowEqual=c;function d(M,C={}){let{start:x,stop:w,step:E}=C;if(E===void 0&&(E=1),E===0)throw new Error("Slice `step` cannot be zero.");let O=M.length;x===void 0?x=E<0?O-1:0:x<0?x=Math.max(x+O,E<0?-1:0):x>=O&&(x=E<0?O-1:O),w===void 0?w=E<0?-1:O:w<0?w=Math.max(w+O,E<0?-1:0):w>=O&&(w=E<0?O-1:O);let j;E<0&&w>=x||E>0&&x>=w?j=0:E<0?j=Math.floor((w-x+1)/E+1):j=Math.floor((w-x-1)/E+1);let Q=[];for(let X=0;X<j;++X)Q[X]=M[x+X*E];return Q}t.slice=d;function u(M,C,x){let w=M.length;if(w<=1||(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1),C===x))return;let E=M[C],O=C<x?1:-1;for(let j=C;j!==x;j+=O)M[j]=M[j+O];M[x]=E}t.move=u;function f(M,C=0,x=-1){let w=M.length;if(!(w<=1))for(C<0?C=Math.max(0,C+w):C=Math.min(C,w-1),x<0?x=Math.max(0,x+w):x=Math.min(x,w-1);C<x;){let E=M[C],O=M[x];M[C++]=O,M[x--]=E}}t.reverse=f;function h(M,C,x=0,w=-1){let E=M.length;if(E<=1||(x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1),x>=w))return;let O=w-x+1;if(C>0?C=C%O:C<0&&(C=(C%O+O)%O),C===0)return;let j=x+C;f(M,x,j-1),f(M,j,w),f(M,x,w)}t.rotate=h;function m(M,C,x=0,w=-1){let E=M.length;if(E===0)return;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O;w<x?O=w+1+(E-x):O=w-x+1;for(let j=0;j<O;++j)M[(x+j)%E]=C}t.fill=m;function p(M,C,x){let w=M.length;C<0?C=Math.max(0,C+w):C=Math.min(C,w);for(let E=w;E>C;--E)M[E]=M[E-1];M[C]=x}t.insert=p;function _(M,C){let x=M.length;if(C<0&&(C+=x),C<0||C>=x)return;let w=M[C];for(let E=C+1;E<x;++E)M[E-1]=M[E];return M.length=x-1,w}t.removeAt=_;function y(M,C,x=0,w=-1){let E=e(M,C,x,w);return E!==-1&&_(M,E),E}t.removeFirstOf=y;function S(M,C,x=-1,w=0){let E=i(M,C,x,w);return E!==-1&&_(M,E),E}t.removeLastOf=S;function T(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&M[j]===C||w<x&&(j<=w||j>=x)&&M[j]===C?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllOf=T;function D(M,C,x=0,w=-1){let E,O=n(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeFirstWhere=D;function k(M,C,x=-1,w=0){let E,O=r(M,C,x,w);return O!==-1&&(E=_(M,O)),{index:O,value:E}}t.removeLastWhere=k;function b(M,C,x=0,w=-1){let E=M.length;if(E===0)return 0;x<0?x=Math.max(0,x+E):x=Math.min(x,E-1),w<0?w=Math.max(0,w+E):w=Math.min(w,E-1);let O=0;for(let j=0;j<E;++j)x<=w&&j>=x&&j<=w&&C(M[j],j)||w<x&&(j<=w||j>=x)&&C(M[j],j)?O++:O>0&&(M[j-O]=M[j]);return O>0&&(M.length=E-O),O}t.removeAllWhere=b})(Fe||(Fe={}));(function(t){function e(i,n,r){return r===0?1/0:i>n&&r>0||i<n&&r<0?0:Math.ceil((n-i)/r)}t.rangeLength=e})(s5||(s5={}));(function(t){function e(o,a,l=0){let c=new Array(a.length);for(let d=0,u=l,f=a.length;d<f;++d,++u){if(u=o.indexOf(a[d],u),u===-1)return null;c[d]=u}return c}t.findIndices=e;function i(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0;for(let u=0,f=c.length;u<f;++u){let h=c[u]-l;d+=h*h}return{score:d,indices:c}}t.matchSumOfSquares=i;function n(o,a,l=0){let c=e(o,a,l);if(!c)return null;let d=0,u=l-1;for(let f=0,h=c.length;f<h;++f){let m=c[f];d+=m-u-1,u=m}return{score:d,indices:c}}t.matchSumOfDeltas=n;function r(o,a,l){let c=[],d=0,u=0,f=a.length;for(;d<f;){let h=a[d],m=a[d];for(;++d<f&&a[d]===m+1;)m++;u<h&&c.push(o.slice(u,h)),h<m+1&&c.push(l(o.slice(h,m+1))),u=m+1}return u<o.length&&c.push(o.slice(u)),c}t.highlight=r;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})(rm||(rm={}))});var c5,si,ru,su,Co,d5=$(()=>{(function(t){function e(i){let n=document.body,r=s=>{s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),n.removeEventListener("copy",r,!0)};n.addEventListener("copy",r,!0),document.execCommand("copy")}t.copyText=e})(c5||(c5={}));(function(t){function e(s){let o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,c=parseFloat(o.borderRightWidth)||0,d=parseFloat(o.borderBottomWidth)||0,u=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,h=parseFloat(o.paddingRight)||0,m=parseFloat(o.paddingBottom)||0,p=l+f+h+c,_=a+u+m+d;return{borderTop:a,borderLeft:l,borderRight:c,borderBottom:d,paddingTop:u,paddingLeft:f,paddingRight:h,paddingBottom:m,horizontalSum:p,verticalSum:_}}t.boxSizing=e;function i(s){let o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,c=parseFloat(o.maxWidth)||1/0,d=parseFloat(o.maxHeight)||1/0;return c=Math.max(a,c),d=Math.max(l,d),{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d}}t.sizeLimits=i;function n(s,o,a){let l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=n;function r(s,o){let a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=r})(si||(si={}));(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(ru||(ru={}));(function(t){function e(r){if(r in Co.specificityCache)return Co.specificityCache[r];let s=Co.calculateSingle(r);return Co.specificityCache[r]=s}t.calculateSpecificity=e;function i(r){if(r in Co.validityCache)return Co.validityCache[r];let s=!0;try{Co.testElem.querySelector(r)}catch{s=!1}return Co.validityCache[r]=s}t.isValid=i;function n(r,s){return Co.protoMatchFunc.call(r,s)}t.matches=n})(su||(su={}));(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(()=>{let d=Element.prototype;return d.matches||d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector||function(u){let f=this,h=f.ownerDocument?f.ownerDocument.querySelectorAll(u):[];return Array.prototype.indexOf.call(h,f)!==-1}})();function e(d){d=d.split(",",1)[0];let u=0,f=0,h=0;function m(p){let _=d.match(p);return _===null?!1:(d=d.slice(_[0].length),!0)}for(d=d.replace(c," $1 ");d.length>0;){if(m(i)){u++;continue}if(m(n)){f++;continue}if(m(r)){f++;continue}if(m(o)){h++;continue}if(m(a)){f++;continue}if(m(s)){h++;continue}if(!m(l))return 0}return u=Math.min(u,255),f=Math.min(f,255),h=Math.min(h,255),u<<16|f<<8|h}t.calculateSingle=e;let i=/^#[^\s\+>~#\.\[:]+/,n=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(Co||(Co={}))});var om,wl,u5=$(()=>{om=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new wl.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new wl.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof wl.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new wl.LinkedListNode(this,e),r=i,s=r.prev;return n.next=r,n.prev=s,r.prev=n,s.next=n,this._size++,n}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof wl.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let n=new wl.LinkedListNode(this,e),r=i,s=r.next;return n.next=s,n.prev=r,r.next=n,s.prev=n,this._size++,n}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof wl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let n=new t;return n.assign(i),n}t.from=e})(om||(om={}));(function(t){class e{constructor(n,r){this.list=null,this.next=null,this.prev=null,this.list=n,this.value=r}}t.LinkedListNode=e})(wl||(wl={}))});var Er,Ec,ze,h5=$(()=>{xT();u5();Er=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},Ec=class extends Er{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(C=>x=>{let w=!1;return C.then(()=>!w&&x()),()=>{w=!0}})(Promise.resolve());function n(C,x){let w=f.get(C);if(!w||w.length===0){y(C,x);return}o5(l5(w),O=>O?_(O,C,x):!0)&&y(C,x)}t.sendMessage=n;function r(C,x){if(!x.isConflatable){S(C,x);return}a5(u,E=>E.handler!==C||!E.msg||E.msg.type!==x.type||!E.msg.isConflatable?!1:E.msg.conflate(x))||S(C,x)}t.postMessage=r;function s(C,x){let w=f.get(C);w&&w.indexOf(x)!==-1||(w?w.push(x):f.set(C,[x]))}t.installMessageHook=s;function o(C,x){let w=f.get(C);if(!w)return;let E=w.indexOf(x);E!==-1&&(w[E]=null,D(w))}t.removeMessageHook=o;function a(C){let x=f.get(C);x&&x.length>0&&(Fe.fill(x,null),D(x));for(let w of u)w.handler===C&&(w.handler=null,w.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,T(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function d(C){let x=m;return m=C,x}t.setExceptionHandler=d;let u=new om,f=new WeakMap,h=new Set,m=C=>{console.error(C)},p=!1;function _(C,x,w){let E=!0;try{typeof C=="function"?E=C(x,w):E=C.messageHook(x,w)}catch(O){m(O)}return E}function y(C,x){try{C.processMessage(x)}catch(w){m(w)}}function S(C,x){u.addLast({handler:C,msg:x}),e===null&&(e=i(T))}function T(){if(e=null,u.isEmpty)return;let C={handler:null,msg:null};for(u.addLast(C);;){let x=u.removeFirst();if(x===C)return;x.handler&&x.msg&&n(x.handler,x.msg)}}function D(C){h.size===0&&i(k),h.add(C)}function k(){h.forEach(b),h.clear()}function b(C){Fe.removeAllWhere(C,M)}function M(C){return C===null}})(ze||(ze={}))});var Ml,ua,us,f_,ge,Ey,fa,au,am,lm,m_,p_,So,Sl,yT,My,Iy,wT,lu,CT,g_,ST,hs,ou,Ty,ET,cm,Cl,ha,Mr,f5,TX,Mc,Ys,MT,Qi,cu,Vi,El,bn,dm,Ry,m5,p5,IT,g5,_5,v5=$(()=>{xT();Ml=P(Jn());d5();h5();fp();Cs();mv();gv();_v();fv();pv();ua=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,d=0,u=0,f=0;for(let p=0;p<a;++p){let _=s[p],y=_.minSize,S=_.maxSize,T=_.sizeHint;_.done=!1,_.size=Math.max(y,Math.min(T,S)),d+=_.size,l+=y,c+=S,_.stretch>0&&(u+=_.stretch,f++)}if(o===d)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<d){let p=d-o;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size-D<=T.minSize?(p-=T.size-T.minSize,u-=T.stretch,T.size=T.minSize,T.done=!0,m--,f--):(p-=D,T.size-=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size-_<=S.minSize?(p-=S.size-S.minSize,S.size=S.minSize,S.done=!0,m--):(p-=_,S.size-=_))}}}else{let p=o-d;for(;f>0&&p>h;){let _=p,y=u;for(let S=0;S<a;++S){let T=s[S];if(T.done||T.stretch===0)continue;let D=T.stretch*_/y;T.size+D>=T.maxSize?(p-=T.maxSize-T.size,u-=T.stretch,T.size=T.maxSize,T.done=!0,m--,f--):(p-=D,T.size+=D)}}for(;m>0&&p>h;){let _=p/m;for(let y=0;y<a;++y){let S=s[y];S.done||(S.size+_>=S.maxSize?(p-=S.maxSize-S.size,S.size=S.maxSize,S.done=!0,m--):(p-=_,S.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?n(s,o,a):r(s,o,-a))}t.adjust=i;function n(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.maxSize-h.size;m>=d?(h.sizeHint=h.size+d,d=0):(h.sizeHint=h.size+m,d-=m)}let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.size-m.minSize;p>=u?(m.sizeHint=m.size-u,u=0):(m.sizeHint=m.size-p,u-=p)}}function r(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.maxSize-m.size;p>=d?(m.sizeHint=m.size+d,d=0):(m.sizeHint=m.size+p,d-=p)}let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.size-h.minSize;m>=u?(h.sizeHint=h.size-u,u=0):(h.sizeHint=h.size-m,u-=m)}}})(us||(us={}));f_=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Ie(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ie.clearData(this))}},ge=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Ie(this),this._hiddenMode=ge.HiddenMode.Display,this.node=Ey.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(ge.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&ge.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Ie.clearData(this),ze.clearData(this),mt.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(ge.Flag.IsDisposed)}get isAttached(){return this.testFlag(ge.Flag.IsAttached)}get isHidden(){return this.testFlag(ge.Flag.IsHidden)}get isVisible(){return this.testFlag(ge.Flag.IsVisible)}get title(){return Ey.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==ge.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new ge.ChildMessage("child-removed",this);ze.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new ge.ChildMessage("child-added",this);ze.sendMessage(this._parent,i)}this.isDisposed||ze.sendMessage(this,ge.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(ge.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){ze.postMessage(this,ge.Msg.UpdateRequest)}fit(){ze.postMessage(this,ge.Msg.FitRequest)}activate(){ze.postMessage(this,ge.Msg.ActivateRequest)}close(){ze.sendMessage(this,ge.Msg.CloseRequest)}show(){if(this.testFlag(ge.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.BeforeShow),this.clearFlag(ge.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.AfterShow),this.parent)){let e=new ge.ChildMessage("child-shown",this);ze.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(ge.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.BeforeHide),this.setFlag(ge.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.AfterHide),this.parent)){let e=new ge.ChildMessage("child-hidden",this);ze.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(ge.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(ge.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(ge.Flag.IsVisible),this.setFlag(ge.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(ge.Flag.IsVisible),this.clearFlag(ge.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&ge.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case ge.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case ge.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case ge.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case ge.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case ge.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case ge.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new Er("before-show"),s.AfterShow=new Er("after-show"),s.BeforeHide=new Er("before-hide"),s.AfterHide=new Er("after-hide"),s.BeforeAttach=new Er("before-attach"),s.AfterAttach=new Er("after-attach"),s.BeforeDetach=new Er("before-detach"),s.AfterDetach=new Er("after-detach"),s.ParentChanged=new Er("parent-changed"),s.UpdateRequest=new Ec("update-request"),s.FitRequest=new Ec("fit-request"),s.ActivateRequest=new Ec("activate-request"),s.CloseRequest=new Ec("close-request")}(t.Msg||(t.Msg={}));class e extends Er{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends Er{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function n(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");ze.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),ze.sendMessage(s,t.Msg.AfterAttach)}t.attach=n;function r(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");ze.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),ze.sendMessage(s,t.Msg.AfterDetach)}t.detach=r})(ge||(ge={}));(function(t){t.titleProperty=new mt({name:"title",create:i=>new f_({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(Ey||(Ey={}));fa=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Ie.clearData(this),mt.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)ze.sendMessage(i,ge.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)ze.sendMessage(i,ge.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)ze.sendMessage(i,e)}onAfterAttach(e){for(let i of this)ze.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)ze.sendMessage(i,e)}onAfterDetach(e){for(let i of this)ze.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return am.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){am.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function n(s){return am.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=n;function r(s,o){am.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=r})(fa||(fa={}));au=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=si.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,n,r){let s=Math.max(this._minWidth,Math.min(n,this._maxWidth)),o=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(s<n)switch(fa.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-s)/2;break;case"right":e+=n-s;break;default:throw"unreachable"}if(o<r)switch(fa.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(r-o)/2;break;case"bottom":i+=r-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new ge.ResizeMessage(s,o);ze.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new mt({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new mt({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(am||(am={}));lm=class extends fa{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let n=this._widgets.indexOf(i),r=Math.max(0,Math.min(e,this._widgets.length));if(n===-1){Fe.insert(this._widgets,r,i),this.parent&&this.attachWidget(r,i);return}r===this._widgets.length&&r--,n!==r&&(Fe.move(this._widgets,n,r),this.parent&&this.moveWidget(n,r,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=Fe.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let n=this.parent.node.children[e];this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,n),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach)}moveWidget(e,i,n){this.parent.isAttached&&ze.sendMessage(n,ge.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&ze.sendMessage(n,ge.Msg.AfterDetach);let r=this.parent.node.children[i];this.parent.isAttached&&ze.sendMessage(n,ge.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,r),this.parent.isAttached&&ze.sendMessage(n,ge.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(m_||(m_={}));p_=m_,So=class extends lm{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=m_.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=m_.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Sl.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let n=this._sizers.length,r=e.slice(0,n);for(;r.length<n;)r.push(0);let s=Sl.normalize(r);for(let o=0;o<n;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let n=this._handles[e];if(!n||n.classList.contains("lm-mod-hidden"))return;let r;if(this._orientation==="horizontal"?r=i-n.offsetLeft:r=i-n.offsetTop,r!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);us.adjust(this._sizers,e,r),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let n=new au(i),r=Sl.createHandle(this.renderer),s=Sl.averageSize(this._sizers),o=Sl.createSizer(s);Fe.insert(this._items,e,n),Fe.insert(this._sizers,e,o),Fe.insert(this._handles,e,r),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(r),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Fe.move(this._items,e,i),Fe.move(this._sizers,e,i),Fe.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let n=Fe.removeAt(this._items,e),r=Fe.removeAt(this._handles,e);Fe.removeAt(this._sizers,e),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(r),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,n,r,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(n+=this.widgetOffset,l.update(n,r,a,s),n+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(r+=this.widgetOffset,l.update(n,r,o,a),r+=a,c.top=`${r}px`,c.left=`${n}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let n=this._orientation==="horizontal",r=n?this._fixed:0,s=n?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l],u=this._sizers[l];if(u.size>0&&(u.sizeHint=u.size),d.isHidden){u.minSize=0,u.maxSize=0;continue}d.fit(),u.stretch=So.getStretch(d.widget),n?(u.minSize=d.minWidth,u.maxSize=d.maxWidth,r+=d.minWidth,s=Math.max(s,d.minHeight)):(u.minSize=d.minHeight,u.maxSize=d.maxHeight,s+=d.minHeight,r=Math.max(r,d.minWidth))}let o=this._box=si.boxSizing(this.parent.node);r+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${r}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=si.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,d=this._orientation==="horizontal";if(n>0){let u;if(d?u=Math.max(0,o-this._fixed):u=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=u;this._hasNormedSizes=!1}let f=us.calc(this._sizers,u);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/n,c=0;break;default:throw"unreachable"}}for(let u=0,f=this._items.length;u<f;++u){let m=this._items[u].isHidden?0:this._sizers[u].size+l;this.updateItemPosition(u,d,d?s+c:s,d?r:r+c,a,o,m);let p=this.widgetOffset+(this._handles[u].classList.contains("lm-mod-hidden")?0:this._spacing);d?s+=m+p:r+=m+p}}};(function(t){function e(n){return Sl.stretchProperty.get(n)}t.getStretch=e;function i(n,r){Sl.stretchProperty.set(n,r)}t.setStretch=i})(So||(So={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new ua;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function n(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=n;function r(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,d)=>c+Math.abs(d),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=r;function s(o){o.parent&&o.parent.layout instanceof So&&o.parent.fit()}})(Sl||(Sl={}));yT=class extends So{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=p_.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let n=this._titles[e],r=n.classList.contains("lm-mod-expanded"),s=My.createTitle(this.renderer,i.title,r);this._titles[e]=s,this.parent.node.replaceChild(s,n)}insertWidget(e,i){i.id||(i.id=`id-${Ml.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let n=My.createTitle(this.renderer,i.title);Fe.insert(this._titles,e,n),this.parent.node.appendChild(n),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",n.id),super.attachWidget(e,i)}moveWidget(e,i,n){Fe.move(this._titles,e,i),super.moveWidget(e,i,n)}detachWidget(e,i){let n=Fe.removeAt(this._titles,e);this.parent.node.removeChild(n),super.detachWidget(e,i)}updateItemPosition(e,i,n,r,s,o,a){let l=this._titles[e].style;l.top=`${r}px`,l.left=`${n}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,n,r,s,o,a)}};(function(t){function e(i,n,r=!0){let s=i.createSectionTitle(n);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${n.label} Section`),s.setAttribute("aria-expanded",r?"true":"false"),s.setAttribute("aria-controls",n.owner.id),r&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(My||(My={}));Iy=class extends ge{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=wT.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new lm}t.createLayout=e})(wT||(wT={}));lu=class extends Iy{constructor(e={}){super({layout:CT.createLayout(e)}),this._handleMoved=new Ie(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=Fe.findFirstIndex(i.handles,c=>c.contains(e.target));if(n===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let r,s=i.handles[n],o=s.getBoundingClientRect();i.orientation==="horizontal"?r=e.clientX-o.left:r=e.clientY-o.top;let a=window.getComputedStyle(s),l=tn.overrideCursor(a.cursor);this._pressData={index:n,delta:r,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,n=this.layout,r=this.node.getBoundingClientRect();n.orientation==="horizontal"?i=e.clientX-r.left-this._pressData.delta:i=e.clientY-r.top-this._pressData.delta,n.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(r){return So.getStretch(r)}t.getStretch=i;function n(r,s){So.setStretch(r,s)}t.setStretch=n})(lu||(lu={}));(function(t){function e(i){return i.layout||new So({renderer:i.renderer||lu.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(CT||(CT={}));g_=class extends lu{constructor(e={}){super({...e,layout:ST.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Ie(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=Fe.findFirstIndex(this.widgets,n=>n.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,n=i.widgets[e];if(!n)return;let r=n.isHidden,s=i.absoluteSizes(),o=(r?-1:1)*this.spacing,a=s.reduce((c,d)=>c+d),l=[...s];if(r){let c=this._widgetSizesCache.get(n);if(!c)return;l[e]+=c;let d=l.map(u=>u-c>0).lastIndexOf(!0);d===-1?l.forEach((u,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[d]-=c-o}else{let c=s[e];this._widgetSizesCache.set(n,c),l[e]=0;let d=l.map(u=>u>0).lastIndexOf(!0);if(d===-1)return;l[d]=s[d]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let n=Fe.findFirstIndex(this.titles,r=>r.contains(i));n>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(n))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,n=!1;if(i){let r=Fe.findFirstIndex(this.titles,s=>s.contains(i));if(r>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),n=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(r+a+o)%a;this.titles[l].focus(),n=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),n=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],n=this.layout.widgets[e],r=this._computeWidgetSize(e);r&&this.setRelativeSizes(r,!1),n.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),n.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),n.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends lu.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(n){return document.createElement("span")}createSectionTitle(n){let r=document.createElement("h3");r.setAttribute("tabindex","0"),r.id=this.createTitleKey(n),r.className=this.titleClassName;for(let a in n.dataset)r.dataset[a]=n.dataset[a];let s=r.appendChild(this.createCollapseIcon(n));s.className="lm-AccordionPanel-titleCollapser";let o=r.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=n.label,o.title=n.caption||n.label,r}createTitleKey(n){let r=this._titleKeys.get(n);return r===void 0&&(r=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(n,r)),r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(g_||(g_={}));(function(t){function e(i){return i.layout||new yT({renderer:i.renderer||g_.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(ST||(ST={}));hs=class extends lm{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=p_.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=p_.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){Fe.insert(this._items,e,new au(i)),Fe.insert(this._sizers,e,new ua),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Fe.move(this._items,e,i),Fe.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let n=Fe.removeAt(this._items,e);Fe.removeAt(this._sizers,e),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=ou.isHorizontal(this._direction),n=i?this._fixed:0,r=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],d=this._sizers[a];if(c.isHidden){d.minSize=0,d.maxSize=0;continue}c.fit(),d.sizeHint=hs.getSizeBasis(c.widget),d.stretch=hs.getStretch(c.widget),i?(d.minSize=c.minWidth,d.maxSize=c.maxWidth,n+=c.minWidth,r=Math.max(r,c.minHeight)):(d.minSize=c.minHeight,d.maxSize=c.maxHeight,r+=c.minHeight,n=Math.max(n,c.minWidth))}let s=this._box=si.boxSizing(this.parent.node);n+=s.horizontalSum,r+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${n}px`,o.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let u=0,f=this._items.length;u<f;++u)n+=+!this._items[u].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=si.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=us.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=us.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=us.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=us.calc(this._sizers,Math.max(0,a-this._fixed)),r+=a;break;default:throw"unreachable"}let c=0,d=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,d=l/2;break;case"end":c=0,d=l;break;case"justify":c=l/n,d=0;break;default:throw"unreachable"}for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=this._sizers[u].size;switch(this._direction){case"left-to-right":h.update(s+d,r,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,r+d,o,m+c),r+=m+c+this._spacing;break;case"right-to-left":h.update(s-d-m-c,r,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,r-d-m-c,o,m+c),r-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return ou.stretchProperty.get(s)}t.getStretch=e;function i(s,o){ou.stretchProperty.set(s,o)}t.setStretch=i;function n(s){return ou.sizeBasisProperty.get(s)}t.getSizeBasis=n;function r(s,o){ou.sizeBasisProperty.set(s,o)}t.setSizeBasis=r})(hs||(hs={}));(function(t){t.stretchProperty=new mt({name:"stretch",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n}),t.sizeBasisProperty=new mt({name:"sizeBasis",create:()=>0,coerce:(r,s)=>Math.max(0,Math.floor(s)),changed:n});function e(r){return r==="left-to-right"||r==="right-to-left"}t.isHorizontal=e;function i(r){return Math.max(0,Math.floor(r))}t.clampSpacing=i;function n(r){r.parent&&r.parent.layout instanceof hs&&r.parent.fit()}})(ou||(ou={}));Ty=class extends Iy{constructor(e={}){super({layout:ET.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return hs.getStretch(s)}t.getStretch=e;function i(s,o){hs.setStretch(s,o)}t.setStretch=i;function n(s){return hs.getSizeBasis(s)}t.getSizeBasis=n;function r(s,o){hs.setSizeBasis(s,o)}t.setSizeBasis=r})(Ty||(Ty={}));(function(t){function e(i){return i.layout||new hs(i)}t.createLayout=e})(ET||(ET={}));cm=class extends ge{constructor(e){super({node:Cl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(ge.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||cm.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=Cl.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(n=>Cl.createItem(this.commands,n));return i.forEach(n=>this._items.push(n)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){Fe.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,n=this.contentNode,r=this._results;if(r||(r=this._results=Cl.search(this._items,i),this._activeIndex=i?Fe.findFirstIndex(r,Cl.canActivate):-1),!i&&r.length===0){Zt.render(null,n);return}if(i&&r.length===0){let l=this.renderer.renderEmptyMessage({query:i});Zt.render(l,n);return}let s=this.renderer,o=this._activeIndex,a=new Array(r.length);for(let l=0,c=r.length;l<c;++l){let d=r[l];if(d.type==="header"){let u=d.indices,f=d.category;a[l]=s.renderHeader({category:f,indices:u})}else{let u=d.item,f=d.indices,h=l===o;a[l]=s.renderItem({item:u,indices:f,active:h})}}if(Zt.render(a,n),o<0||o>=r.length)n.scrollTop=0;else{let l=n.children[o];si.scrollIntoViewIfNeeded(n,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=Fe.findFirstIndex(this.contentNode.children,n=>n.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<i-1?e+1:0,r=n===0?i-1:n-1;this._activeIndex=Fe.findFirstIndex(this._results,Cl.canActivate,n,r),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,n=e<=0?i-1:e-1,r=n===i-1?0:n+1;this._activeIndex=Fe.findLastIndex(this._results,Cl.canActivate,n,r),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let n=this.inputNode;n.value=`${i.category.toLowerCase()} `,n.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(n){let r=this.formatHeader(n);return Se.li({className:"lm-CommandPalette-header"},r)}renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n);return n.item.isToggleable?Se.li({className:r,dataset:s,role:"menuitemcheckbox","aria-checked":`${n.item.isToggled}`},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n)):Se.li({className:r,dataset:s,role:"menuitem"},this.renderItemIcon(n),this.renderItemContent(n),this.renderItemShortcut(n))}renderEmptyMessage(n){let r=this.formatEmptyMessage(n);return Se.li({className:"lm-CommandPalette-emptyMessage"},r)}renderItemIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderItemContent(n){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(n),this.renderItemCaption(n))}renderItemLabel(n){let r=this.formatItemLabel(n);return Se.div({className:"lm-CommandPalette-itemLabel"},r)}renderItemCaption(n){let r=this.formatItemCaption(n);return Se.div({className:"lm-CommandPalette-itemCaption"},r)}renderItemShortcut(n){let r=this.formatItemShortcut(n);return Se.div({className:"lm-CommandPalette-itemShortcut"},r)}createItemClass(n){let r="lm-CommandPalette-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.active&&(r+=" lm-mod-active");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){return{...n.item.dataset,command:n.item.command}}createIconClass(n){let r="lm-CommandPalette-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}formatHeader(n){return!n.indices||n.indices.length===0?n.category:rm.highlight(n.category,n.indices,Se.mark)}formatEmptyMessage(n){return`No commands found that match '${n.query}'`}formatItemShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}formatItemLabel(n){return!n.indices||n.indices.length===0?n.item.label:rm.highlight(n.item.label,n.indices,Se.mark)}formatItemCaption(n){return n.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(cm||(cm={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),y=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",y.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(y),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new u(f,h)}t.createItem=i;function n(f,h){let m=a(f,h);return m.sort(c),d(m)}t.search=n;function r(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=r;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let y=f[p];if(!y.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:y});continue}let S=l(y,h);S&&(y.isEnabled||(S.score+=1e3),m.push(S))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,y=1/0,S=null,T=/\b\w/g;for(;;){let C=T.exec(_);if(!C)break;let x=rm.matchSumOfDeltas(_,h,C.index);if(!x)break;x.score<=y&&(y=x.score,S=x.indices)}if(!S||y===1/0)return null;let D=m.length+1,k=Fe.lowerBound(S,D,(C,x)=>C-x),b=S.slice(0,k),M=S.slice(k);for(let C=0,x=M.length;C<x;++C)M[C]-=D;return b.length===0?{matchType:0,categoryIndices:null,labelIndices:M,score:y,item:f}:M.length===0?{matchType:1,categoryIndices:b,labelIndices:null,score:y,item:f}:{matchType:2,categoryIndices:b,labelIndices:M,score:y,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,y=0;switch(f.matchType){case 0:_=f.labelIndices[0],y=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],y=h.categoryIndices[0];break}if(_!==y)return _-y;let S=f.item.category.localeCompare(h.item.category);if(S!==0)return S;let T=f.item.rank,D=h.item.rank;return T!==D?T<D?-1:1:f.item.label.localeCompare(h.item.label)}function d(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:y,labelIndices:S}=f[m],T=_.category;(m===0||T!==f[m-1].item.category)&&h.push({type:"header",category:T,indices:y}),h.push({type:"item",item:_,indices:S})}return h}class u{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||Ml.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return Fe.findLastValue(this._commands.keyBindings,p=>p.command===h&&Ml.JSONExt.deepEqual(p.args,m))||null}}})(Cl||(Cl={}));ha=class extends ge{constructor(e){super({node:Mr.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Ie(this),this._menuRequested=new Ie(this),this.addClass("lm-Menu"),this.setFlag(ge.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||ha.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Mr.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,n=i<e-1?i+1:0,r=n===0?e-1:n-1;this.activeIndex=Fe.findFirstIndex(this._items,Mr.canActivate,n,r)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,n=i<=0?e-1:i-1,r=n===e-1?0:n+1;this.activeIndex=Fe.findLastIndex(this._items,Mr.canActivate,n,r)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:n}=e;this.commands.isEnabled(i,n)?this.commands.execute(i,n):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let n=Math.max(0,Math.min(e,this._items.length)),r=Mr.createItem(this,i);return Fe.insert(this._items,n,r),this.update(),r}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,Fe.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,n={}){var r,s;if(this.isAttached)return;let o=n.forceX||!1,a=n.forceY||!1,l=(r=n.host)!==null&&r!==void 0?r:null,c=(s=n.ref)!==null&&s!==void 0?s:null;Mr.openRootMenu(this,e,i,o,a,l,c),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,n=this.renderer,r=this._activeIndex,s=Mr.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],d=a===r,u=s[a];o[a]=n.renderItem({item:c,active:d,collapsed:u,onfocus:()=>{this.activeIndex=a}})}Zt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=Mr.findMnemonic(this._items,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=Fe.findFirstIndex(this.contentNode.children,r=>si.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let n=this.activeItem;!n||n.type!=="submenu"||!n.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:n}=e;if(si.hitTest(this._childMenu.node,i,n)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Mr.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let n=i.submenu;if(n===this._childMenu)return;ha.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,ze.sendMessage(this,ge.Msg.UpdateRequest);let r=this.contentNode.children[this._activeIndex];Mr.openSubmenu(n,r),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Mr.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Mr.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Mr.saveWindowData()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,tabindex:"0",onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n),this.renderShortcut(n),this.renderSubmenu(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.item.icon,n.item.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-Menu-itemLabel"},r)}renderShortcut(n){let r=this.formatShortcut(n);return Se.div({className:"lm-Menu-itemShortcut"},r)}renderSubmenu(n){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(n){let r="lm-Menu-item";n.item.isEnabled||(r+=" lm-mod-disabled"),n.item.isToggled&&(r+=" lm-mod-toggled"),n.item.isVisible||(r+=" lm-mod-hidden"),n.active&&(r+=" lm-mod-active"),n.collapsed&&(r+=" lm-mod-collapsed");let s=n.item.className;return s&&(r+=` ${s}`),r}createItemDataset(n){let r,{type:s,command:o,dataset:a}=n.item;return s==="command"?r={...a,type:s,command:o}:r={...a,type:s},r}createIconClass(n){let r="lm-Menu-itemIcon",s=n.item.iconClass;return s?`${r} ${s}`:r}createItemARIA(n){let r={};switch(n.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",n.item.isEnabled||(r["aria-disabled"]="true");break;default:n.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r}formatLabel(n){let{label:r,mnemonic:s}=n.item;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(n){let r=n.item.keyBinding;return r?Zn.formatKeystroke(r.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(ha||(ha={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function n(){return i>0?(i--,e):d()}function r(){e=d(),i++}t.saveWindowData=r;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,y){for(let S=p;S;S=S.childMenu)if(si.hitTest(S.node,_,y))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);Fe.fill(_,!1);let y=0,S=p.length;for(;y<S;++y){let k=p[y];if(k.isVisible){if(k.type!=="separator")break;_[y]=!0}}let T=S-1;for(;T>=0;--T){let k=p[T];if(k.isVisible){if(k.type!=="separator")break;_[T]=!0}}let D=!1;for(;++y<T;){let k=p[y];k.isVisible&&(k.type!=="separator"?D=!1:D?_[y]=!0:D=!0)}return _}t.computeCollapsed=c;function d(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function u(p,_,y,S,T,D,k){let b=n(),M=b.pageXOffset,C=b.pageYOffset,x=b.clientWidth,w=b.clientHeight;ze.sendMessage(p,ge.Msg.UpdateRequest);let E=w-(T?y:0),O=p.node,j=O.style;j.opacity="0",j.maxHeight=`${E}px`,ge.attach(p,D||document.body,k);let{width:Q,height:X}=O.getBoundingClientRect();!S&&_+Q>M+x&&(_=M+x-Q),!T&&y+X>C+w&&(y>C+w?y=C+w-X:y=y-X),j.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,y)}px`,j.opacity="1"}t.openRootMenu=u;function f(p,_){let y=n(),S=y.pageXOffset,T=y.pageYOffset,D=y.clientWidth,k=y.clientHeight;ze.sendMessage(p,ge.Msg.UpdateRequest);let b=k,M=p.node,C=M.style;C.opacity="0",C.maxHeight=`${b}px`,ge.attach(p,document.body);let{width:x,height:w}=M.getBoundingClientRect(),E=si.boxSizing(p.node),O=_.getBoundingClientRect(),j=O.right-t.SUBMENU_OVERLAP;j+x>S+D&&(j=O.left+t.SUBMENU_OVERLAP-x);let Q=O.top-E.borderTop-E.paddingTop;Q+w>T+k&&(Q=O.bottom+E.borderBottom+E.paddingBottom-w),C.transform=`translate(${Math.max(0,j)}px, ${Math.max(0,Q)}px`,C.opacity="1"}t.openSubmenu=f;function h(p,_,y){let S=-1,T=-1,D=!1,k=_.toUpperCase();for(let b=0,M=p.length;b<M;++b){let C=(b+y)%M,x=p[C];if(!o(x))continue;let w=x.label;if(w.length===0)continue;let E=x.mnemonic;if(E>=0&&E<w.length){w[E].toUpperCase()===k&&(S===-1?S=C:D=!0);continue}T===-1&&w[0].toUpperCase()===k&&(T=C)}return{index:S,multiple:D,auto:T}}t.findMnemonic=h;class m{constructor(_,y){this._commands=_,this.type=y.type||"command",this.command=y.command||"",this.args=y.args||Ml.JSONExt.emptyObject,this.submenu=y.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:y}=this;return Fe.findLastValue(this._commands.keyBindings,S=>S.command===_&&Ml.JSONExt.deepEqual(S.args,y))||null}return null}}})(Mr||(Mr={}));(function(t){function e(o,a){let l=n(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let d=a.target;if(!d)return null;let u=a.currentTarget;if(!u||!u.contains(d)&&(d=document.elementFromPoint(a.clientX,a.clientY),!d||!u.contains(d)))return null;let f=[],h=o.slice();for(;d!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let y=h[p];y&&su.matches(d,y.selector)&&(m.push(y),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:r),f.push(...m)),d===u)break;d=d.parentElement}return l||f.sort(c?s:r),f}t.matchItems=i;function n(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!su.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function r(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=su.calculateSpecificity(o.selector),c=su.calculateSpecificity(a.selector);return l!==c?c-l:r(o,a)}})(f5||(f5={}));TX=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Mc=class extends ge{constructor(e={}){super({node:Ys.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Ie(this),this._currentChanged=new Ie(this),this._addRequested=new Ie(this),this._tabCloseRequested=new Ie(this),this._tabDetachRequested=new Ie(this),this._tabActivateRequested=new Ie(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(ge.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Mc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,n=this._titles[i]||null,r=e,s=this._titles[r]||null;this._currentIndex=r,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:r,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let n=Ys.asTitle(i),r=this._titles.indexOf(n),s=Math.max(0,Math.min(e,this._titles.length));return r===-1?(Fe.insert(this._titles,s,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,n),n):(s===this._titles.length&&s--,r===s||(Fe.move(this._titles,r,s),this.update(),this._adjustCurrentForMove(r,s)),n)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=Fe.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let n of this._titles)n.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let n=this._titles,r=this.renderer,s=this.currentTitle,o=new Array(n.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=n.length;l<c;++l){let d=n[l],u=d===s,f=u?c:c-l-1,h=a===l?0:-1;o[l]=r.renderTab({title:d,current:u,zIndex:f,tabIndex:h})}Zt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,n=Fe.findFirstIndex(i,o=>si.hitTest(o,e.clientX,e.clientY));if(n===-1)return;let r=this.titles[n],s=i[n].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=r.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",d=>d.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",d=>{d.key==="Enter"?(l.value!==""&&(r.label=r.caption=l.value),c()):d.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,n,r;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=Fe.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(TX.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(n=s[o-1])!==null&&n!==void 0?n:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((r=s[o])===null||r===void 0||r.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,r=Fe.findFirstIndex(n,o=>si.hitTest(o,e.clientX,e.clientY));if(r===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[r],index:r,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=n[r].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===r?this.currentIndex=-1:this.currentIndex=r,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let n=this.contentNode.children;if(!(!i.dragActive&&!Ys.dragExceeded(i,e))){if(!i.dragActive){let r=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=r.width,i.tabPressPos=i.pressX-r.left):(i.tabPos=i.tab.offsetTop,i.tabSize=r.height,i.tabPressPos=i.pressY-r.top),i.tabPressOffset={x:i.pressX-r.left,y:i.pressY-r.top},i.tabLayout=Ys.snapTabLayout(n,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=tn.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ys.detachExceeded(i,e)){i.detachRequested=!0;let r=i.index,s=e.clientX,o=e.clientY,a=n[r],l=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ys.layoutTabs(n,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=Fe.findFirstIndex(s,c=>si.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ys.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let n=Ys.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ys.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let r=i.index,s=i.targetIndex;s===-1||r===s||(Fe.move(this._titles,r,s),this._adjustCurrentForMove(r,s),this._tabMoved.emit({fromIndex:r,toIndex:s,title:this._titles[s]}),ze.sendMessage(this,ge.Msg.UpdateRequest))},n)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ys.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let n=this.currentTitle,r=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&r===-1){this._currentIndex=e,this._previousTitle=n,this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:e,currentTitle:i});return}r>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let n=this._currentIndex,r=this.removeBehavior;if(n!==e){n>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(r==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(r==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(n){let r=n.title.caption,s=this.createTabKey(n),o=s,a=this.createTabStyle(n),l=this.createTabClass(n),c=this.createTabDataset(n),d=this.createTabARIA(n);return n.title.closable?Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n),this.renderCloseIcon(n)):Se.li({id:o,key:s,className:l,title:r,style:a,dataset:c,...d},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let{title:r}=n,s=this.createIconClass(n);return Se.div({className:s},r.icon,r.iconLabel)}renderLabel(n){return Se.div({className:"lm-TabBar-tabLabel"},n.title.label)}renderCloseIcon(n){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(n){let r=this._tabKeys.get(n.title);return r===void 0&&(r=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(n.title,r)),r}createTabStyle(n){return{zIndex:`${n.zIndex}`}}createTabClass(n){let r="lm-TabBar-tab";return n.title.className&&(r+=` ${n.title.className}`),n.title.closable&&(r+=" lm-mod-closable"),n.current&&(r+=" lm-mod-current"),r}createTabDataset(n){return n.title.dataset}createTabARIA(n){var r;return{role:"tab","aria-selected":n.current.toString(),tabindex:`${(r=n.tabIndex)!==null&&r!==void 0?r:"-1"}`}}createIconClass(n){let r="lm-TabBar-tabIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(Mc||(Mc={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let d=document.createElement("div"),u=document.createElement("ul");u.setAttribute("role","tablist"),u.className="lm-TabBar-content",d.appendChild(u);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),d.appendChild(f),d}t.createNode=e;function i(d){return d instanceof f_?d:new f_(d)}t.asTitle=i;function n(d){let u=window.getComputedStyle(d);return 1e3*(parseFloat(u.transitionDuration)||0)}t.parseTransitionDuration=n;function r(d,u){let f=new Array(d.length);for(let h=0,m=d.length;h<m;++h){let p=d[h],_=window.getComputedStyle(p);u==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=r;function s(d,u){let f=Math.abs(u.clientX-d.pressX),h=Math.abs(u.clientY-d.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(d,u){let f=d.contentRect;return u.clientX<f.left-t.DETACH_THRESHOLD||u.clientX>=f.right+t.DETACH_THRESHOLD||u.clientY<f.top-t.DETACH_THRESHOLD||u.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(d,u,f,h){let m,p,_,y;h==="horizontal"?(m=u.pressX,p=f.clientX-u.contentRect.left,_=f.clientX,y=u.contentRect.width):(m=u.pressY,p=f.clientY-u.contentRect.top,_=f.clientY,y=u.contentRect.height);let S=u.index,T=p-u.tabPressPos,D=T+u.tabSize;for(let k=0,b=d.length;k<b;++k){let M,C=u.tabLayout[k],x=C.pos+(C.size>>1);if(k<u.index&&T<x)M=`${u.tabSize+u.tabLayout[k+1].margin}px`,S=Math.min(S,k);else if(k>u.index&&D>x)M=`${-u.tabSize-C.margin}px`,S=Math.max(S,k);else if(k===u.index){let w=_-m,E=y-(u.tabPos+u.tabSize);M=`${Math.max(-u.tabPos,Math.min(w,E))}px`}else M="";h==="horizontal"?d[k].style.left=M:d[k].style.top=M}u.targetIndex=S}t.layoutTabs=a;function l(d,u){let f;u==="horizontal"?f=d.contentRect.width:f=d.contentRect.height;let h;if(d.targetIndex===d.index)h=0;else if(d.targetIndex>d.index){let _=d.tabLayout[d.targetIndex];h=_.pos+_.size-d.tabSize-d.tabPos}else h=d.tabLayout[d.targetIndex].pos-d.tabPos;let m=f-(d.tabPos+d.tabSize),p=Math.max(-d.tabPos,Math.min(h,m));u==="horizontal"?d.tab.style.left=`${p}px`:d.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(d,u){for(let f of d)u==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ys||(Ys={}));MT=class extends fa{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=p_.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ge.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let n of i.titles)n.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=p_.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():sm()}widgets(){return this._root?this._root.iterUserWidgets():sm()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():sm()}tabBars(){return this._root?this._root.iterTabBars():sm()}handles(){return this._root?this._root.iterHandles():sm()}moveHandle(e,i,n){let r=e.classList.contains("lm-mod-hidden");if(!this._root||r)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=n-e.offsetTop,o!==0&&(s.node.holdSizes(),us.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,n;e.main?n=Qi.normalizeAreaConfig(e.main,i):n=null;let r=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of r)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;n?this._root=Qi.realizeAreaConfig(n,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let n=i.ref||null,r=i.mode||"tab-after",s=null;if(this._root&&n&&(s=this._root.findTabNode(n)),n&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,r){case"tab-after":this._insertTab(e,n,s,!0);break;case"tab-before":this._insertTab(e,n,s,!1);break;case"split-top":this._insertSplit(e,n,s,"vertical",!1);break;case"split-left":this._insertSplit(e,n,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,n,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,n,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,n,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,n,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=si.boxSizing(this.parent.node));let n=this.parent.node.getBoundingClientRect(),r=e-n.left-this._box.borderLeft,s=i-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(r,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:d,height:u}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=n.width-f-(c+d),p=n.height-h-(l+u);return{tabBar:a,x:r,y:s,top:l,left:c,right:m,bottom:p,width:d,height:u}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new au(e)),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Qi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===ge.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=ge.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let n=i.parent;i.parent=null;let r=Fe.removeFirstOf(n.children,i),s=Fe.removeAt(n.handles,r);if(Fe.removeAt(n.sizers,r),s.parentNode&&s.parentNode.removeChild(s),n.children.length>1){n.syncHandles();return}let o=n.parent;n.parent=null;let a=n.children[0],l=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===n){a.parent=null,this._root=a;return}let c=o,d=c.children.indexOf(n);if(a instanceof Qi.TabLayoutNode){a.parent=c,c.children[d]=a;return}let u=Fe.removeAt(c.handles,d);Fe.removeAt(c.children,d),Fe.removeAt(c.sizers,d),u.parentNode&&u.parentNode.removeChild(u);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];Fe.insert(c.children,d+f,m),Fe.insert(c.handles,d+f,p),Fe.insert(c.sizers,d+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Qi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Qi.addAria(e,i.tabBar),i}_insertTab(e,i,n,r){if(e===i)return;if(!this._root){let o=new Qi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Qi.addAria(e,o.tabBar);return}n||(n=this._root.findFirstTabNode()),n.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=n.tabBar.titles.indexOf(i.title):s=n.tabBar.currentIndex,this._hiddenMode===ge.HiddenMode.Scale)if(n.tabBar.titles.length===0)e.hiddenMode=ge.HiddenMode.Display;else if(n.tabBar.titles.length==1){let o=n.tabBar.titles[0].owner;o.hiddenMode=ge.HiddenMode.Scale}else e.hiddenMode=ge.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;n.tabBar.insertTab(s+(r?1:0),e.title),Qi.addAria(e,n.tabBar)}_insertSplit(e,i,n,r,s,o=!1){if(e===i&&n&&n.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!n||!n.parent){let f=this._splitRoot(r),h=s?f.children.length:0;f.normalizeSizes();let m=Qi.createSizer(n?1:Qi.GOLDEN_RATIO),p=this._createTabNode(e);Fe.insert(f.children,h,p),Fe.insert(f.sizers,h,m),Fe.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=n.parent;if(a.orientation===r){let f=a.children.indexOf(n);if(o){let _=f+(s?1:-1),y=a.children[_];if(y instanceof Qi.TabLayoutNode){this._insertTab(e,null,y,!0),++y.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);Fe.insert(a.children,m,p),Fe.insert(a.sizers,m,Qi.createSizer(h)),Fe.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=Fe.removeFirstOf(a.children,n),c=new Qi.SplitLayoutNode(r);c.normalized=!0,c.children.push(n),c.sizers.push(Qi.createSizer(.5)),c.handles.push(this._createHandle()),n.parent=c;let d=s?1:0,u=this._createTabNode(e);Fe.insert(c.children,d,u),Fe.insert(c.sizers,d,Qi.createSizer(.5)),Fe.insert(c.handles,d,this._createHandle()),u.parent=c,c.syncHandles(),Fe.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Qi.SplitLayoutNode&&i.orientation===e)return i;let n=this._root=new Qi.SplitLayoutNode(e);return i&&(n.children.push(i),n.sizers.push(Qi.createSizer(0)),n.handles.push(this._createHandle()),i.parent=n),n}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let n=this._box=si.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=si.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(n,r,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new ua;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function n(f,h,m){let p;return f.type==="tab-area"?p=d(f,h,m):p=u(f,h,m),p}t.realizeAreaConfig=n;class r{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new ua,p=new ua;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,y=1/0,S=1/0,T=m.get(this.tabBar),D=this.tabBar.currentTitle,k=D?m.get(D.owner):void 0,[b,M]=this.sizers;return T&&T.fit(),k&&k.fit(),T&&!T.isHidden?(p=Math.max(p,T.minWidth),_+=T.minHeight,b.minSize=T.minHeight,b.maxSize=T.maxHeight):(b.minSize=0,b.maxSize=0),k&&!k.isHidden?(p=Math.max(p,k.minWidth),_+=k.minHeight,M.minSize=k.minHeight,M.maxSize=1/0):(M.minSize=0,M.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:y,maxHeight:S}}update(h,m,p,_,y,S){this._top=m,this._left=h,this._width=p,this._height=_;let T=S.get(this.tabBar),D=this.tabBar.currentTitle,k=D?S.get(D.owner):void 0;if(us.calc(this.sizers,_),T&&!T.isHidden){let b=this.sizers[0].size;T.update(h,m,p,b),m+=b}if(k&&!k.isHidden){let b=this.sizers[1].size;k.update(h,m,p,b)}}}t.TabLayoutNode=r;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].findSplitNode(h);if(y)return y}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let y=this.children[p].hitTestTabNodes(h,m);if(y)return y}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,y)=>_+y,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,y=p?_:0,S=p?0:_,T=1/0,D=1/0;for(let k=0,b=this.children.length;k<b;++k){let M=this.children[k].fit(h,m);p?(S=Math.max(S,M.minHeight),y+=M.minWidth,this.sizers[k].minSize=M.minWidth):(y=Math.max(y,M.minWidth),S+=M.minHeight,this.sizers[k].minSize=M.minHeight)}return{minWidth:y,minHeight:S,maxWidth:T,maxHeight:D}}update(h,m,p,_,y,S){let T=this.orientation==="horizontal",D=Math.max(0,this.children.length-1)*y,k=Math.max(0,(T?p:_)-D);if(this.normalized){for(let b of this.sizers)b.sizeHint*=k;this.normalized=!1}us.calc(this.sizers,k);for(let b=0,M=this.children.length;b<M;++b){let C=this.children[b],x=this.sizers[b].size,w=this.handles[b].style;T?(C.update(h,m,x,_,y,S),h+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${y}px`,w.height=`${_}px`,h+=y):(C.update(h,m,p,x,y,S),m+=x,w.top=`${m}px`,w.left=`${h}px`,w.width=`${p}px`,w.height=`${y}px`,m+=y)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Mc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let y=0,S=f.children.length;y<S;++y){let T=i(f.children[y],h);T&&(T.type==="tab-area"||T.orientation!==m?(p.push(T),_.push(Math.abs(f.sizes[y]||0))):(p.push(...T.children),_.push(...T.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function d(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new r(p)}function u(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,y)=>{let S=n(_,h,m),T=e(f.sizes[y]),D=h.createHandle();p.children.push(S),p.handles.push(D),p.sizers.push(T),S.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Qi||(Qi={}));cu=class extends ge{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Ie(this),this._addRequested=new Ie(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||cu.defaultRenderer,this._edges=e.edges||Vi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new MT({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new cu.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let n of i.tabBars())n.show();break;case"single-document":i.restoreLayout(Vi.createSingleDocumentConfig(this));break;default:throw"unreachable"}ze.postMessage(this,Vi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=bT(this.tabBars(),n=>n.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(ru.IS_EDGE||ru.IS_IE)&&ze.flush(),ze.postMessage(this,Vi.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),ze.postMessage(this,Vi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Vi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Vi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),ze.postMessage(this,Vi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:n}=e,{zone:r,target:s}=Vi.findDropTarget(this,i,n,this._edges);if(this._tabsConstrained&&e.source!==this||r==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof ge)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Vi.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),ze.postMessage(this,Vi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,n=e.target,r=bT(i.handles(),d=>d.contains(n));if(!r)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=r.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(r),c=tn.overrideCursor(l.cursor,this._document);this._pressData={handle:r,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),n=e.clientX-i.left-this._pressData.deltaX,r=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,r)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),ze.postMessage(this,Vi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:n,target:r}=Vi.findDropTarget(this,e,i,this._edges);if(n==="invalid")return this.overlay.hide(100),n;let s,o,a,l,c=si.boxSizing(this.node),d=this.node.getBoundingClientRect();switch(n){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=d.height*Vi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=d.width*Vi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=d.width*Vi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=d.height*Vi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=r.top,o=r.left,a=r.right,l=r.bottom;break;case"widget-top":s=r.top,o=r.left,a=r.right,l=r.bottom+r.height/2;break;case"widget-left":s=r.top,o=r.left,a=r.right+r.width/2,l=r.bottom;break;case"widget-right":s=r.top,o=r.left+r.width/2,a=r.right,l=r.bottom;break;case"widget-bottom":s=r.top+r.height/2,o=r.left,a=r.right,l=r.bottom;break;case"widget-tab":{let u=r.tabBar.node.getBoundingClientRect().height;s=r.top,o=r.left,a=r.right,l=r.bottom+r.height-u;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),n}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Vi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){ze.postMessage(this,Vi.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:n,currentTitle:r}=i;n&&n.owner.hide(),r&&r.owner.show(),(ru.IS_EDGE||ru.IS_IE)&&ze.flush(),ze.postMessage(this,Vi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:n,tab:r,clientX:s,clientY:o,offset:a}=i,l=new Ml.MimeData,c=()=>n.owner;l.setData("application/vnd.lumino.widget-factory",c);let d=r.cloneNode(!0);a&&(d.style.top=`-${a.y}px`,d.style.left=`-${a.x}px`),this._drag=new tn({document:this._document,mimeData:l,dragImage:d,proposedAction:"move",supportedActions:"move",source:this}),r.classList.add("lm-mod-hidden");let u=()=>{this._drag=null,r.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(u)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(r){let s=this.node.style;s.top=`${r.top}px`,s.left=`${r.left}px`,s.right=`${r.right}px`,s.bottom=`${r.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(r){if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},r))}}}t.Overlay=e;class i{createTabBar(r){let s=new Mc({document:r});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let r=document.createElement("div");return r.className="lm-DockPanel-handle",r}}t.Renderer=i,t.defaultRenderer=new i})(cu||(cu={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new Ec("layout-modified"),t.isGeneratedTabBarProperty=new mt({name:"isGeneratedTabBar",create:()=>!1});function e(r){if(r.isEmpty)return{main:null};let s=Array.from(r.widgets()),o=r.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(r,s,o,a){if(!si.hitTest(r.node,s,o))return{zone:"invalid",target:null};let l=r.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){let T=r.node.getBoundingClientRect(),D=s-T.left+1,k=o-T.top+1,b=T.right-s,M=T.bottom-o;switch(Math.min(k,b,M,D)){case k:if(k<a.top)return{zone:"root-top",target:null};break;case b:if(b<a.right)return{zone:"root-right",target:null};break;case M:if(M<a.bottom)return{zone:"root-bottom",target:null};break;case D:if(D<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:c};let d=c.x-c.left+1,u=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(u<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(d>p&&f>p&&u>_&&h>_)return{zone:"widget-all",target:c};d/=p,u/=_,f/=p,h/=_;let y=Math.min(d,u,f,h),S;switch(y){case d:S="widget-left";break;case u:S="widget-top";break;case f:S="widget-right";break;case h:S="widget-bottom";break;default:throw"unreachable"}return{zone:S,target:c}}t.findDropTarget=i;function n(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}t.getDropRef=n})(Vi||(Vi={}));El=class extends fa{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new ua],this._columnSizers=[new ua],this._box=null,e.rowCount!==void 0&&bn.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&bn.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=bn.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=bn.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(bn.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(bn.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=bn.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=bn.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let n=this._rowSizers[e];n&&(i=bn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let n=this._columnSizers[e];n&&(i=bn.clampValue(i),n.stretch!==i&&(n.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){Fe.findFirstIndex(this._items,n=>n.widget===e)===-1&&(this._items.push(new au(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=Fe.findFirstIndex(this._items,r=>r.widget===e);if(i===-1)return;let n=Fe.removeAt(this._items,i);this.parent&&this.detachWidget(e),n.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,n=this.columnCount-1;e.sort(bn.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=El.getCellConfig(d.widget),f=Math.min(u.row,i),h=Math.min(u.row+u.rowSpan-1,i);bn.distributeMin(this._rowSizers,f,h,d.minHeight)}e.sort(bn.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let d=e[l],u=El.getCellConfig(d.widget),f=Math.min(u.column,n),h=Math.min(u.column+u.columnSpan-1,n);bn.distributeMin(this._columnSizers,f,h,d.minWidth)}if(this.fitPolicy==="set-no-constraint"){ze.sendMessage(this.parent,ge.Msg.UpdateRequest);return}let r=i*this._rowSpacing,s=n*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)r+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=si.boxSizing(this.parent.node);s+=o.horizontalSum,r+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${r}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=si.boxSizing(this.parent.node));let n=this._box.paddingTop,r=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,d=l*this._columnSpacing;us.calc(this._rowSizers,Math.max(0,o-c)),us.calc(this._columnSizers,Math.max(0,s-d));for(let u=0,f=n,h=this.rowCount;u<h;++u)this._rowStarts[u]=f,f+=this._rowSizers[u].size+this._rowSpacing;for(let u=0,f=r,h=this.columnCount;u<h;++u)this._columnStarts[u]=f,f+=this._columnSizers[u].size+this._columnSpacing;for(let u=0,f=this._items.length;u<f;++u){let h=this._items[u];if(h.isHidden)continue;let m=El.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),y=Math.min(m.row+m.rowSpan-1,a),S=Math.min(m.column+m.columnSpan-1,l),T=this._columnStarts[_],D=this._rowStarts[p],k=this._columnStarts[S]+this._columnSizers[S].size-T,b=this._rowStarts[y]+this._rowSizers[y].size-D;h.update(T,D,k,b)}}};(function(t){function e(n){return bn.cellConfigProperty.get(n)}t.getCellConfig=e;function i(n,r){bn.cellConfigProperty.set(n,bn.normalizeConfig(r))}t.setCellConfig=i})(El||(El={}));(function(t){t.cellConfigProperty=new mt({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),d=Math.max(0,Math.floor(l.column||0)),u=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:d,rowSpan:u,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function n(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.rowSpan-u.rowSpan}t.rowSpanCmp=n;function r(l,c){let d=t.cellConfigProperty.get(l.widget),u=t.cellConfigProperty.get(c.widget);return d.columnSpan-u.columnSpan}t.columnSpanCmp=r;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new ua);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,d,u){if(d<c)return;if(c===d){let m=l[c];m.minSize=Math.max(m.minSize,u);return}let f=0;for(let m=c;m<=d;++m)f+=l[m].minSize;if(f>=u)return;let h=(u-f)/(d-c+1);for(let m=c;m<=d;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof El&&l.parent.fit()}})(bn||(bn={}));dm=class extends ge{constructor(e={}){super({node:Ry.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(ge.Flag.DisallowLayout),this.renderer=e.renderer||dm.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,n=!0){this._closeChildMenu();let r=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(r===-1){Fe.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),n&&this.update();return}s===this._menus.length&&s--,r!==s&&(Fe.move(this._menus,r,s),n&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let n=Fe.removeAt(this._menus,e);n&&(n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let n=this._menus,r=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:n.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let d=new Array(a);for(let u=0;u<a;++u)d[u]=r.renderItem({title:n[u].title,active:u===s,tabbable:u===o,disabled:n[u].items.length===0,onfocus:()=>{this._tabFocusIndex=u,this.activeIndex=u}}),l+=this._menuItemSizes[u],n[u].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let u=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new ha({commands:new Zn}),this._overflowMenu.title.label=u,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let u=n.length-2;u>=a;u--){let f=this.menus[u];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}d[a]=r.renderItem({title:this._overflowMenu.title,active:a===s&&n[a].items.length!==0,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let u=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=n.length-1-m;if(f-l>this._menuItemSizes[p]){let _=u[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),d[a]=r.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:n[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),d.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Zt.render(d,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,n=0,r=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];n+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),n>i&&r===-1&&(r=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(n+=this._menuItemSizes[o],n>i){r=o;break}this._overflowIndex=r}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let d=(l+a+o*c)%l;if(this._menus[d].items.length){this._focusItemAt(d);return}}return}let n=Ss().keyForKeydownEvent(e);if(!n)return;let r=this._activeIndex+1,s=Ry.findMnemonic(this._menus,n,r);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!si.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=Fe.findFirstIndex(this.contentNode.children,n=>si.hitTest(n,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let n=this._positionForMenu(i);ha.saveWindowData(),this.activeIndex=i,this._openChildMenu(n)}}_evtMouseMove(e){let i=Fe.findFirstIndex(this.contentNode.children,r=>si.hitTest(r,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let n=i>=0&&this._childMenu?this._positionForMenu(i):null;ha.saveWindowData(),this.activeIndex=i,n&&this._openChildMenu(n)}_positionForMenu(e){let i=this.contentNode.children[e],{left:n,bottom:r}=i.getBoundingClientRect();return{top:r,left:n}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let n=this._childMenu;if(n===i)return;this._childMenu=i,n?n.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,ze.sendMessage(this,ge.Msg.UpdateRequest);let{left:r,top:s}=e;(typeof r>"u"||typeof s>"u")&&({left:r,top:s}=this._positionForMenu(this._activeIndex)),n||this.addClass("lm-mod-active"),i.items.length>0&&i.open(r,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let n=this._activeIndex,r=this._menus.length;switch(i){case"next":this.activeIndex=n===r-1?0:n+1;break;case"previous":this.activeIndex=n===0?r-1:n-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(n){let r=this.createItemClass(n),s=this.createItemDataset(n),o=this.createItemARIA(n);return Se.li({className:r,dataset:s,...n.disabled?{}:{tabindex:n.tabbable?"0":"-1"},onfocus:n.onfocus,...o},this.renderIcon(n),this.renderLabel(n))}renderIcon(n){let r=this.createIconClass(n);return Se.div({className:r},n.title.icon,n.title.iconLabel)}renderLabel(n){let r=this.formatLabel(n);return Se.div({className:"lm-MenuBar-itemLabel"},r)}createItemClass(n){let r="lm-MenuBar-item";return n.title.className&&(r+=` ${n.title.className}`),n.active&&!n.disabled&&(r+=" lm-mod-active"),r}createItemDataset(n){return n.title.dataset}createItemARIA(n){return{role:"menuitem","aria-haspopup":"true","aria-disabled":n.disabled?"true":"false"}}createIconClass(n){let r="lm-MenuBar-itemIcon",s=n.title.iconClass;return s?`${r} ${s}`:r}formatLabel(n){let{label:r,mnemonic:s}=n.title;if(s<0||s>=r.length)return r;let o=r.slice(0,s),a=r.slice(s+1),l=r[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(dm||(dm={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",n.appendChild(r),r.setAttribute("role","menubar"),n}t.createNode=e;function i(n,r,s){let o=-1,a=-1,l=!1,c=r.toUpperCase();for(let d=0,u=n.length;d<u;++d){let f=(d+s)%u,h=n[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(Ry||(Ry={}));(function(t){function e(){let n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return r.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",r.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),n.appendChild(r),n.appendChild(o),n.appendChild(s),n}t.createNode=e;function i(n,r){return n.thumbNode.contains(r)?"thumb":n.trackNode.contains(r)?"track":n.decrementNode.contains(r)?"decrement":n.incrementNode.contains(r)?"increment":null}t.findPart=i})(m5||(m5={}));p5=class extends fa{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach)}},IT=class extends lm{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ge.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===ge.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=ge.HiddenMode.Scale),i.hiddenMode=ge.HiddenMode.Scale):i.hiddenMode=ge.HiddenMode.Display,Fe.insert(this._items,e,new au(i)),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,n){Fe.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let n=Fe.removeAt(this._items,e);this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===ge.HiddenMode.Scale&&(i.hiddenMode=ge.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=ge.HiddenMode.Display)),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let n=this._box=si.boxSizing(this.parent.node);e+=n.horizontalSum,i+=n.verticalSum;let r=this.parent.node.style;r.minWidth=`${e}px`,r.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let n=0;for(let l=0,c=this._items.length;l<c;++l)n+=+!this._items[l].isHidden;if(n===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=si.boxSizing(this.parent.node));let r=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let d=this._items[l];d.isHidden||(d.widget.node.style.zIndex=`${l}`,d.update(s,r,o,a))}}};(function(t){function e(i){return i.layout||new IT}t.createLayout=e})(g5||(g5={}));(function(t){function e(s){return n[s]}t.orientationFromPlacement=e;function i(s){return r[s]}t.directionFromPlacement=i;let n={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(_5||(_5={}))});var b5,x5,RX,AX,y5,TT,w5,C5=$(()=>{r1();mp();v5();b5=P(se()),x5=P(r6()),RX="jp-RenderedJSON",AX="application/json",y5=["text/jsonl","application/jsonl","application/json-lines"],TT=class extends ge{constructor(e){super(),this._rootDOM=null,this.addClass(RX),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||ro}[n1.symbol](){return()=>n1.printWidget(this)}async renderModel(e){let{Component:i}=await import("/myst_assets_folder/_shared/component-L647SA25.js"),n;if(y5.indexOf(this._mimeType)>=0){let s=(e.data[this._mimeType]||"").trim().split(/\n/);n=JSON.parse(`[${s.join(",")}]`)}else n=e.data[this._mimeType]||{};let r=e.metadata[this._mimeType]||{};return this._rootDOM===null&&(this._rootDOM=(0,x5.createRoot)(this.node)),new Promise((s,o)=>{this._rootDOM.render(b5.createElement(i,{data:n,metadata:r,translator:this.translator,forwardedRef:()=>s()}))})}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}},w5={safe:!0,mimeTypes:[AX,...y5],createRenderer:t=>new TT(t)}});var um,RT=$(()=>{hm();Ua();um=class{constructor(e={},i){var n,r,s,o,a,l,c;this._events=(n=i?.events)!==null&&n!==void 0?n:new od,this._options={mathjaxUrl:(r=e.mathjaxUrl)!==null&&r!==void 0?r:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:(s=e.mathjaxConfig)!==null&&s!==void 0?s:"TeX-AMS_CHTML-full,Safe"},this._binderOptions=AT((o=e.binderOptions)!==null&&o!==void 0?o:{}),this._savedSessions=kT((a=e.savedSessionOptions)!==null&&a!==void 0?a:{}),this._kernelOptions=LT((l=e.kernelOptions)!==null&&l!==void 0?l:{}),this._serverSettings=NT((c=e.serverSettings)!==null&&c!==void 0?c:{}),console.debug("thebe:config:constructor",this)}get events(){return this._events}get base(){return this._options}get mathjax(){return{mathjaxUrl:this._options.mathjaxUrl,mathjaxConfig:this._options.mathjaxConfig}}get binder(){return this._binderOptions}get savedSessions(){return this._savedSessions}get kernels(){return this._kernelOptions}get serverSettings(){return this._serverSettings}set serverSettings(e){this._serverSettings=e}}});function AT(t){return Object.assign({repo:"executablebooks/thebe-binder-base",ref:"HEAD",binderUrl:"https://mybinder.org",repoProvider:"github"},t)}function kT(t){return Object.assign({enabled:!0,maxAge:86400,storagePrefix:"thebe-binder"},t)}function LT(t){var e,i;return{path:(e=t.path)!==null&&e!==void 0?e:"/",kernelName:(i=t.kernelName)!==null&&i!==void 0?i:"python"}}function NT(t){var e,i;let n=(e=t.baseUrl)!==null&&e!==void 0?e:"http://localhost:8888",r=(i=t.wsUrl)!==null&&i!==void 0?i:n.replace(/^http/,"ws");return Object.assign(Object.assign({token:$r(),appendToken:!0},t),{wsUrl:r,baseUrl:n})}function __(t){return Object.assign({mathjaxUrl:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:"TeX-AMS_CHTML-full,Safe"},t)}function OT(t,e){return new um(t,{events:e})}function kX(t,e){let i=new um(t,{events:e});return Object.assign(Object.assign({},i.base),{binderOptions:i.binder,savedSessionOptions:i.savedSessions,kernelOptions:i.kernels,serverSettings:i.serverSettings})}var hm=$(()=>{RT();Sc()});function S5(t){DT==null&&(DT=LX.filter(i=>i.mimeTypes.indexOf("text/latex")>=0?t.mathjaxUrl?!0:(console.debug("thebe:getRenderers MathJax unavailable"),!1):!0));let e;return t.mathjaxUrl&&t.mathjaxConfig&&(e=new Sy({url:t.mathjaxUrl,config:t.mathjaxConfig})),{initialFactories:[...DT],latexTypesetter:e}}function v_(t){let e=new rc(S5(t??__()));return e.addFactory(w5,10),e}var LX,DT,Ay=$(()=>{i0();n5();r5();C5();hm();LX=[YD,JD,XD,ZD,KD,vT,ez,QD],DT=null});var zT,fm,ky=$(()=>{Ay();yS();hm();FC();Lb();zT=class{constructor(e,i,n){this.id=e,this.rendermime=i??v_(n??__()),this.model=new ta({trusted:!0}),this.area=new ss({model:this.model,rendermime:this.rendermime})}get outputs(){return this.model.toJSON()}get isAttachedToDOM(){return this.area.isAttached}attachToDOM(e,i=!1){if(!this.area||!e){console.error(`thebe:renderer:attachToDOM - could not attach to DOM - area: ${this.area}, el: ${e}`);return}if(this.area.isAttached){if(console.debug("thebe:renderer:attachToDOM - already attached"),i)return}else console.debug(`thebe:renderer:attachToDOM ${this.id} - appending existing contents`),e.innerHTML&&this.area.model.add({output_type:"display_data",data:{"text/html":e.innerHTML}});e.textContent="";let n=document.createElement("div");n.style.position="relative",n.className="thebe-output",e.append(n),Ae.sendMessage(this.area,fe.Msg.BeforeAttach),n.appendChild(this.area.node),Ae.sendMessage(this.area,fe.Msg.AfterAttach)}setOutputText(e){this.area&&(this.area.model.clear(!0),this.area.model.add({output_type:"stream",name:"stdout",text:e}))}clear(){this.area&&this.area.model.clear()}clearOnError(e){this.area&&(this.area.model.clear(),this.area.model.add({output_type:"stream",name:"stderr",text:`Failed to execute. ${e??""} Please refresh the page.`}))}render(e){this.model.fromJSON(e)}},fm=zT});var b_,x_,PT=$(()=>{Pi();ky();Ua();d_();Sc();b_=class extends fm{constructor(e,i,n,r,s,o){super(e,o),this.kind="code",this.events=new da(e,r,uo.cell,this),this.notebookId=i,this.source=n,this.metadata=s,this.busy=!1,this.executionCount=null,this.initialOutputs=[],console.debug("thebe:cell constructor",this)}static fromICodeCell(e,i,n,r){var s;let o=new b_((s=e.id)!==null&&s!==void 0?s:$r(),i,im(e.source),n,e.metadata,r);return Object.assign(o.metadata,e.metadata),o}get isBusy(){return this.busy}get isAttached(){return this.session!==void 0}get tags(){var e;return(e=this.metadata.tags)!==null&&e!==void 0?e:[]}attachSession(e){this.session=e,this.events.triggerStatus({status:Ql.attached,message:"Attached to session"})}detachSession(){this.session=void 0,this.events.triggerStatus({status:Ql.detached,message:"Detached from session"})}setAsBusy(){console.debug(`thebe:renderer:message:busy ${this.id}`),this.busy=!0,this.events.triggerStatus({status:Ql.executing,message:"Executing..."})}setAsIdle(){console.debug(`thebe:renderer:message:completed ${this.id}`),this.busy=!1,this.events.triggerStatus({status:Ql.idle,message:"Completed"})}initOutputs(e){this.initialOutputs=e,this.render(e),this.executionCount=null}reset(){this.render(this.initialOutputs),this.executionCount=null}execute(e){return ft(this,void 0,void 0,function*(){if(!this.session||!this.session.kernel)return console.warn("Attempting to execute on a cell without an attached kernel"),null;let i=e??this.source;try{console.debug(`thebe:renderer:execute ${this.id}`),this.isBusy||this.setAsBusy(),this.area.future=this.session.kernel.requestExecute({code:i});let n=yield this.area.future.done;this.executionCount=n.content.execution_count;let r;for(let s=0;s<this.model.length;s++){let o=this.model.get(s);if(console.debug("thebecell:execute:output",{out:o.toJSON()}),o.type==="error"){let a=o.toJSON();a.ename==="stderr"?this.events.triggerError({status:jn.warning,message:kb(a)}):(r?r?.push(a):r=[a],this.events.triggerError({status:jn.executeError,message:kb(a)}))}}return this.setAsIdle(),{id:this.id,height:this.area.node.offsetHeight,width:this.area.node.offsetWidth,error:r}}catch(n){return console.error("thebe:renderer:execute Error:",n),this.clearOnError(n),this.events.triggerError(n.message),null}})}},x_=b_});var Il,BT=$(()=>{Pi();ky();Sc();Il=class extends fm{constructor(e,i,n,r,s){super(e,s),this.kind="markdown",this.id=e,this.notebookId=i,this.source=n,this.busy=!1,this.metadata=r}static fromICell(e,i,n){return new Il(typeof e.id=="string"?e.id:$r(),i,im(e.source),e.metadata,n)}get isAttachedToDOM(){return!1}get isBusy(){return!1}get isAttached(){return!1}get executionCount(){return null}setAsBusy(){}setAsIdle(){}initOutputs(e){}reset(){}attachToDOM(e){}attachSession(e){}detachSession(){}setOutputText(e){}clear(){}clearOnError(e){}messageBusy(){}messageCompleted(){}messageError(e){}render(e){}get tags(){return[]}get outputs(){return[]}execute(e){return ft(this,void 0,void 0,function*(){return{id:this.id,height:0,width:0}})}}});var mm,y_,jT=$(()=>{Pi();PT();Sc();Ua();d_();BT();mm=class{constructor(e,i,n){this.id=e,this.events=new da(e,i,uo.notebook,this),this.cells=[],this.metadata={},this.rendermime=n,console.debug("thebe:notebook constructor",this)}static fromCodeBlocks(e,i,n){let r=$r(),s=new mm(r,i,n);return s.cells=e.map(o=>{let a={},l=new x_(o.id,r,o.source,i,a,s.rendermime);return console.debug(`thebe:notebook:fromCodeBlocks Initializing cell ${o.id}`),l}),s}static fromIpynb(e,i,n){let r=new mm($r(),i,n);return Object.assign(r.metadata,e.metadata),r.cells=e.cells.map(s=>s.cell_type==="code"?x_.fromICodeCell(s,r.id,i,r.rendermime):Il.fromICell(s,r.id,r.rendermime)),r}get parameters(){let e=this.findCells("parameters");if(!(!e||e?.length===0))return e.length>1&&console.warn(`Mulitple parameter cells found in notebook ${this.id}`),e}get widgets(){var e;return(e=this.findCells("widget"))!==null&&e!==void 0?e:[]}get last(){if(this.cells.length===0)throw new Error("empty notebook");return this.cells[this.cells.length-1]}get markdown(){return this.cells.filter(e=>e.kind==="markdown")}get code(){return this.cells.filter(e=>e.kind==="code")}reset(){this.cells.forEach(e=>e.reset())}numCells(){var e,i;return(i=(e=this.cells)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0}findCells(e){let i=this.cells.filter(n=>n.tags.includes(e));return i.length>0?i:void 0}getCell(e){if(!this.cells)throw Error("Dag not initialized");if(e>=this.cells.length)throw Error(`Notebook.cells index out of range: ${e}:${this.cells.length}`);return this.cells[e]}getCellById(e){var i;return(i=this.cells)===null||i===void 0?void 0:i.find(r=>r.id===e)}lastCell(){if(!this.cells)throw Error("Notebook not initialized");return this.cells[this.cells.length-1]}updateParameters(e,i=!1){if(i)throw new Error("Not implemented yet");this.parameters&&(this.parameters[0].source=e)}waitForKernel(e){return ft(this,void 0,void 0,function*(){return e.then(i=>(this.attachSession(i),i))})}attachSession(e){var i;if(!e.kernel)throw Error("ThebeNotebook - cannot connect to session, no kernel");this.session=e,(i=this.cells)===null||i===void 0||i.forEach(n=>n.session=e),this.events.triggerStatus({status:zr.attached,message:"Attached to session"})}detachSession(){var e;(e=this.cells)===null||e===void 0||e.map(i=>i.session=void 0),this.session=void 0,this.events.triggerStatus({status:zr.detached,message:"Detached from session"})}clear(){this.cells.forEach(e=>e.clear())}executeUpTo(e,i=!1,n){return ft(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:zr.executing,message:`executeUpTo ${e}`});let r=this.cells.findIndex(a=>a.id===e);if(r===-1)return[];let s=this.cells.slice(0,r+1);s.map(a=>a.setAsBusy());let o=yield this.executeCells(s.map(a=>a.id),i,n);return this.events.triggerStatus({status:zr.idle,message:`executeUpTo ${e}`}),o})}executeOnly(e,i){return ft(this,void 0,void 0,function*(){if(!this.cells)return null;this.events.triggerStatus({status:zr.executing,message:`executeOnly ${e}`});let n=yield this.executeCells([e],!1,i);return this.events.triggerStatus({status:zr.idle,message:`executeUpTo ${e}`}),n[0]})}executeCells(e,i=!1,n){return ft(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:zr.executing,message:`executeCells ${e.length} cells`});let r=this.cells.filter(o=>{let a=e.find(l=>l===o.id);return a||console.warn(`Cell ${o.id} not found in notebook`),Boolean(a)}),s=[];if(i){let o=!1;for(let a of r){if(o)continue;let l=yield a.execute(n?n(a.source):a.source);(l==null||l.error)&&(o=!0),s.push(l)}}else s=yield Promise.all(r.map(o=>o.execute(n?n(o.source):o.source)));return this.events.triggerStatus({status:zr.idle,message:`executeCells executed ${e.length} cells`}),s})}executeAll(e=!1,i){return ft(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:zr.executing,message:"executeAll"}),this.cells.map(r=>r.setAsBusy());let n=yield this.executeCells(this.cells.map(r=>r.id),e,i);return this.events.triggerStatus({status:zr.idle,message:"executeAll"}),n})}},y_=mm});var NX,w_,HT=$(()=>{NX="0.4.10",w_=NX});function E5(t){let e=new nu(t);return console.debug("thebe:api:connect binder \u{1F4E1}",t.binder),e.connectToServerViaBinder(),e}function M5(t){let e=new nu(t);return console.debug("thebe:api:connect direct \u{1F50C}",t.serverSettings),e.connectToJupyterServer(),e}function I5(t){let e=new nu(t);return console.debug("thebe:api:connect JupyterLite \u{1F918}"),e.connectToJupyterLiteServer(),e}function T5(){return new od}function R5(t){return new nu(t)}function A5(t,e,i){return y_.fromCodeBlocks(t,e,i)}function k5(t,e,i){return y_.fromIpynb(t,e,i)}function FT(){var t;console.debug(`thebe-core (v${w_})`,{coreModule:C_}),window.thebeCore=Object.assign((t=window.thebeCore)!==null&&t!==void 0?t:{},{module:C_,api:{makeConfiguration:OT,makeEvents:T5,makeServer:R5,makeRenderMimeRegistry:v_,connectToBinder:E5,connectToJupyter:M5,connectToJupyterLite:I5,setupNotebookFromBlocks:A5,setupNotebookFromIpynb:k5},version:w_})}var WT=$(()=>{gT();jT();Ua();hm();Ay();$T();HT()});var L5=$(()=>{WT();typeof window<"u"&&FT()});var N5=$(()=>{});var C_={};Uu(C_,{CellStatusEvent:()=>Ql,Config:()=>um,ErrorStatusEvent:()=>jn,EventSubject:()=>uo,KernelStatusEvent:()=>AC,NotebookStatusEvent:()=>zr,PassiveCellRenderer:()=>fm,ServerStatusEvent:()=>Ki,SessionStatusEvent:()=>zs,ThebeCodeCell:()=>x_,ThebeEventType:()=>Gh,ThebeEvents:()=>od,ThebeManager:()=>c_,ThebeMarkdownCell:()=>Il,ThebeNotebook:()=>y_,ThebeServer:()=>nu,ThebeSession:()=>u_,WIDGET_MIMETYPE:()=>l_,clearAllSavedSessions:()=>eD,clearSavedSession:()=>tD,connectToBinder:()=>E5,connectToJupyter:()=>M5,connectToJupyterLite:()=>I5,ensureCoreOptions:()=>kX,ensureString:()=>im,errorToMessage:()=>kb,getRenderers:()=>S5,isMimeBundle:()=>VH,makeBinderOptions:()=>AT,makeConfiguration:()=>OT,makeEvents:()=>T5,makeKernelOptions:()=>LT,makeMathjaxOptions:()=>__,makeRenderMimeRegistry:()=>v_,makeSavedSessionOptions:()=>kT,makeServer:()=>R5,makeServerSettings:()=>NT,placeholder:()=>GH,setupNotebookFromBlocks:()=>A5,setupNotebookFromIpynb:()=>k5,setupThebeCore:()=>FT,shortId:()=>$r,stripWidgets:()=>bX,version:()=>w_});var $T=$(()=>{gT();mT();jT();PT();BT();ky();HT();hm();Ua();WT();L5();Sc();yy();Ay();N5();RT();RC()});var gm=Ve(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.useThebeLoader=Ic.ThebeBundleLoaderProvider=Ic.ThebeLoaderProvider=void 0;var qT=(Pi(),Ia(Vc)),pm=me(),Ks=qT.__importStar(se()),O5=qT.__importDefault(TC()),UT=Ks.default.createContext(void 0);function OX({start:t,children:e}){let[i,n]=(0,Ks.useState)(t),[r,s]=(0,Ks.useState)(!1),[o,a]=(0,Ks.useState)(),[l,c]=(0,Ks.useState)();return(0,Ks.useEffect)(()=>{!i||o||(s(!0),console.debug(`thebe-react (v${O5.default}) importing thebe-core...`),Promise.resolve().then(()=>qT.__importStar(($T(),Ia(C_)))).then(d=>{console.debug(`thebe-core (v${d.version}) loaded`),a(d),s(!1)}).catch(({message:d})=>{console.debug(`thebe-core load failed ${d}`),c(d),s(!1)}))},[i]),(0,pm.jsx)(UT.Provider,Object.assign({value:{core:o,error:l,loading:r,load:()=>n(!0)}},{children:(0,pm.jsx)(pm.Fragment,{children:e})}))}Ic.ThebeLoaderProvider=OX;function DX({start:t,loadThebeLite:e,publicPath:i,children:n,options:r={}}){let[s,o]=(0,Ks.useState)(t),[a,l]=(0,Ks.useState)(!1),[c,d]=(0,Ks.useState)(),[u,f]=(0,Ks.useState)();return(0,Ks.useEffect)(()=>{var h;if(!(!s||c)&&(l(!0),console.debug(`thebe-react (v${O5.default}) importing thebe-core...`),typeof document<"u"&&typeof window<"u"))try{if(!window.thebeCore){let _=document.createElement("script");_.setAttribute("src",`${i??""}/thebe-core.min.js`),_.setAttribute("async","true"),_.setAttribute("type","text/javascript"),document.head.appendChild(_)}if(e){let _=document.createElement("script");_.setAttribute("src",`${i??""}/thebe-lite.min.js`),_.setAttribute("async","true"),_.setAttribute("type","text/javascript"),document.head.appendChild(_)}let m=0,p=setInterval(()=>{var _,y,S,T,D,k;window.thebeCore&&(window.thebeLite||!e)&&(l(!1),d((_=window.thebeCore)===null||_===void 0?void 0:_.module),console.debug(`thebe-core (v${(S=(y=window.thebeCore)===null||y===void 0?void 0:y.version)!==null&&S!==void 0?S:"0"}) loaded`),window.thebeLite&&console.debug(`thebe-lite (v${(D=(T=window.thebeLite)===null||T===void 0?void 0:T.version)!==null&&D!==void 0?D:"0"}) loaded`),clearInterval(p)),m>((k=r?.attempts)!==null&&k!==void 0?k:50)&&(f("thebe-core load failed"),l(!1),clearInterval(p),console.warn("thebe load timed out"),window.thebeCore||console.debug("thebe-core failed to load"),window.thebeLite||console.debug("thebe-lite failed to load")),m+=1},(h=r?.delay)!==null&&h!==void 0?h:300)}catch(m){f(m),l(!1)}},[s]),(0,pm.jsx)(UT.Provider,Object.assign({value:{core:c,error:u,loading:a,load:()=>o(!0)}},{children:(0,pm.jsx)(pm.Fragment,{children:n})}))}Ic.ThebeBundleLoaderProvider=DX;function zX(){let t=Ks.default.useContext(UT);return t??{loading:!1,load:()=>({})}}Ic.useThebeLoader=zX});var S_=Ve(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.useThebeServer=rr.useDisposeThebeServer=rr.useThebeConfig=rr.ThebeServerProvider=rr.ThebeServerContext=void 0;var VT=(Pi(),Ia(Vc)),PX=me(),$n=VT.__importStar(se()),D5=gm();rr.ThebeServerContext=$n.default.createContext(void 0);function BX({connect:t=!0,config:e,options:i,useBinder:n,useJupyterLite:r,customConnectFn:s,customRepoProviders:o,events:a,children:l}){var c;let{core:d}=(0,D5.useThebeLoader)(),[u,f]=(0,$n.useState)(t),[h,m]=(0,$n.useState)(!1),[p,_]=(0,$n.useState)(),[y,S]=(0,$n.useState)(!1),[T,D]=(0,$n.useState)(),k=(0,$n.useMemo)(()=>e??d?.makeConfiguration(i??{},a),[d,i]);(0,$n.useEffect)(()=>{if(!d||!k||p)return;let M=new d.ThebeServer(k),C=(x,w)=>{let E=[d.EventSubject.server,d.EventSubject.session,d.EventSubject.kernel];w.subject&&E.includes(w.subject)&&D(`${w.status} - ${w.message}`)};k.events.on(d.ThebeEventType.error,C),_(M)},[d,k,p]);let b=()=>{if(p)return m(!0),s?s(p):n?p.connectToServerViaBinder(o):r?p.connectToJupyterLiteServer({litePluginSettings:{"@jupyterlite/pyodide-kernel-extension:kernel":{pipliteUrls:["https://unpkg.com/@jupyterlite/pyodide-kernel@0.4.2/pypi/all.json"],pipliteWheelUrl:"https://unpkg.com/@jupyterlite/pyodide-kernel@0.4.2/pypi/piplite-0.4.2-py3-none-any.whl"}}}):p.connectToJupyterServer(),p.ready.then(()=>{m(!1),S(!0)},()=>{m(!1),S(!1)}),p.ready};return(0,$n.useEffect)(()=>{!d||!k||!p||!u||p.isReady&&p.userServerUrl||b()},[p,u]),(0,PX.jsx)(rr.ThebeServerContext.Provider,Object.assign({value:{config:k,events:a??k?.events,server:p,connecting:h,ready:((c=p?.isReady)!==null&&c!==void 0?c:!1)&&y,connect:b,disconnect:()=>VT.__awaiter(this,void 0,void 0,function*(){d&&k&&p&&(p.dispose(),_(new d.ThebeServer(k))),S(!1),f(!1),m(!1),D(void 0)}),error:T}},{children:l}))}rr.ThebeServerProvider=BX;function jX(){let t=(0,$n.useContext)(rr.ThebeServerContext);if(t===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");return{config:t.config}}rr.useThebeConfig=jX;function HX(){let[t,e]=(0,$n.useState)(!1),i=(0,$n.useContext)(rr.ThebeServerContext);if(i===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");let{server:n,ready:r}=i;return(0,$n.useEffect)(()=>{!n||!r||Promise.resolve().then(()=>VT.__awaiter(this,void 0,void 0,function*(){yield n.shutdownAllSessions(),n.dispose(),e(!0)}))},[r,n]),t}rr.useDisposeThebeServer=HX;function FX(){let t=(0,D5.useThebeLoader)(),{core:e}=t??{},i=(0,$n.useContext)(rr.ThebeServerContext),{config:n,events:r,server:s,connecting:o,ready:a,connect:l,disconnect:c,error:d}=i??{ready:!1,connecting:!1},[u,f]=(0,$n.useState)([]),h=(0,$n.useCallback)(p=>{if(!e||!n||!s)return;let _=(y,S)=>{let T=[e.EventSubject.server,e.EventSubject.session,e.EventSubject.kernel];S.subject&&T.includes(S.subject)&&p(S)};n?.events.on(e.ThebeEventType.status,_),f([...u,_])},[n,s]),m=(0,$n.useCallback)(()=>{e&&(u.forEach(p=>{n?.events.off(e.ThebeEventType.status,p)}),f([]))},[n,s]);return i?{config:n,events:r,server:s,connecting:o,ready:a,error:d,connect:l,disconnect:c,subscribe:h,unsubAll:m}:{connecting:!1,ready:!1}}rr.useThebeServer=FX});var Ly=Ve(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.useRenderMimeRegistry=_m.ThebeRenderMimeRegistryProvider=void 0;var WX=(Pi(),Ia(Vc)),$X=me(),GT=WX.__importDefault(se()),qX=gm(),UX=S_(),z5=GT.default.createContext(void 0);function VX({children:t}){let{core:e}=(0,qX.useThebeLoader)(),{config:i}=(0,UX.useThebeConfig)(),n=GT.default.useMemo(()=>e?.makeRenderMimeRegistry(i?.mathjax),[e,i]);return(0,$X.jsx)(z5.Provider,Object.assign({value:{rendermime:n}},{children:t}))}_m.ThebeRenderMimeRegistryProvider=VX;function GX(){let t=GT.default.useContext(z5);return t?.rendermime}_m.useRenderMimeRegistry=GX});var KT=Ve(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.useThebeSession=ma.ThebeSessionProvider=ma.ThebeSessionContext=void 0;var YT=(Pi(),Ia(Vc)),YX=me(),Eo=YT.__importStar(se()),KX=S_(),XX=Ly(),JX=gm();ma.ThebeSessionContext=Eo.default.createContext(void 0);function ZX({start:t=!0,path:e,shutdownOnUnmount:i=!1,children:n}){let{core:r}=(0,JX.useThebeLoader)(),{config:s,server:o,ready:a}=(0,KX.useThebeServer)(),l=(0,XX.useRenderMimeRegistry)(),[c,d]=(0,Eo.useState)(t),[u,f]=(0,Eo.useState)(!1),[h,m]=(0,Eo.useState)(),[p,_]=(0,Eo.useState)(!1),[y,S]=(0,Eo.useState)(),[T,D]=(0,Eo.useState)();(0,Eo.useEffect)(()=>{!o||!a||!c||u||p||k()},[p,c,u,o,a]),(0,Eo.useEffect)(()=>{if(!r||!s||!h)return;let b=(M,C)=>{let x=[r.EventSubject.session,r.EventSubject.kernel];C.subject&&x.includes(C.subject)&&C.status==="shutdown"&&C.id===h.id&&S(`session ${h.path} - ${C.status} - ${C.message}`)};D(s.events.on(r.ThebeEventType.status,b))},[r,s,h]);let k=()=>{if(!l)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");f(!0),o?.startNewSession(l,{path:e}).then(b=>{if(f(!1),b==null){o?.getKernelSpecs().then(M=>{S(`Could not start a session - available kernels: ${Object.keys(M.kernelspecs)}`)});return}m(b),_(!0)},b=>{S(typeof b=="object"?b.message:JSON.stringify(b)),_(!1),d(!1),f(!1)})};return(0,Eo.useEffect)(()=>()=>{i&&(T?.(),D(void 0),h?.shutdown().then(()=>{_(!1),f(!1),S(void 0)}))},[h]),(0,YX.jsx)(ma.ThebeSessionContext.Provider,Object.assign({value:{path:e,starting:u,ready:p,session:h,start:()=>YT.__awaiter(this,void 0,void 0,function*(){h&&p?yield h.restart():k()}),shutdown:()=>YT.__awaiter(this,void 0,void 0,function*(){h&&(T?.(),D(void 0),yield h.shutdown(),m(void 0),_(!1),f(!1),S(void 0))}),error:y}},{children:n}))}ma.ThebeSessionProvider=ZX;function QX(){let t=(0,Eo.useContext)(ma.ThebeSessionContext);return t??{starting:!1,ready:!1}}ma.useThebeSession=QX});var P5=Ve(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.useNotebookfromSourceLegacy=Xs.useNotebookFromSource=Xs.useNotebook=Xs.useNotebookBase=Xs.findErrors=void 0;var qn=se(),JT=S_(),ZT=gm(),eJ=KT(),QT=Ly();function XT(t){return t.reduce((e,i,n)=>i?.error?e==null?[Object.assign(Object.assign({},i),{index:n})]:[...e,Object.assign(Object.assign({},i),{index:n})]:e,null)}Xs.findErrors=XT;function eR(){let{session:t,ready:e}=(0,eJ.useThebeSession)(),[i,n]=(0,qn.useState)(),[r,s]=(0,qn.useState)([]),[o,a]=(0,qn.useState)(!1),[l,c]=(0,qn.useState)(!1),[d,u]=(0,qn.useState)(!1),[f,h]=(0,qn.useState)(null);return(0,qn.useEffect)(()=>{!i||!t||!e||(console.debug("thebe-react: attaching notebook to session",{notebook:i,session:t}),i.attachSession(t),a(!0))},[i,t,e]),{ready:!!i&&o,attached:o,executing:l,executed:d,errors:f,notebook:i,setNotebook:n,refs:r,setRefs:s,executeAll:y=>{var S,T;if(!i)throw new Error("executeAll called before notebook available");if(!t)throw new Error("executeAll called before session available");return(S=y?.before)===null||S===void 0||S.call(y),c(!0),i.executeAll((T=y?.stopOnError)!==null&&T!==void 0?T:!0,y?.preprocessor).then(D=>{var k;(k=y?.after)===null||k===void 0||k.call(y);let b=XT(D);return b!=null&&h(b),u(!0),c(!1),D})},executeSome:(y,S)=>{var T,D;if(!i)throw new Error("executeSome called before notebook available");if(!t)throw new Error("executeAll called before session available");(T=S?.before)===null||T===void 0||T.call(S),c(!0);let k=i.cells.filter(y).map(b=>b.id);return i.executeCells(k,(D=S?.stopOnError)!==null&&D!==void 0?D:!0,S?.preprocessor).then(b=>{var M;(M=S?.after)===null||M===void 0||M.call(S);let C=XT(b);return C!=null&&h(C),u(!0),c(!1),b})},clear:()=>{if(!i)throw new Error("clear called before notebook available");i.clear(),u(!1)},session:t}}Xs.useNotebookBase=eR;function tJ(t,e,i={refsForWidgetsOnly:!0}){var n,r;let{core:s}=(0,ZT.useThebeLoader)(),{config:o}=(0,JT.useThebeConfig)(),a=(0,QT.useRenderMimeRegistry)(),[l,c]=(0,qn.useState)(!1);if(!a)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:d,attached:u,executing:f,executed:h,errors:m,notebook:p,setNotebook:_,refs:y,setRefs:S,executeAll:T,executeSome:D,clear:k,session:b}=eR();return(0,qn.useEffect)(()=>{!s||!o||(c(!0),e(t).then(M=>s?.ThebeNotebook.fromIpynb(M,o,a)).then(M=>{var C,x;let w=i?.refsForWidgetsOnly?(C=M?.widgets)!==null&&C!==void 0?C:[]:(x=M?.cells)!==null&&x!==void 0?x:[];S(Array(w.length).fill(null).map((E,O)=>j=>{console.debug(`new ref[${O}] - attaching to dom...`,j),j!=null&&w[O].attachToDOM(j)})),_(M),c(!1)}))},[s,o]),{ready:d,loading:l,attached:u,executing:f,executed:h,errors:m,notebook:p,cellRefs:y,cellIds:(i.refsForWidgetsOnly?(n=p?.widgets)!==null&&n!==void 0?n:[]:(r=p?.cells)!==null&&r!==void 0?r:[]).map(M=>M.id),executeAll:T,executeSome:D,clear:k,session:b}}Xs.useNotebook=tJ;function iJ(t,e={refsForWidgetsOnly:!0}){var i,n;let{core:r}=(0,ZT.useThebeLoader)(),{config:s}=(0,JT.useThebeConfig)(),o=(0,QT.useRenderMimeRegistry)(),[a,l]=(0,qn.useState)(!1);if(!o)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:c,attached:d,executing:u,executed:f,errors:h,notebook:m,setNotebook:p,refs:_,setRefs:y,executeAll:S,executeSome:T,clear:D,session:k}=eR();return(0,qn.useEffect)(()=>{var b,M;if(!r||!s||a||m)return;l(!0);let C=r.ThebeNotebook.fromCodeBlocks(t.map(w=>({id:r?.shortId(),source:w})),s,o),x=e?.refsForWidgetsOnly?(b=C?.widgets)!==null&&b!==void 0?b:[]:(M=C?.cells)!==null&&M!==void 0?M:[];y(Array(x.length).fill(null).map((w,E)=>O=>{console.debug(`new ref[${E}] - attaching to dom...`,O),O!=null&&x[E].attachToDOM(O)})),p(C),l(!1)},[r,m,a]),{ready:c,loading:a,attached:d,executing:u,executed:f,errors:h,notebook:m,cellRefs:_,cellIds:(e.refsForWidgetsOnly?(i=m?.widgets)!==null&&i!==void 0?i:[]:(n=m?.cells)!==null&&n!==void 0?n:[]).map(b=>b.id),executeAll:S,executeSome:T,clear:D,session:k}}Xs.useNotebookFromSource=iJ;function nJ(t){let{core:e}=(0,ZT.useThebeLoader)(),{config:i}=(0,JT.useThebeConfig)(),n=(0,QT.useRenderMimeRegistry)();if(!n)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let[r,s]=(0,qn.useState)(!1),[o,a]=(0,qn.useState)(),[l,c]=(0,qn.useState)({}),[d]=(0,qn.useState)(Array(t.length).fill(void 0).map(()=>(0,qn.createRef)()));return(0,qn.useEffect)(()=>{!e||!i||o||a(e.ThebeNotebook.fromCodeBlocks(t.map(h=>({id:e?.shortId(),source:h})),i,n))},[e,o]),{notebook:o,busy:r,execute:()=>{if(!o)throw new Error("execute called before notebook available");s(!0),o.executeAll().then(()=>{s(!1)})},attach:h=>{if(h.kernel!=null){if(!o){console.warn("attach called before notebook available");return}o?.detachSession(),o?.attachSession(h),o?.cells.forEach((m,p)=>{var _;d[p].current&&m.attachToDOM((_=d[p].current)!==null&&_!==void 0?_:void 0)})}},cellRefs:d,rerender:()=>c({})}}Xs.useNotebookfromSourceLegacy=nJ});var B5=Ve(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.interpolatorFactoryFn=Tc.PYTHON_PARAM=void 0;Tc.PYTHON_PARAM=/^(.*)=([^;]*);*\s*#\|*\s*@param\s*(.*)$/;function rJ(t){return e=>{let i=new Set(Object.keys(t));return e.split(`
`).map(s=>{if(Tc.PYTHON_PARAM.test(s)){let o=s.match(Tc.PYTHON_PARAM);if(o!=null){let[a,l,c,d]=o,u={};try{d!==""&&(u=JSON.parse(d))}catch(f){console.error("Could not parse schema from",s,f)}if(i.has(l.trim()))return`${l}= ${t[l.trim()]} #| @param${u?` ${JSON.stringify(Object.assign(Object.assign({},u),{last:c}))}`:""}`}}return s}).join(`
`)}}Tc.interpolatorFactoryFn=rJ});var H5=Ve(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});var j5=(Pi(),Ia(Vc));j5.__exportStar(P5(),Ny);j5.__exportStar(B5(),Ny)});var ga=Ve(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.version=void 0;var du=(Pi(),Ia(Vc));du.__exportStar(XO(),pa);du.__exportStar(gm(),pa);du.__exportStar(S_(),pa);du.__exportStar(KT(),pa);du.__exportStar(Ly(),pa);du.__exportStar(H5(),pa);var sJ=TC();Object.defineProperty(pa,"version",{enumerable:!0,get:function(){return du.__importDefault(sJ).default}})});var xF=Ve((sAe,bF)=>{"use strict";var vF=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function CJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rc=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],SJ=function(){vF(t,null,[{key:"escapeForHtml",value:function(i){return new t().escapeForHtml(i)}},{key:"linkify",value:function(i){return new t().linkify(i)}},{key:"ansiToHtml",value:function(i,n){return new t().ansiToHtml(i,n)}},{key:"ansiToJson",value:function(i,n){return new t().ansiToJson(i,n)}},{key:"ansiToText",value:function(i){return new t().ansiToText(i)}}]);function t(){CJ(this,t),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return vF(t,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var i=0;i<2;++i)for(var n=0;n<8;++n)this.PALETTE_COLORS.push(Rc[i][n].color);for(var r=[0,95,135,175,215,255],s=function(p,_,y){return r[p]+", "+r[_]+", "+r[y]},o=void 0,a=void 0,l=void 0,c=0;c<6;++c)for(var d=0;d<6;++d)for(var u=0;u<6;++u)this.PALETTE_COLORS.push(s(c,d,u));for(var f=8,h=0;h<24;++h,f+=10)this.PALETTE_COLORS.push(s(f,f,f))}},{key:"escapeForHtml",value:function(i){return i.replace(/[&<>\"]/gm,function(n){return n=="&"?"&amp;":n=='"'?"&quot;":n=="<"?"&lt;":n==">"?"&gt;":""})}},{key:"linkify",value:function(i){return i.replace(/(https?:\/\/[^\s]+)/gm,function(n){return'<a href="'+n+'">'+n+"</a>"})}},{key:"ansiToHtml",value:function(i,n){return this.process(i,n,!0)}},{key:"ansiToJson",value:function(i,n){return n=n||{},n.json=!0,n.clearLine=!1,this.process(i,n,!0)}},{key:"ansiToText",value:function(i){return this.process(i,{},!1)}},{key:"process",value:function(i,n,r){var s=this,o=this,a=i.split(/\033\[/),l=a.shift();n==null&&(n={}),n.clearLine=/\r/.test(i);var c=a.map(function(u){return s.processChunk(u,n,r)});if(n&&n.json){var d=o.processChunkJson("");return d.content=l,d.clearLine=n.clearLine,c.unshift(d),n.remove_empty&&(c=c.filter(function(u){return!u.isEmpty()})),c}else c.unshift(l);return c.join("")}},{key:"processChunkJson",value:function(i,n,r){n=typeof n>"u"?{}:n;var s=n.use_classes=typeof n.use_classes<"u"&&n.use_classes,o=n.key=s?"class":"color",a={content:i,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:n.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!a.content}},l=i.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!l)return a;var c=a.content=l[4],d=l[2].split(";");if(l[1]!==""||l[3]!=="m"||!r)return a;for(var u=this;d.length>0;){var f=d.shift(),h=parseInt(f);if(isNaN(h)||h===0)u.fg=u.bg=null,u.decorations=[];else if(h===1)u.decorations.push("bold");else if(h===2)u.decorations.push("dim");else if(h===3)u.decorations.push("italic");else if(h===4)u.decorations.push("underline");else if(h===5)u.decorations.push("blink");else if(h===7)u.decorations.push("reverse");else if(h===8)u.decorations.push("hidden");else if(h===9)u.decorations.push("strikethrough");else if(h===21)u.removeDecoration("bold");else if(h===22)u.removeDecoration("bold"),u.removeDecoration("dim");else if(h===23)u.removeDecoration("italic");else if(h===24)u.removeDecoration("underline");else if(h===25)u.removeDecoration("blink");else if(h===27)u.removeDecoration("reverse");else if(h===28)u.removeDecoration("hidden");else if(h===29)u.removeDecoration("strikethrough");else if(h===39)u.fg=null;else if(h===49)u.bg=null;else if(h>=30&&h<38)u.fg=Rc[0][h%10][o];else if(h>=90&&h<98)u.fg=Rc[1][h%10][o];else if(h>=40&&h<48)u.bg=Rc[0][h%10][o];else if(h>=100&&h<108)u.bg=Rc[1][h%10][o];else if(h===38||h===48){var m=h===38;if(d.length>=1){var p=d.shift();if(p==="5"&&d.length>=1){var _=parseInt(d.shift());if(_>=0&&_<=255)if(!s)this.PALETTE_COLORS||u.setupPalette(),m?u.fg=this.PALETTE_COLORS[_]:u.bg=this.PALETTE_COLORS[_];else{var y=_>=16?"ansi-palette-"+_:Rc[_>7?1:0][_%8].class;m?u.fg=y:u.bg=y}}else if(p==="2"&&d.length>=3){var S=parseInt(d.shift()),T=parseInt(d.shift()),D=parseInt(d.shift());if(S>=0&&S<=255&&T>=0&&T<=255&&D>=0&&D<=255){var k=S+", "+T+", "+D;s?m?(u.fg="ansi-truecolor",u.fg_truecolor=k):(u.bg="ansi-truecolor",u.bg_truecolor=k):m?u.fg=k:u.bg=k}}}}}if(u.fg===null&&u.bg===null&&u.decorations.length===0)return a;var b=[],M=[],C={};return a.fg=u.fg,a.bg=u.bg,a.fg_truecolor=u.fg_truecolor,a.bg_truecolor=u.bg_truecolor,a.decorations=u.decorations,a.decoration=u.decorations.slice(-1).pop()||null,a.was_processed=!0,a}},{key:"processChunk",value:function(i,n,r){var s=this;n=n||{};var o=this.processChunkJson(i,n,r),a=n.use_classes;if(o.decorations=o.decorations.filter(function(h){if(h==="reverse"){o.fg||(o.fg=Rc[0][7][a?"class":"color"]),o.bg||(o.bg=Rc[0][0][a?"class":"color"]);var m=o.fg;o.fg=o.bg,o.bg=m;var p=o.fg_truecolor;return o.fg_truecolor=o.bg_truecolor,o.bg_truecolor=p,o.isInverted=!0,!1}return!0}),n.json)return o;if(o.isEmpty())return"";if(!o.was_processed)return o.content;var l=[],c=[],d=[],u={},f=function(m){var p=[],_=void 0;for(_ in m)m.hasOwnProperty(_)&&p.push("data-"+_+'="'+s.escapeForHtml(m[_])+'"');return p.length>0?" "+p.join(" "):""};return o.isInverted&&(u["ansi-is-inverted"]="true"),o.fg&&(a?(l.push(o.fg+"-fg"),o.fg_truecolor!==null&&(u["ansi-truecolor-fg"]=o.fg_truecolor,o.fg_truecolor=null)):l.push("color:rgb("+o.fg+")")),o.bg&&(a?(l.push(o.bg+"-bg"),o.bg_truecolor!==null&&(u["ansi-truecolor-bg"]=o.bg_truecolor,o.bg_truecolor=null)):l.push("background-color:rgb("+o.bg+")")),o.decorations.forEach(function(h){if(a){c.push("ansi-"+h);return}h==="bold"?c.push("font-weight:bold"):h==="dim"?c.push("opacity:0.5"):h==="italic"?c.push("font-style:italic"):h==="hidden"?c.push("visibility:hidden"):h==="strikethrough"?d.push("line-through"):d.push(h)}),d.length&&c.push("text-decoration:"+d.join(" ")),a?'<span class="'+l.concat(c).join(" ")+'"'+f(u)+">"+o.content+"</span>":'<span style="'+l.concat(c).join(";")+'"'+f(u)+">"+o.content+"</span>"}},{key:"removeDecoration",value:function(i){var n=this.decorations.indexOf(i);n>=0&&this.decorations.splice(n,1)}}]),t}();bF.exports=SJ});var wF=Ve((oAe,Uy)=>{function lR(t){if(!t)return"";if(!/\r/.test(t))return t;for(t=t.replace(/\r+\n/gm,`
`);/\r./.test(t);)t=t.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(e,i,n){return n+i.slice(n.length)});return t}function EJ(t){for(var e=0,i=0;i<t.length;i++)t[e].length<=t[i].length&&(e=i);return e}function yF(t){if(!/\r/.test(t))return t;for(var e=t.split("\r"),i=[];e.length>0;){var n=EJ(e);i.push(e[n]),e=e.slice(n+1)}return i.join("\r")}function MJ(t){if(!t)return"";if(!/\r/.test(t))return t;if(!/\n/.test(t))return yF(t);t=t.replace(/\r+\n/gm,`
`);var e=t.lastIndexOf(`
`);return lR(t.slice(0,e))+`
`+yF(t.slice(e+1))}Uy.exports=lR;Uy.exports.escapeCarriageReturn=lR;Uy.exports.escapeCarriageReturnSafe=MJ});var ZF=Ve((Dke,JF)=>{var XF="Expected a function",YF=NaN,VJ="[object Symbol]",GJ=/^\s+|\s+$/g,YJ=/^[-+]0x[0-9a-f]+$/i,KJ=/^0b[01]+$/i,XJ=/^0o[0-7]+$/i,JJ=parseInt,ZJ=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,QJ=typeof self=="object"&&self&&self.Object===Object&&self,eZ=ZJ||QJ||Function("return this")(),tZ=Object.prototype,iZ=tZ.toString,nZ=Math.max,rZ=Math.min,fR=function(){return eZ.Date.now()};function sZ(t,e,i){var n,r,s,o,a,l,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(XF);e=KF(e)||0,Jy(i)&&(d=!!i.leading,u="maxWait"in i,s=u?nZ(KF(i.maxWait)||0,e):s,f="trailing"in i?!!i.trailing:f);function h(b){var M=n,C=r;return n=r=void 0,c=b,o=t.apply(C,M),o}function m(b){return c=b,a=setTimeout(y,e),d?h(b):o}function p(b){var M=b-l,C=b-c,x=e-M;return u?rZ(x,s-C):x}function _(b){var M=b-l,C=b-c;return l===void 0||M>=e||M<0||u&&C>=s}function y(){var b=fR();if(_(b))return S(b);a=setTimeout(y,p(b))}function S(b){return a=void 0,f&&n?h(b):(n=r=void 0,o)}function T(){a!==void 0&&clearTimeout(a),c=0,n=l=r=a=void 0}function D(){return a===void 0?o:S(fR())}function k(){var b=fR(),M=_(b);if(n=arguments,r=this,l=b,M){if(a===void 0)return m(l);if(u)return a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),o}return k.cancel=T,k.flush=D,k}function oZ(t,e,i){var n=!0,r=!0;if(typeof t!="function")throw new TypeError(XF);return Jy(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),sZ(t,e,{leading:n,maxWait:e,trailing:r})}function Jy(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function aZ(t){return!!t&&typeof t=="object"}function lZ(t){return typeof t=="symbol"||aZ(t)&&iZ.call(t)==VJ}function KF(t){if(typeof t=="number")return t;if(lZ(t))return YF;if(Jy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Jy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(GJ,"");var i=KJ.test(t);return i||XJ.test(t)?JJ(t.slice(2),i?2:8):YJ.test(t)?YF:+t}JF.exports=oZ});var Sne=Ve((rPe,qW)=>{qW.exports={}});var wv=P(se(),1);function Sk(t){let e=typeof document=="undefined",i=o=>e?!1:window.matchMedia(o).matches,[n,r]=(0,wv.useState)(i(t));function s(){r(i(t))}return(0,wv.useEffect)(()=>{if(e)return;let o=window.matchMedia(t);return s(),o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[t]),n}var Cv=P(me(),1),Hl=P(se(),1);function l1(t){if(!t)return{};let e={};for(let i in t){let n=t[i];if(typeof n=="function")e[i]={base:n};else if(typeof n=="object"&&"base"in n)e[i]=n;else throw new Error(`Renderer for "${i}" must be either a function or an object containing a "base" renderer.`)}return e}function Ek(t,e){let i={};for(let n of t)for(let r in n){let s=typeof n[r]=="function"?{base:n[r]}:n[r];i[r]=Object.assign(Object.assign({},i[r]),s)}return e?l1(i):i}function Mk(t,e){t.forEach(i=>{"data"in i&&i.data?Object.entries(i.data).forEach(([,n])=>{e(n)}):e(i)})}function Yu(t,e=""){return t?typeof t=="string"?t:t.join?t.join(e):t:""}var Ik=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i};function c1(t,e){return t.map(i=>{switch(i.output_type){case"stream":{let{hash:n}=i,r=Ik(i,["hash"]);return n&&e[n]?Object.assign(Object.assign({},r),{text:e[n][0]}):r}case"error":{let{hash:n,traceback:r}=i,s=Ik(i,["hash","traceback"]);return n&&e[n]?Object.assign(Object.assign({},s),{traceback:[e[n][0]]}):Object.assign(Object.assign({},s),{traceback:[r]})}default:return Object.assign(Object.assign({},i),{data:Object.entries(i.data).reduce((n,[r,s])=>{let{content:o}=s,{hash:a}=s;if(a&&e[a]&&([o]=e[a]),o&&r!=="application/javascript"&&r.startsWith("application/"))try{o=JSON.parse(o)}catch{console.debug(`${r} is not json parsable, leaving as is`)}if(o&&r.startsWith("image/")&&!r.startsWith("image/svg")&&o.startsWith("data:")&&o.includes(";base64,")){let[l]=o.split(";base64,").reverse();o=l}return o?Object.assign(Object.assign({},n),{[r]:o}):n},{})})}})}var Rr;(function(t){t.TextPlain="text/plain",t.TextHtml="text/html",t.TextLatex="text/latex",t.ImagePng="image/png",t.ImageBmp="image/bmp",t.ImageJpeg="image/jpeg",t.ImageSvg="image/svg+xml",t.ImageGif="image/gif",t.AppJson="application/json",t.AppGeoJson="application/geo+json",t.AppPlotly="application/vnd.plotly.v1+json",t.AppVega="application/vnd.vega.v5+json",t.AppVegaLite="application/vnd.vegalite.v3+json",t.AppVirtualDom="application/vdom.v1+json",t.AppJavascript="application/javascript",t.AppWidgetView="application/vnd.jupyter.widget-view+json",t.AppWidgetState="application/vnd.jupyter.widget-state+json",t.AppBokehLoad="application/vnd.bokehjs_load.v0+json",t.AppBokehExec="application/vnd.bokehjs_exec.v0+json"})(Rr||(Rr={}));var Tk;(function(t){t.raw="raw",t.markdown="markdown",t.code="code"})(Tk||(Tk={}));var Dn;(function(t){t.light="light",t.dark="dark"})(Dn||(Dn={}));var Rk;(function(t){t.noSite="Site was not found",t.noArticle="Article was not found"})(Rk||(Rk={}));var Ak=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i};function v6(t){var{to:e,className:i,children:n,prefetch:r}=t,s=Ak(t,["to","className","children","prefetch"]);return(0,Cv.jsx)("a",Object.assign({href:e,className:i},s,{children:n}))}function b6(t){var{to:e,className:i,children:n,prefetch:r}=t,s=Ak(t,["to","className","children","prefetch"]);let o=typeof i=="function"?i({isActive:!1}):i;return(0,Cv.jsx)("a",Object.assign({href:e,className:o},s,{children:n}))}function Sv(t){return typeof t=="string"&&Object.values(Dn).includes(t)}var Yc=Hl.default.createContext(void 0);Yc.displayName="ThemeContext";function kk({theme:t,setTheme:e,children:i,renderers:n,Link:r,NavLink:s,navigate:o,top:a}){let l=l1(n);return(0,Cv.jsx)(Yc.Provider,{value:{theme:t,setTheme:e,renderers:l,Link:r,NavLink:s,navigate:o,top:a},children:i})}function Ev(){let t=Hl.default.useContext(Yc);if(t===void 0){let o="useThemeSwitcher should be used within a ThemeProvider",a=()=>{throw new Error(o)};return console.error(o),{theme:Dn.light,isLight:!0,isDark:!1,setTheme:a,nextTheme:a}}let{theme:e,setTheme:i}=t,n=e===Dn.dark,r=e===Dn.light,s=Hl.default.useCallback(()=>{let o=e===Dn.light?Dn.dark:Dn.light;i(o)},[e]);return{theme:e,isLight:r,isDark:n,setTheme:i,nextTheme:s}}function Lk(){let t=Hl.default.useContext(Yc),{renderers:e}=t!=null?t:{};return e!=null?e:{}}function Ts(){let t=Hl.default.useContext(Yc),{Link:e}=t!=null?t:{};return e!=null?e:v6}function d1(){let t=Hl.default.useContext(Yc),{NavLink:e}=t!=null?t:{};return e!=null?e:b6}function Nk(){let t=Hl.default.useContext(Yc),{top:e}=t!=null?t:{};return e||0}var Ok=P(me(),1),u1=P(se(),1),h1=u1.default.createContext(void 0);h1.displayName="GridSystemContext";function are({children:t,gridSystem:e}){return(0,Ok.jsx)(h1.Provider,{value:{gridSystem:e},children:t})}function Fl(){let t=u1.default.useContext(h1),{gridSystem:e}=t!=null?t:{};return e||"article-grid"}var Dk=P(me(),1),vp=P(se(),1),f1=vp.default.createContext({});function zk({references:t,frontmatter:e,children:i}){return(0,Dk.jsx)(f1.Provider,{value:{references:t,frontmatter:e},children:i})}function Ho(){let t=(0,vp.useContext)(f1);return t==null?void 0:t.references}function Pk(){let t=(0,vp.useContext)(f1);return t==null?void 0:t.frontmatter}var Bk=P(me(),1),Mv=P(se(),1),jk=Mv.default.createContext({});function Hk({baseurl:t,children:e}){return(0,Bk.jsx)(jk.Provider,{value:{baseurl:t},children:e})}function ur(){let t=(0,Mv.useContext)(jk);return t==null?void 0:t.baseurl}function En(t,e){return e?e+t:t}var Fk=P(me(),1),Kc=P(se(),1);var x6=(0,Kc.createContext)(void 0);function hre({children:t}){let e=Sk("(min-width: 1280px)"),[i,n]=(0,Kc.useState)({isNavOpen:!1});return(0,Kc.useEffect)(()=>{e&&n(Object.assign(Object.assign({},i),{isNavOpen:!1,isWide:e}))},[e]),(0,Fk.jsx)(x6.Provider,{value:[i,n],children:t})}var Wk=P(me(),1),Iv=P(se(),1),$k=Iv.default.createContext(void 0);function qk({config:t,children:e}){return(0,Wk.jsx)($k.Provider,{value:t,children:e})}function Ta(){return(0,Iv.useContext)($k)}var y6=P(me(),1),m1=P(se(),1),pre=m1.default.createContext(void 0);var Uk=P(me(),1),Ku=P(se(),1),Vk=(0,Ku.createContext)(void 0);function _re({children:t}){let[e,i]=(0,Ku.useState)("");return(0,Uk.jsx)(Vk.Provider,{value:[e,i],children:t})}function Gk(){return(0,Ku.useContext)(Vk)}var Yk=P(me(),1),Tv=P(se(),1),Kk=(0,Tv.createContext)(void 0);function Wl(){var t;return(t=(0,Tv.useContext)(Kk))!==null&&t!==void 0?t:{inCrossRef:!1,remote:!1}}function Rv({remote:t,url:e,dataUrl:i,remoteBaseUrl:n,children:r}){let s=Wl(),o={inCrossRef:!0,remote:t!=null?t:s.remote,url:e!=null?e:s.url,dataUrl:i!=null?i:s.dataUrl,remoteBaseUrl:n!=null?n:s.remoteBaseUrl};return o.remote&&!o.url&&(o.remote=!1),(0,Yk.jsx)(Kk.Provider,{value:o,children:r})}var Xk=P(me(),1),Av=P(se(),1);var Jk=Av.default.createContext(void 0);function yre({project:t,children:e}){var i;let n=Ta();return(0,Xk.jsx)(Jk.Provider,{value:t!=null?t:(i=n==null?void 0:n.projects)===null||i===void 0?void 0:i[0],children:e})}function Zk(){return(0,Av.useContext)(Jk)}var Ue=P(me(),1),HL=P(se(),1);var p1=P(me(),1);var g1=P(Et(),1);function Qk(t){t&&(t.nodeName==="DETAILS"&&(t.open=!0),Qk(t.parentElement))}function kv(t,{htmlId:e=t==null?void 0:t.id,scrollBehavior:i="smooth",historyState:n="replace",focusTarget:r=!0}={}){t&&(Qk(t),t.scrollIntoView({behavior:i}),n==="push"?history.pushState(void 0,"",`#${e}`):n==="replace"&&history.replaceState(void 0,"",`#${e}`),r&&(t.tabIndex===-1&&(t.tabIndex=-1),t.focus({preventScroll:!0})))}function gi({id:t,kind:e,title:i=`Link to this ${e}`,children:n="\xB6",canSelectText:r=!1,hover:s,className:o="font-normal",hideInPopup:a,scrollBehavior:l,historyState:c,focusTarget:d}){let{inCrossRef:u}=Wl();if(u||!t)return a?null:(0,p1.jsx)("span",{className:(0,g1.default)("select-none",o),children:n});let f=h=>{h.preventDefault();let m=document.getElementById(t);kv(m,{scrollBehavior:l,historyState:c,focusTarget:d})};return(0,p1.jsx)("a",{className:(0,g1.default)("no-underline text-inherit hover:text-inherit",o,{"select-none":!r,"transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70":s,"hover:underline":!s}),onClick:f,href:`#${t}`,title:i,"aria-label":i,children:n})}var Qv=P(Et(),1);var Lv=P(me(),1);var Xu=P(se(),1);function w6({title:t,titleId:e,...i},n){return Xu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Xu.createElement("title",{id:e},t):null,Xu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}var C6=Xu.forwardRef(w6),bp=C6;var Ju=P(se(),1);function S6({title:t,titleId:e,...i},n){return Ju.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Ju.createElement("title",{id:e},t):null,Ju.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}var E6=Ju.forwardRef(S6),_1=E6;var Zu=P(se(),1);function M6({title:t,titleId:e,...i},n){return Zu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Zu.createElement("title",{id:e},t):null,Zu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var I6=Zu.forwardRef(M6),v1=I6;var Qu=P(se(),1);function T6({title:t,titleId:e,...i},n){return Qu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Qu.createElement("title",{id:e},t):null,Qu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}var R6=Qu.forwardRef(T6),b1=R6;var eh=P(se(),1);function A6({title:t,titleId:e,...i},n){return eh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?eh.createElement("title",{id:e},t):null,eh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}var k6=eh.forwardRef(A6),Qn=k6;var th=P(se(),1);function L6({title:t,titleId:e,...i},n){return th.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?th.createElement("title",{id:e},t):null,th.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}var N6=th.forwardRef(L6),x1=N6;var ih=P(se(),1);function O6({title:t,titleId:e,...i},n){return ih.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?ih.createElement("title",{id:e},t):null,ih.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}var D6=ih.forwardRef(O6),y1=D6;var nh=P(se(),1);function z6({title:t,titleId:e,...i},n){return nh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?nh.createElement("title",{id:e},t):null,nh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var P6=nh.forwardRef(z6),w1=P6;var rh=P(se(),1);function B6({title:t,titleId:e,...i},n){return rh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?rh.createElement("title",{id:e},t):null,rh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}var j6=rh.forwardRef(B6),C1=j6;var sh=P(se(),1);function H6({title:t,titleId:e,...i},n){return sh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?sh.createElement("title",{id:e},t):null,sh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var F6=sh.forwardRef(H6),S1=F6;var oh=P(se(),1);function W6({title:t,titleId:e,...i},n){return oh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?oh.createElement("title",{id:e},t):null,oh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var $6=oh.forwardRef(W6),E1=$6;var ah=P(se(),1);function q6({title:t,titleId:e,...i},n){return ah.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?ah.createElement("title",{id:e},t):null,ah.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}var U6=ah.forwardRef(q6),M1=U6;var lh=P(se(),1);function V6({title:t,titleId:e,...i},n){return lh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?lh.createElement("title",{id:e},t):null,lh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var G6=lh.forwardRef(V6),xp=G6;var ch=P(se(),1);function Y6({title:t,titleId:e,...i},n){return ch.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?ch.createElement("title",{id:e},t):null,ch.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}var K6=ch.forwardRef(Y6),so=K6;var dh=P(se(),1);function X6({title:t,titleId:e,...i},n){return dh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?dh.createElement("title",{id:e},t):null,dh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}var J6=dh.forwardRef(X6),yp=J6;var uh=P(se(),1);function Z6({title:t,titleId:e,...i},n){return uh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?uh.createElement("title",{id:e},t):null,uh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}var Q6=uh.forwardRef(Z6),hh=Q6;var fh=P(se(),1);function e$({title:t,titleId:e,...i},n){return fh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?fh.createElement("title",{id:e},t):null,fh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}var t$=fh.forwardRef(e$),I1=t$;var mh=P(se(),1);function i$({title:t,titleId:e,...i},n){return mh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?mh.createElement("title",{id:e},t):null,mh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}var n$=mh.forwardRef(i$),T1=n$;var ph=P(se(),1);function r$({title:t,titleId:e,...i},n){return ph.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?ph.createElement("title",{id:e},t):null,ph.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}var s$=ph.forwardRef(r$),R1=s$;var gh=P(se(),1);function o$({title:t,titleId:e,...i},n){return gh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?gh.createElement("title",{id:e},t):null,gh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var a$=gh.forwardRef(o$),A1=a$;var _h=P(se(),1);function l$({title:t,titleId:e,...i},n){return _h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?_h.createElement("title",{id:e},t):null,_h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}var c$=_h.forwardRef(l$),k1=c$;var Xc=P(se(),1);function d$({title:t,titleId:e,...i},n){return Xc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Xc.createElement("title",{id:e},t):null,Xc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),Xc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}var u$=Xc.forwardRef(d$),L1=u$;var vh=P(se(),1);function h$({title:t,titleId:e,...i},n){return vh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?vh.createElement("title",{id:e},t):null,vh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var f$=vh.forwardRef(h$),N1=f$;var bh=P(se(),1);function m$({title:t,titleId:e,...i},n){return bh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?bh.createElement("title",{id:e},t):null,bh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"}))}var p$=bh.forwardRef(m$),wp=p$;var xh=P(se(),1);function g$({title:t,titleId:e,...i},n){return xh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?xh.createElement("title",{id:e},t):null,xh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}var _$=xh.forwardRef(g$),O1=_$;var yh=P(se(),1);function v$({title:t,titleId:e,...i},n){return yh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?yh.createElement("title",{id:e},t):null,yh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}var b$=yh.forwardRef(v$),D1=b$;var e2=P(se(),1),t2=P(Et(),1);function wh({text:t,className:e}){let[i,n]=(0,e2.useState)(!1),r=()=>{i||navigator.clipboard.writeText(t).then(()=>{n(!0),setTimeout(()=>n(!1),3e3)})};return(0,Lv.jsx)("button",{title:i?"Copied!!":"Copy to Clipboard",className:(0,t2.default)("inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2","transition-color duration-200 ease-in-out",{"text-blue-400 hover:text-blue-500":!i,"text-green-500 hover:text-green-500":i},e),onClick:r,"aria-pressed":i?"true":"false","aria-label":"Copy code to clipboard",children:i?(0,Lv.jsx)(C1,{width:24,height:24,className:"text-success"}):(0,Lv.jsx)(M1,{width:24,height:24})})}var Oa=P(me(),1),BL=P(se(),1);var ji=P(se(),1);function Bi(t,e,{checkForDefaultPrevented:i=!0}={}){return function(r){if(t?.(r),i===!1||!r.defaultPrevented)return e?.(r)}}var Ra=P(se(),1),i2=P(me(),1);function $l(t,e=[]){let i=[];function n(s,o){let a=Ra.createContext(o),l=i.length;i=[...i,o];function c(u){let{scope:f,children:h,...m}=u,p=f?.[t][l]||a,_=Ra.useMemo(()=>m,Object.values(m));return(0,i2.jsx)(p.Provider,{value:_,children:h})}function d(u,f){let h=f?.[t][l]||a,m=Ra.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}let r=()=>{let s=i.map(o=>Ra.createContext(o));return function(a){let l=a?.[t]||s;return Ra.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[n,x$(r,...e)]}function x$(...t){let e=t[0];if(t.length===1)return e;let i=()=>{let n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){let o=n.reduce((a,{useScope:l,scopeName:c})=>{let u=l(s)[`__scope${c}`];return{...a,...u}},{});return Ra.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return i.scopeName=e.scopeName,i}var ql=P(se(),1);var Ch=P(se(),1);function Xr(t){let e=Ch.useRef(t);return Ch.useEffect(()=>{e.current=t}),Ch.useMemo(()=>(...i)=>e.current?.(...i),[])}function Sh({prop:t,defaultProp:e,onChange:i=()=>{}}){let[n,r]=y$({defaultProp:e,onChange:i}),s=t!==void 0,o=s?t:n,a=Xr(i),l=ql.useCallback(c=>{if(s){let u=typeof c=="function"?c(t):c;u!==t&&a(u)}else r(c)},[s,t,r,a]);return[o,l]}function y$({defaultProp:t,onChange:e}){let i=ql.useState(t),[n]=i,r=ql.useRef(n),s=Xr(e);return ql.useEffect(()=>{r.current!==n&&(s(n),r.current=n)},[n,r,s]),i}var n2=P(se(),1);function w$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function z1(...t){return e=>t.forEach(i=>w$(i,e))}function zn(...t){return n2.useCallback(z1(...t),t)}var Jr=P(se(),1);var r2=["top","right","bottom","left"];var Rs=Math.min,hr=Math.max,Sp=Math.round,Ep=Math.floor,Aa=t=>({x:t,y:t}),C$={left:"right",right:"left",bottom:"top",top:"bottom"},S$={start:"end",end:"start"};function Ov(t,e,i){return hr(t,Rs(e,i))}function Fo(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Jc(t){return t.split("-")[1]}function Dv(t){return t==="x"?"y":"x"}function zv(t){return t==="y"?"height":"width"}function ka(t){return["top","bottom"].includes(Wo(t))?"y":"x"}function Pv(t){return Dv(ka(t))}function s2(t,e,i){i===void 0&&(i=!1);let n=Jc(t),r=Pv(t),s=zv(r),o=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Cp(o)),[o,Cp(o)]}function o2(t){let e=Cp(t);return[Nv(t),e,Nv(e)]}function Nv(t){return t.replace(/start|end/g,e=>S$[e])}function E$(t,e,i){let n=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return i?e?r:n:e?n:r;case"left":case"right":return e?s:o;default:return[]}}function a2(t,e,i,n){let r=Jc(t),s=E$(Wo(t),i==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Nv)))),s}function Cp(t){return t.replace(/left|right|bottom|top/g,e=>C$[e])}function M$(t){return{top:0,right:0,bottom:0,left:0,...t}}function P1(t){return typeof t!="number"?M$(t):{top:t,right:t,bottom:t,left:t}}function Zc(t){let{x:e,y:i,width:n,height:r}=t;return{width:n,height:r,top:i,left:e,right:e+n,bottom:i+r,x:e,y:i}}function l2(t,e,i){let{reference:n,floating:r}=t,s=ka(e),o=Pv(e),a=zv(o),l=Wo(e),c=s==="y",d=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2,f=n[a]/2-r[a]/2,h;switch(l){case"top":h={x:d,y:n.y-r.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:u};break;case"left":h={x:n.x-r.width,y:u};break;default:h={x:n.x,y:n.y}}switch(Jc(e)){case"start":h[o]-=f*(i&&c?-1:1);break;case"end":h[o]+=f*(i&&c?-1:1);break}return h}var u2=async(t,e,i)=>{let{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=i,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e)),c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:u}=l2(c,n,l),f=n,h={},m=0;for(let p=0;p<a.length;p++){let{name:_,fn:y}=a[p],{x:S,y:T,data:D,reset:k}=await y({x:d,y:u,initialPlacement:n,placement:f,strategy:r,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});d=S??d,u=T??u,h={...h,[_]:{...h[_],...D}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):k.rects),{x:d,y:u}=l2(c,f,l)),p=-1)}return{x:d,y:u,placement:f,strategy:r,middlewareData:h}};async function Eh(t,e){var i;e===void 0&&(e={});let{x:n,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:h=0}=Fo(e,t),m=P1(h),_=a[f?u==="floating"?"reference":"floating":u],y=Zc(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(_)))==null||i?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),S=u==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=Zc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:T,strategy:l}):S);return{top:(y.top-k.top+m.top)/D.y,bottom:(k.bottom-y.bottom+m.bottom)/D.y,left:(y.left-k.left+m.left)/D.x,right:(k.right-y.right+m.right)/D.x}}var h2=t=>({name:"arrow",options:t,async fn(e){let{x:i,y:n,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Fo(t,e)||{};if(c==null)return{};let u=P1(d),f={x:i,y:n},h=Pv(r),m=zv(h),p=await o.getDimensions(c),_=h==="y",y=_?"top":"left",S=_?"bottom":"right",T=_?"clientHeight":"clientWidth",D=s.reference[m]+s.reference[h]-f[h]-s.floating[m],k=f[h]-s.reference[h],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c)),M=b?b[T]:0;(!M||!await(o.isElement==null?void 0:o.isElement(b)))&&(M=a.floating[T]||s.floating[m]);let C=D/2-k/2,x=M/2-p[m]/2-1,w=Rs(u[y],x),E=Rs(u[S],x),O=w,j=M-p[m]-E,Q=M/2-p[m]/2+C,X=Ov(O,Q,j),K=!l.arrow&&Jc(r)!=null&&Q!==X&&s.reference[m]/2-(Q<O?w:E)-p[m]/2<0,Y=K?Q<O?Q-O:Q-j:0;return{[h]:f[h]+Y,data:{[h]:X,centerOffset:Q-X-Y,...K&&{alignmentOffset:Y}},reset:K}}});var f2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,n;let{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,..._}=Fo(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};let y=Wo(r),S=ka(a),T=Wo(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(T||!p?[Cp(a)]:o2(a)),b=m!=="none";!f&&b&&k.push(...a2(a,p,m,D));let M=[a,...k],C=await Eh(e,_),x=[],w=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&x.push(C[y]),u){let Q=s2(r,o,D);x.push(C[Q[0]],C[Q[1]])}if(w=[...w,{placement:r,overflows:x}],!x.every(Q=>Q<=0)){var E,O;let Q=(((E=s.flip)==null?void 0:E.index)||0)+1,X=M[Q];if(X)return{data:{index:Q,overflows:w},reset:{placement:X}};let K=(O=w.filter(Y=>Y.overflows[0]<=0).sort((Y,ie)=>Y.overflows[1]-ie.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(h){case"bestFit":{var j;let Y=(j=w.filter(ie=>{if(b){let be=ka(ie.placement);return be===S||be==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(be=>be>0).reduce((be,Pe)=>be+Pe,0)]).sort((ie,be)=>ie[1]-be[1])[0])==null?void 0:j[0];Y&&(K=Y);break}case"initialPlacement":K=a;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function c2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d2(t){return r2.some(e=>t[e]>=0)}var m2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:i}=e,{strategy:n="referenceHidden",...r}=Fo(t,e);switch(n){case"referenceHidden":{let s=await Eh(e,{...r,elementContext:"reference"}),o=c2(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:d2(o)}}}case"escaped":{let s=await Eh(e,{...r,altBoundary:!0}),o=c2(s,i.floating);return{data:{escapedOffsets:o,escaped:d2(o)}}}default:return{}}}}};async function I$(t,e){let{placement:i,platform:n,elements:r}=t,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Wo(i),a=Jc(i),l=ka(i)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=Fo(e,t),{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*d,y:f*c}:{x:f*c,y:h*d}}var p2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,n;let{x:r,y:s,placement:o,middlewareData:a}=e,l=await I$(e,t);return o===((i=a.offset)==null?void 0:i.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},g2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:i,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:S}=_;return{x:y,y:S}}},...l}=Fo(t,e),c={x:i,y:n},d=await Eh(e,l),u=ka(Wo(r)),f=Dv(u),h=c[f],m=c[u];if(s){let _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",S=h+d[_],T=h-d[y];h=Ov(S,h,T)}if(o){let _=u==="y"?"top":"left",y=u==="y"?"bottom":"right",S=m+d[_],T=m-d[y];m=Ov(S,m,T)}let p=a.fn({...e,[f]:h,[u]:m});return{...p,data:{x:p.x-i,y:p.y-n}}}}},_2=function(t){return t===void 0&&(t={}),{options:t,fn(e){let{x:i,y:n,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fo(t,e),d={x:i,y:n},u=ka(r),f=Dv(u),h=d[f],m=d[u],p=Fo(a,e),_=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let T=f==="y"?"height":"width",D=s.reference[f]-s.floating[T]+_.mainAxis,k=s.reference[f]+s.reference[T]-_.mainAxis;h<D?h=D:h>k&&(h=k)}if(c){var y,S;let T=f==="y"?"width":"height",D=["top","left"].includes(Wo(r)),k=s.reference[u]-s.floating[T]+(D&&((y=o.offset)==null?void 0:y[u])||0)+(D?0:_.crossAxis),b=s.reference[u]+s.reference[T]+(D?0:((S=o.offset)==null?void 0:S[u])||0)-(D?_.crossAxis:0);m<k?m=k:m>b&&(m=b)}return{[f]:h,[u]:m}}}},v2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:i,rects:n,platform:r,elements:s}=e,{apply:o=()=>{},...a}=Fo(t,e),l=await Eh(e,a),c=Wo(i),d=Jc(i),u=ka(i)==="y",{width:f,height:h}=n.floating,m,p;c==="top"||c==="bottom"?(m=c,p=d===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(p=c,m=d==="end"?"top":"bottom");let _=h-l.top-l.bottom,y=f-l.left-l.right,S=Rs(h-l[m],_),T=Rs(f-l[p],y),D=!e.middlewareData.shift,k=S,b=T;if(u?b=d||D?Rs(T,y):y:k=d||D?Rs(S,_):_,D&&!d){let C=hr(l.left,0),x=hr(l.right,0),w=hr(l.top,0),E=hr(l.bottom,0);u?b=f-2*(C!==0||x!==0?C+x:hr(l.left,l.right)):k=h-2*(w!==0||E!==0?w+E:hr(l.top,l.bottom))}await o({...e,availableWidth:b,availableHeight:k});let M=await r.getDimensions(s.floating);return f!==M.width||h!==M.height?{reset:{rects:!0}}:{}}}};function ed(t){return x2(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $o(t){var e;return(e=(x2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function x2(t){return t instanceof Node||t instanceof Ar(t).Node}function As(t){return t instanceof Element||t instanceof Ar(t).Element}function oo(t){return t instanceof HTMLElement||t instanceof Ar(t).HTMLElement}function b2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}function Mh(t){let{overflow:e,overflowX:i,overflowY:n,display:r}=ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(r)}function y2(t){return["table","td","th"].includes(ed(t))}function Mp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bv(t){let e=jv(),i=As(t)?ks(t):t;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function w2(t){let e=La(t);for(;oo(e)&&!td(e);){if(Bv(e))return e;if(Mp(e))return null;e=La(e)}return null}function jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function td(t){return["html","body","#document"].includes(ed(t))}function ks(t){return Ar(t).getComputedStyle(t)}function Ip(t){return As(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function La(t){if(ed(t)==="html")return t;let e=t.assignedSlot||t.parentNode||b2(t)&&t.host||$o(t);return b2(e)?e.host:e}function C2(t){let e=La(t);return td(e)?t.ownerDocument?t.ownerDocument.body:t.body:oo(e)&&Mh(e)?e:C2(e)}function Qc(t,e,i){var n;e===void 0&&(e=[]),i===void 0&&(i=!0);let r=C2(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ar(r);if(s){let a=Hv(o);return e.concat(o,o.visualViewport||[],Mh(r)?r:[],a&&i?Qc(a):[])}return e.concat(r,Qc(r,[],i))}function Hv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function M2(t){let e=ks(t),i=parseFloat(e.width)||0,n=parseFloat(e.height)||0,r=oo(t),s=r?t.offsetWidth:i,o=r?t.offsetHeight:n,a=Sp(i)!==s||Sp(n)!==o;return a&&(i=s,n=o),{width:i,height:n,$:a}}function j1(t){return As(t)?t:t.contextElement}function Ih(t){let e=j1(t);if(!oo(e))return Aa(1);let i=e.getBoundingClientRect(),{width:n,height:r,$:s}=M2(e),o=(s?Sp(i.width):i.width)/n,a=(s?Sp(i.height):i.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}var T$=Aa(0);function I2(t){let e=Ar(t);return!jv()||!e.visualViewport?T$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R$(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==Ar(t)?!1:e}function id(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);let r=t.getBoundingClientRect(),s=j1(t),o=Aa(1);e&&(n?As(n)&&(o=Ih(n)):o=Ih(t));let a=R$(s,i,n)?I2(s):Aa(0),l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,u=r.height/o.y;if(s){let f=Ar(s),h=n&&As(n)?Ar(n):n,m=f,p=Hv(m);for(;p&&n&&h!==m;){let _=Ih(p),y=p.getBoundingClientRect(),S=ks(p),T=y.left+(p.clientLeft+parseFloat(S.paddingLeft))*_.x,D=y.top+(p.clientTop+parseFloat(S.paddingTop))*_.y;l*=_.x,c*=_.y,d*=_.x,u*=_.y,l+=T,c+=D,m=Ar(p),p=Hv(m)}}return Zc({width:d,height:u,x:l,y:c})}function A$(t){let{elements:e,rect:i,offsetParent:n,strategy:r}=t,s=r==="fixed",o=$o(n),a=e?Mp(e.floating):!1;if(n===o||a&&s)return i;let l={scrollLeft:0,scrollTop:0},c=Aa(1),d=Aa(0),u=oo(n);if((u||!u&&!s)&&((ed(n)!=="body"||Mh(o))&&(l=Ip(n)),oo(n))){let f=id(n);c=Ih(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+d.x,y:i.y*c.y-l.scrollTop*c.y+d.y}}function k$(t){return Array.from(t.getClientRects())}function T2(t){return id($o(t)).left+Ip(t).scrollLeft}function L$(t){let e=$o(t),i=Ip(t),n=t.ownerDocument.body,r=hr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=hr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),o=-i.scrollLeft+T2(t),a=-i.scrollTop;return ks(n).direction==="rtl"&&(o+=hr(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:a}}function N$(t,e){let i=Ar(t),n=$o(t),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;let c=jv();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function O$(t,e){let i=id(t,!0,e==="fixed"),n=i.top+t.clientTop,r=i.left+t.clientLeft,s=oo(t)?Ih(t):Aa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function S2(t,e,i){let n;if(e==="viewport")n=N$(t,i);else if(e==="document")n=L$($o(t));else if(As(e))n=O$(e,i);else{let r=I2(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return Zc(n)}function R2(t,e){let i=La(t);return i===e||!As(i)||td(i)?!1:ks(i).position==="fixed"||R2(i,e)}function D$(t,e){let i=e.get(t);if(i)return i;let n=Qc(t,[],!1).filter(a=>As(a)&&ed(a)!=="body"),r=null,s=ks(t).position==="fixed",o=s?La(t):t;for(;As(o)&&!td(o);){let a=ks(o),l=Bv(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Mh(o)&&!l&&R2(t,o))?n=n.filter(d=>d!==o):r=a,o=La(o)}return e.set(t,n),n}function z$(t){let{element:e,boundary:i,rootBoundary:n,strategy:r}=t,o=[...i==="clippingAncestors"?Mp(e)?[]:D$(e,this._c):[].concat(i),n],a=o[0],l=o.reduce((c,d)=>{let u=S2(e,d,r);return c.top=hr(u.top,c.top),c.right=Rs(u.right,c.right),c.bottom=Rs(u.bottom,c.bottom),c.left=hr(u.left,c.left),c},S2(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P$(t){let{width:e,height:i}=M2(t);return{width:e,height:i}}function B$(t,e,i){let n=oo(e),r=$o(e),s=i==="fixed",o=id(t,!0,s,e),a={scrollLeft:0,scrollTop:0},l=Aa(0);if(n||!n&&!s)if((ed(e)!=="body"||Mh(r))&&(a=Ip(e)),n){let u=id(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=T2(r));let c=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function B1(t){return ks(t).position==="static"}function E2(t,e){return!oo(t)||ks(t).position==="fixed"?null:e?e(t):t.offsetParent}function A2(t,e){let i=Ar(t);if(Mp(t))return i;if(!oo(t)){let r=La(t);for(;r&&!td(r);){if(As(r)&&!B1(r))return r;r=La(r)}return i}let n=E2(t,e);for(;n&&y2(n)&&B1(n);)n=E2(n,e);return n&&td(n)&&B1(n)&&!Bv(n)?i:n||w2(t)||i}var j$=async function(t){let e=this.getOffsetParent||A2,i=this.getDimensions,n=await i(t.floating);return{reference:B$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function H$(t){return ks(t).direction==="rtl"}var k2={convertOffsetParentRelativeRectToViewportRelativeRect:A$,getDocumentElement:$o,getClippingRect:z$,getOffsetParent:A2,getElementRects:j$,getClientRects:k$,getDimensions:P$,getScale:Ih,isElement:As,isRTL:H$};function F$(t,e){let i=null,n,r=$o(t);function s(){var a;clearTimeout(n),(a=i)==null||a.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();let{left:c,top:d,width:u,height:f}=t.getBoundingClientRect();if(a||e(),!u||!f)return;let h=Ep(d),m=Ep(r.clientWidth-(c+u)),p=Ep(r.clientHeight-(d+f)),_=Ep(c),S={rootMargin:-h+"px "+-m+"px "+-p+"px "+-_+"px",threshold:hr(0,Rs(1,l))||1},T=!0;function D(k){let b=k[0].intersectionRatio;if(b!==l){if(!T)return o();b?o(!1,b):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{i=new IntersectionObserver(D,{...S,root:r.ownerDocument})}catch{i=new IntersectionObserver(D,S)}i.observe(t)}return o(!0),s}function H1(t,e,i,n){n===void 0&&(n={});let{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=j1(t),d=r||s?[...c?Qc(c):[],...Qc(e)]:[];d.forEach(y=>{r&&y.addEventListener("scroll",i,{passive:!0}),s&&y.addEventListener("resize",i)});let u=c&&a?F$(c,i):null,f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[S]=y;S&&S.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(e)})),i()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?id(t):null;l&&_();function _(){let y=id(t);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&i(),p=y,m=requestAnimationFrame(_)}return i(),()=>{var y;d.forEach(S=>{r&&S.removeEventListener("scroll",i),s&&S.removeEventListener("resize",i)}),u?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}var L2=p2;var N2=g2,O2=f2,D2=v2,z2=m2,F1=h2;var P2=_2,W1=(t,e,i)=>{let n=new Map,r={platform:k2,...i},s={...r.platform,_c:n};return u2(t,e,{...r,platform:s})};var nn=P(se(),1),$v=P(se(),1),H2=P(hv(),1),Fv=typeof document<"u"?$v.useLayoutEffect:$v.useEffect;function Wv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let i,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(i=t.length,i!==e.length)return!1;for(n=i;n--!==0;)if(!Wv(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),i=r.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=i;n--!==0;){let s=r[n];if(!(s==="_owner"&&t.$$typeof)&&!Wv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B2(t,e){let i=F2(t);return Math.round(e*i)/i}function j2(t){let e=nn.useRef(t);return Fv(()=>{e.current=t}),e}function W2(t){t===void 0&&(t={});let{placement:e="bottom",strategy:i="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=nn.useState({x:0,y:0,strategy:i,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=nn.useState(n);Wv(f,n)||h(n);let[m,p]=nn.useState(null),[_,y]=nn.useState(null),S=nn.useCallback(Y=>{Y!==b.current&&(b.current=Y,p(Y))},[]),T=nn.useCallback(Y=>{Y!==M.current&&(M.current=Y,y(Y))},[]),D=s||m,k=o||_,b=nn.useRef(null),M=nn.useRef(null),C=nn.useRef(d),x=l!=null,w=j2(l),E=j2(r),O=nn.useCallback(()=>{if(!b.current||!M.current)return;let Y={placement:e,strategy:i,middleware:f};E.current&&(Y.platform=E.current),W1(b.current,M.current,Y).then(ie=>{let be={...ie,isPositioned:!0};j.current&&!Wv(C.current,be)&&(C.current=be,H2.flushSync(()=>{u(be)}))})},[f,e,i,E]);Fv(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(Y=>({...Y,isPositioned:!1})))},[c]);let j=nn.useRef(!1);Fv(()=>(j.current=!0,()=>{j.current=!1}),[]),Fv(()=>{if(D&&(b.current=D),k&&(M.current=k),D&&k){if(w.current)return w.current(D,k,O);O()}},[D,k,O,w,x]);let Q=nn.useMemo(()=>({reference:b,floating:M,setReference:S,setFloating:T}),[S,T]),X=nn.useMemo(()=>({reference:D,floating:k}),[D,k]),K=nn.useMemo(()=>{let Y={position:i,left:0,top:0};if(!X.floating)return Y;let ie=B2(X.floating,d.x),be=B2(X.floating,d.y);return a?{...Y,transform:"translate("+ie+"px, "+be+"px)",...F2(X.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:ie,top:be}},[i,a,X.floating,d.x,d.y]);return nn.useMemo(()=>({...d,update:O,refs:Q,elements:X,floatingStyles:K}),[d,O,Q,X,K])}var W$=t=>{function e(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){let{element:n,padding:r}=typeof t=="function"?t(i):t;return n&&e(n)?n.current!=null?F1({element:n.current,padding:r}).fn(i):{}:n?F1({element:n,padding:r}).fn(i):{}}}},$2=(t,e)=>({...L2(t),options:[t,e]}),q2=(t,e)=>({...N2(t),options:[t,e]}),U2=(t,e)=>({...P2(t),options:[t,e]}),V2=(t,e)=>({...O2(t),options:[t,e]}),G2=(t,e)=>({...D2(t),options:[t,e]});var Y2=(t,e)=>({...z2(t),options:[t,e]});var K2=(t,e)=>({...W$(t),options:[t,e]});var eL=P(se(),1);var X2=P(se(),1),J2=P(hv(),1);var Pn=P(se(),1);var Th=P(me(),1),Tp=Pn.forwardRef((t,e)=>{let{children:i,...n}=t,r=Pn.Children.toArray(i),s=r.find(q$);if(s){let o=s.props.children,a=r.map(l=>l===s?Pn.Children.count(o)>1?Pn.Children.only(null):Pn.isValidElement(o)?o.props.children:null:l);return(0,Th.jsx)($1,{...n,ref:e,children:Pn.isValidElement(o)?Pn.cloneElement(o,void 0,a):null})}return(0,Th.jsx)($1,{...n,ref:e,children:i})});Tp.displayName="Slot";var $1=Pn.forwardRef((t,e)=>{let{children:i,...n}=t;if(Pn.isValidElement(i)){let r=V$(i);return Pn.cloneElement(i,{...U$(n,i.props),ref:e?z1(e,r):r})}return Pn.Children.count(i)>1?Pn.Children.only(null):null});$1.displayName="SlotClone";var $$=({children:t})=>(0,Th.jsx)(Th.Fragment,{children:t});function q$(t){return Pn.isValidElement(t)&&t.type===$$}function U$(t,e){let i={...e};for(let n in e){let r=t[n],s=e[n];/^on[A-Z]/.test(n)?r&&s?i[n]=(...a)=>{s(...a),r(...a)}:r&&(i[n]=r):n==="style"?i[n]={...r,...s}:n==="className"&&(i[n]=[r,s].filter(Boolean).join(" "))}return{...t,...i}}function V$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var Z2=P(me(),1),G$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yi=G$.reduce((t,e)=>{let i=X2.forwardRef((n,r)=>{let{asChild:s,...o}=n,a=s?Tp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,Z2.jsx)(a,{...o,ref:r})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function Q2(t,e){t&&J2.flushSync(()=>t.dispatchEvent(e))}var q1=P(me(),1),Y$="Arrow",tL=eL.forwardRef((t,e)=>{let{children:i,width:n=10,height:r=5,...s}=t;return(0,q1.jsx)(Yi.svg,{...s,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?i:(0,q1.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tL.displayName=Y$;var iL=tL;var nL=P(se(),1),kr=Boolean(globalThis?.document)?nL.useLayoutEffect:()=>{};var rL=P(se(),1);function sL(t){let[e,i]=rL.useState(void 0);return kr(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});let n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;let s=r[0],o,a;if("borderBoxSize"in s){let l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;i({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else i(void 0)},[t]),e}var Ul=P(me(),1);var U1="Popper",[oL,Rh]=$l(U1),[X$,aL]=oL(U1),lL=t=>{let{__scopePopper:e,children:i}=t,[n,r]=Jr.useState(null);return(0,Ul.jsx)(X$,{scope:e,anchor:n,onAnchorChange:r,children:i})};lL.displayName=U1;var cL="PopperAnchor",dL=Jr.forwardRef((t,e)=>{let{__scopePopper:i,virtualRef:n,...r}=t,s=aL(cL,i),o=Jr.useRef(null),a=zn(e,o);return Jr.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:(0,Ul.jsx)(Yi.div,{...r,ref:a})});dL.displayName=cL;var V1="PopperContent",[J$,Z$]=oL(V1),uL=Jr.forwardRef((t,e)=>{let{__scopePopper:i,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=t,_=aL(V1,i),[y,S]=Jr.useState(null),T=zn(e,bt=>S(bt)),[D,k]=Jr.useState(null),b=sL(D),M=b?.width??0,C=b?.height??0,x=n+(s!=="center"?"-"+s:""),w=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(c)?c:[c],O=E.length>0,j={padding:w,boundary:E.filter(eq),altBoundary:O},{refs:Q,floatingStyles:X,placement:K,isPositioned:Y,middlewareData:ie}=W2({strategy:"fixed",placement:x,whileElementsMounted:(...bt)=>H1(...bt,{animationFrame:h==="always"}),elements:{reference:_.anchor},middleware:[$2({mainAxis:r+C,alignmentAxis:o}),l&&q2({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?U2():void 0,...j}),l&&V2({...j}),G2({...j,apply:({elements:bt,rects:wt,availableWidth:oi,availableHeight:mi})=>{let{width:Ci,height:ye}=wt.reference,A=bt.floating.style;A.setProperty("--radix-popper-available-width",`${oi}px`),A.setProperty("--radix-popper-available-height",`${mi}px`),A.setProperty("--radix-popper-anchor-width",`${Ci}px`),A.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),D&&K2({element:D,padding:a}),tq({arrowWidth:M,arrowHeight:C}),f&&Y2({strategy:"referenceHidden",...j})]}),[be,Pe]=mL(K),we=Xr(m);kr(()=>{Y&&we?.()},[Y,we]);let Le=ie.arrow?.x,at=ie.arrow?.y,Ze=ie.arrow?.centerOffset!==0,[Je,lt]=Jr.useState();return kr(()=>{y&&lt(window.getComputedStyle(y).zIndex)},[y]),(0,Ul.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Y?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,["--radix-popper-transform-origin"]:[ie.transformOrigin?.x,ie.transformOrigin?.y].join(" "),...ie.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,Ul.jsx)(J$,{scope:i,placedSide:be,onArrowChange:k,arrowX:Le,arrowY:at,shouldHideArrow:Ze,children:(0,Ul.jsx)(Yi.div,{"data-side":be,"data-align":Pe,...p,ref:T,style:{...p.style,animation:Y?void 0:"none"}})})})});uL.displayName=V1;var hL="PopperArrow",Q$={top:"bottom",right:"left",bottom:"top",left:"right"},fL=Jr.forwardRef(function(e,i){let{__scopePopper:n,...r}=e,s=Z$(hL,n),o=Q$[s.placedSide];return(0,Ul.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,Ul.jsx)(iL,{...r,ref:i,style:{...r.style,display:"block"}})})});fL.displayName=hL;function eq(t){return t!==null}var tq=t=>({name:"transformOrigin",options:t,fn(e){let{placement:i,rects:n,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=mL(i),u={start:"0%",center:"50%",end:"100%"}[d],f=(r.arrow?.x??0)+a/2,h=(r.arrow?.y??0)+l/2,m="",p="";return c==="bottom"?(m=o?u:`${f}px`,p=`${-l}px`):c==="top"?(m=o?u:`${f}px`,p=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?u:`${h}px`):c==="left"&&(m=`${n.floating.width+l}px`,p=o?u:`${h}px`),{data:{x:m,y:p}}}});function mL(t){let[e,i="center"]=t.split("-");return[e,i]}var qv=lL,Rp=dL,Uv=uL,Vv=fL;var Gv=P(se(),1),gL=P(hv(),1);var _L=P(me(),1),iq="Portal",Ap=Gv.forwardRef((t,e)=>{let{container:i,...n}=t,[r,s]=Gv.useState(!1);kr(()=>s(!0),[]);let o=i||r&&globalThis?.document?.body;return o?gL.default.createPortal((0,_L.jsx)(Yi.div,{...n,ref:e}),o):null});Ap.displayName=iq;var Lr=P(se(),1),vL=P(hv(),1);var bL=P(se(),1);function nq(t,e){return bL.useReducer((i,n)=>e[i][n]??i,t)}var Na=t=>{let{present:e,children:i}=t,n=rq(e),r=typeof i=="function"?i({present:n.isPresent}):Lr.Children.only(i),s=zn(n.ref,sq(r));return typeof i=="function"||n.isPresent?Lr.cloneElement(r,{ref:s}):null};Na.displayName="Presence";function rq(t){let[e,i]=Lr.useState(),n=Lr.useRef({}),r=Lr.useRef(t),s=Lr.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Lr.useEffect(()=>{let c=Yv(n.current);s.current=a==="mounted"?c:"none"},[a]),kr(()=>{let c=n.current,d=r.current;if(d!==t){let f=s.current,h=Yv(c);t?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),kr(()=>{if(e){let c=u=>{let h=Yv(n.current).includes(u.animationName);u.target===e&&h&&vL.flushSync(()=>l("ANIMATION_END"))},d=u=>{u.target===e&&(s.current=Yv(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Lr.useCallback(c=>{c&&(n.current=getComputedStyle(c)),i(c)},[])}}function Yv(t){return t?.animationName||"none"}function sq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var ki=P(se(),1);var xL=P(se(),1);function yL(t,e=globalThis?.document){let i=Xr(t);xL.useEffect(()=>{let n=r=>{r.key==="Escape"&&i(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[i,e])}var Y1=P(me(),1),oq="DismissableLayer",G1="dismissableLayer.update",aq="dismissableLayer.pointerDownOutside",lq="dismissableLayer.focusOutside",wL,SL=ki.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=ki.forwardRef((t,e)=>{let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=ki.useContext(SL),[d,u]=ki.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=ki.useState({}),m=zn(e,M=>u(M)),p=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(_),S=d?p.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,D=S>=y,k=uq(M=>{let C=M.target,x=[...c.branches].some(w=>w.contains(C));!D||x||(r?.(M),o?.(M),M.defaultPrevented||a?.())},f),b=hq(M=>{let C=M.target;[...c.branches].some(w=>w.contains(C))||(s?.(M),o?.(M),M.defaultPrevented||a?.())},f);return yL(M=>{S===c.layers.size-1&&(n?.(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},f),ki.useEffect(()=>{if(d)return i&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(wL=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),CL(),()=>{i&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wL)}},[d,f,i,c]),ki.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),CL())},[d,c]),ki.useEffect(()=>{let M=()=>h({});return document.addEventListener(G1,M),()=>document.removeEventListener(G1,M)},[]),(0,Y1.jsx)(Yi.div,{...l,ref:m,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Bi(t.onFocusCapture,b.onFocusCapture),onBlurCapture:Bi(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Bi(t.onPointerDownCapture,k.onPointerDownCapture)})});kp.displayName=oq;var cq="DismissableLayerBranch",dq=ki.forwardRef((t,e)=>{let i=ki.useContext(SL),n=ki.useRef(null),r=zn(e,n);return ki.useEffect(()=>{let s=n.current;if(s)return i.branches.add(s),()=>{i.branches.delete(s)}},[i.branches]),(0,Y1.jsx)(Yi.div,{...t,ref:r})});dq.displayName=cq;function uq(t,e=globalThis?.document){let i=Xr(t),n=ki.useRef(!1),r=ki.useRef(()=>{});return ki.useEffect(()=>{let s=a=>{if(a.target&&!n.current){let c=function(){EL(aq,i,d,{discrete:!0})};var l=c;let d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,i]),{onPointerDownCapture:()=>n.current=!0}}function hq(t,e=globalThis?.document){let i=Xr(t),n=ki.useRef(!1);return ki.useEffect(()=>{let r=s=>{s.target&&!n.current&&EL(lq,i,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CL(){let t=new CustomEvent(G1);document.dispatchEvent(t)}function EL(t,e,i,{discrete:n}){let r=i.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});e&&r.addEventListener(t,e,{once:!0}),n?Q2(r,s):r.dispatchEvent(s)}var Zr=P(me(),1),K1,X1="HoverCard",[ML,Goe]=$l(X1,[Rh]),Jv=Rh(),[fq,Zv]=ML(X1),IL=t=>{let{__scopeHoverCard:e,children:i,open:n,defaultOpen:r,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=t,l=Jv(e),c=ji.useRef(0),d=ji.useRef(0),u=ji.useRef(!1),f=ji.useRef(!1),[h=!1,m]=Sh({prop:n,defaultProp:r,onChange:s}),p=ji.useCallback(()=>{clearTimeout(d.current),c.current=window.setTimeout(()=>m(!0),o)},[o,m]),_=ji.useCallback(()=>{clearTimeout(c.current),!u.current&&!f.current&&(d.current=window.setTimeout(()=>m(!1),a))},[a,m]),y=ji.useCallback(()=>m(!1),[m]);return ji.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(d.current)},[]),(0,Zr.jsx)(fq,{scope:e,open:h,onOpenChange:m,onOpen:p,onClose:_,onDismiss:y,hasSelectionRef:u,isPointerDownOnContentRef:f,children:(0,Zr.jsx)(qv,{...l,children:i})})};IL.displayName=X1;var TL="HoverCardTrigger",RL=ji.forwardRef((t,e)=>{let{__scopeHoverCard:i,...n}=t,r=Zv(TL,i),s=Jv(i);return(0,Zr.jsx)(Rp,{asChild:!0,...s,children:(0,Zr.jsx)(Yi.a,{"data-state":r.open?"open":"closed",...n,ref:e,onPointerEnter:Bi(t.onPointerEnter,Xv(r.onOpen)),onPointerLeave:Bi(t.onPointerLeave,Xv(r.onClose)),onFocus:Bi(t.onFocus,r.onOpen),onBlur:Bi(t.onBlur,r.onClose),onTouchStart:Bi(t.onTouchStart,o=>o.preventDefault())})})});RL.displayName=TL;var J1="HoverCardPortal",[mq,pq]=ML(J1,{forceMount:void 0}),AL=t=>{let{__scopeHoverCard:e,forceMount:i,children:n,container:r}=t,s=Zv(J1,e);return(0,Zr.jsx)(mq,{scope:e,forceMount:i,children:(0,Zr.jsx)(Na,{present:i||s.open,children:(0,Zr.jsx)(Ap,{asChild:!0,container:r,children:n})})})};AL.displayName=J1;var Kv="HoverCardContent",kL=ji.forwardRef((t,e)=>{let i=pq(Kv,t.__scopeHoverCard),{forceMount:n=i.forceMount,...r}=t,s=Zv(Kv,t.__scopeHoverCard);return(0,Zr.jsx)(Na,{present:n||s.open,children:(0,Zr.jsx)(gq,{"data-state":s.open?"open":"closed",...r,onPointerEnter:Bi(t.onPointerEnter,Xv(s.onOpen)),onPointerLeave:Bi(t.onPointerLeave,Xv(s.onClose)),ref:e})})});kL.displayName=Kv;var gq=ji.forwardRef((t,e)=>{let{__scopeHoverCard:i,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,...a}=t,l=Zv(Kv,i),c=Jv(i),d=ji.useRef(null),u=zn(e,d),[f,h]=ji.useState(!1);return ji.useEffect(()=>{if(f){let m=document.body;return K1=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=K1,m.style.webkitUserSelect=K1}}},[f]),ji.useEffect(()=>{if(d.current){let m=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),ji.useEffect(()=>{d.current&&vq(d.current).forEach(p=>p.setAttribute("tabindex","-1"))}),(0,Zr.jsx)(kp,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:Bi(s,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:(0,Zr.jsx)(Uv,{...c,...a,onPointerDown:Bi(a.onPointerDown,m=>{m.currentTarget.contains(m.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:u,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),_q="HoverCardArrow",LL=ji.forwardRef((t,e)=>{let{__scopeHoverCard:i,...n}=t,r=Jv(i);return(0,Zr.jsx)(Vv,{...r,...n,ref:e})});LL.displayName=_q;function Xv(t){return e=>e.pointerType==="touch"?void 0:t()}function vq(t){let e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;i.nextNode();)e.push(i.currentNode);return e}var NL=IL,OL=RL,DL=AL,zL=kL,PL=LL;function hn({children:t,openDelay:e=400,card:i,side:n,arrowClass:r="fill-white"}){let[s,o]=(0,BL.useState)(!1);return(0,Oa.jsxs)(NL,{openDelay:e,children:[(0,Oa.jsx)(OL,{asChild:!0,onMouseEnter:()=>o(!0),children:t}),(0,Oa.jsx)(DL,{children:(0,Oa.jsxs)(zL,{className:"exclude-from-outline hover-card-content",sideOffset:5,side:n,children:[typeof i=="function"?s&&i({load:s}):i,(0,Oa.jsx)(PL,{className:r})]})})]})}function Ah({title:t,children:e}){return(0,Oa.jsx)(hn,{side:"top",card:(0,Oa.jsx)("div",{className:"p-1 text-xs text-white bg-blue-900 dark:bg-white dark:text-black",children:t}),arrowClass:"fill-blue-900 dark:fill-white",children:e})}var Da=P(me(),1);var jL=P(Et(),1);function Vl({url:t,title:e,internal:i=!1,loading:n=!1,description:r,thumbnail:s,className:o="w-[300px] sm:max-w-[500px] bg-white rounded shadow-md"}){let a=Ts(),l=ur(),c=En(t,l);return(0,Da.jsxs)("div",{className:(0,jL.default)("hover-card-content rounded overflow-hidden",o,{"animate-pulse":n}),children:[!n&&s&&(0,Da.jsx)("img",{src:s,className:"w-full h-[150px] object-cover object-top object-left m-0"}),n&&(0,Da.jsx)("div",{className:"animate-pulse bg-slate-100 dark:bg-slate-800 w-full h-[150px]"}),i&&(0,Da.jsx)(a,{to:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",prefetch:"intent",children:e}),!i&&(0,Da.jsxs)("a",{href:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,Da.jsx)(Qn,{width:"1rem",height:"1rem",className:"float-right"}),e]}),!n&&r&&(0,Da.jsx)("div",{className:"p-3 prose text-sm max-h-[300px] overflow-hidden",children:r})]})}var za=P(me(),1);function xq({node:t}){return t.children?(0,za.jsx)("div",{children:(0,za.jsx)(xe,{ast:t.children})}):(0,za.jsx)("span",{children:t.value})}function Z1(t,e){var i,n,r;let s=(i=t[e.type])!==null&&i!==void 0?i:t.DefaultComponent,o=(n=Object.entries(s!=null?s:{}).reverse().find(([a])=>a!=="base"&&ok(a,e)))===null||n===void 0?void 0:n[1];return(r=o!=null?o:s==null?void 0:s.base)!==null&&r!==void 0?r:xq}function xe({ast:t}){let e=Lk();if(!t||t.length===0)return null;if(!Array.isArray(t)){let i=Z1(e,t);return(0,za.jsx)(i,{node:t},t.key)}return(0,za.jsx)(za.Fragment,{children:t==null?void 0:t.map(i=>{let n=Z1(e,i);return(0,za.jsx)(n,{node:i},i.key)})})}var yq={text({node:t}){var e;if(!(!((e=t.value)===null||e===void 0)&&e.includes("\u200B")))return(0,Ue.jsx)(Ue.Fragment,{children:t.value});let i=t.value.split("\u200B");return(0,Ue.jsx)(Ue.Fragment,{children:i.map((n,r)=>(0,Ue.jsxs)(HL.default.Fragment,{children:[n,r<i.length-1&&(0,Ue.jsx)("wbr",{})]},r))})},span({node:t}){return(0,Ue.jsx)("span",{className:t.class,style:t.style,id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},div({node:t}){return(0,Ue.jsx)("div",{className:t.class,style:t.style,id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},delete({node:t}){return(0,Ue.jsx)("del",{children:(0,Ue.jsx)(xe,{ast:t.children})})},strong({node:t}){return(0,Ue.jsx)("strong",{children:(0,Ue.jsx)(xe,{ast:t.children})})},emphasis({node:t}){return(0,Ue.jsx)("em",{children:(0,Ue.jsx)(xe,{ast:t.children})})},underline({node:t}){return(0,Ue.jsx)("span",{style:{textDecoration:"underline"},children:(0,Ue.jsx)(xe,{ast:t.children})})},smallcaps({node:t}){return(0,Ue.jsx)("span",{style:{fontVariant:"small-caps"},children:(0,Ue.jsx)(xe,{ast:t.children})})},link({node:t}){return(0,Ue.jsx)("a",{target:"_blank",href:t.url,rel:"noreferrer",children:(0,Ue.jsx)(xe,{ast:t.children})})},paragraph({node:t}){return(0,Ue.jsx)("p",{id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},algorithmLine({node:t}){var e;let i={paddingLeft:`${((e=t.indent)!==null&&e!==void 0?e:0)+2}rem`};return(0,Ue.jsx)("p",{className:"line",style:i,"data-line-number":t.enumerator,children:(0,Ue.jsx)(xe,{ast:t.children})})},break(){return(0,Ue.jsx)("br",{})},inlineMath({node:t}){return(0,Ue.jsx)("code",{children:t.value})},math({node:t}){return(0,Ue.jsx)("code",{children:t.value})},list({node:t}){return t.ordered?(0,Ue.jsx)("ol",{start:t.start||void 0,id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})}):(0,Ue.jsx)("ul",{id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},listItem({node:t}){return t.checked==null?(0,Ue.jsx)("li",{children:(0,Ue.jsx)(xe,{ast:t.children})}):(0,Ue.jsxs)("li",{className:"task-list-item",children:[(0,Ue.jsx)("input",{type:"checkbox",className:"task-list-item-checkbox",defaultChecked:t.checked}),(0,Ue.jsx)(xe,{ast:t.children})]})},container({node:t}){let e=`fig-${t.kind}`;return(0,Ue.jsx)("figure",{id:t.html_id||t.identifier||t.key,className:(0,Qv.default)({[e]:!!t.kind,subcontainer:t.subcontainer},t.class),children:(0,Ue.jsx)(xe,{ast:t.children})})},caption({node:t}){return(0,Ue.jsx)("figcaption",{className:"group",children:(0,Ue.jsx)(xe,{ast:t.children})})},legend({node:t}){return(0,Ue.jsx)("figcaption",{className:"text-sm",children:(0,Ue.jsx)(xe,{ast:t.children})})},blockquote({node:t}){return(0,Ue.jsx)("blockquote",{id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},thematicBreak(){return(0,Ue.jsx)("hr",{className:"py-2 my-5 translate-y-2"})},captionNumber({node:t}){let e=t.html_id||t.identifier||t.key;return(0,Ue.jsx)(gi,{id:e,kind:t.kind,className:"mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold",children:(0,Ue.jsx)(xe,{ast:t.children})})},table({node:t}){return(0,Ue.jsx)("table",{className:t.class,style:t.style,children:(0,Ue.jsx)("tbody",{children:(0,Ue.jsx)(xe,{ast:t.children})})})},tableRow({node:t}){return(0,Ue.jsx)("tr",{className:t.class,style:t.style,children:(0,Ue.jsx)(xe,{ast:t.children})})},tableCell({node:t}){let e=r=>r===1?void 0:r,i={rowSpan:e(t.rowspan),colSpan:e(t.colspan)},n={"text-left":t.align==="left","text-right":t.align==="right","text-center":t.align==="center"};return t.header?(0,Ue.jsx)("th",Object.assign({className:(0,Qv.default)(t.class,n),style:t.style},i,{children:(0,Ue.jsx)(xe,{ast:t.children})})):(0,Ue.jsx)("td",Object.assign({className:(0,Qv.default)(t.class,n),style:t.style},i,{children:(0,Ue.jsx)(xe,{ast:t.children})}))},subscript({node:t}){return(0,Ue.jsx)("sub",{children:(0,Ue.jsx)(xe,{ast:t.children})})},superscript({node:t}){return(0,Ue.jsx)("sup",{children:(0,Ue.jsx)(xe,{ast:t.children})})},abbreviation({node:t}){return(0,Ue.jsx)(Ah,{title:t.title,children:(0,Ue.jsx)("abbr",{"aria-label":t.title,className:"border-b border-dotted cursor-help",children:(0,Ue.jsx)(xe,{ast:t.children})})})},mystComment(){return null},comment(){return null},definitionList({node:t}){return(0,Ue.jsx)("dl",{className:"my-5",id:t.html_id,children:(0,Ue.jsx)(xe,{ast:t.children})})},definitionTerm({node:t}){var e,i;let n=new Set(["text","emphasis"]),r=(i=(e=t.children)===null||e===void 0?void 0:e.reduce((s,o)=>s&&n.has(o.type),!0))!==null&&i!==void 0?i:!1;return(0,Ue.jsx)("dt",{id:t.html_id,children:r?(0,Ue.jsx)("strong",{children:(0,Ue.jsx)(xe,{ast:t.children})}):(0,Ue.jsx)(xe,{ast:t.children})})},definitionDescription({node:t}){return(0,Ue.jsx)("dd",{children:(0,Ue.jsx)(xe,{ast:t.children})})},keyboard({node:t}){return(0,Ue.jsx)("kbd",{children:(0,Ue.jsx)(xe,{ast:t.children})})},include({node:t}){return(0,Ue.jsx)(xe,{ast:t.children})}},FL=yq;var Gt=P(me(),1);var kh=P(se(),1);function wq({title:t,titleId:e,...i},n){return kh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?kh.createElement("title",{id:e},t):null,kh.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}var Cq=kh.forwardRef(wq),Lp=Cq;var Lh=P(se(),1);function Sq({title:t,titleId:e,...i},n){return Lh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Lh.createElement("title",{id:e},t):null,Lh.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}var Eq=Lh.forwardRef(Sq),ao=Eq;var Nh=P(se(),1);function Mq({title:t,titleId:e,...i},n){return Nh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Nh.createElement("title",{id:e},t):null,Nh.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var Iq=Nh.forwardRef(Mq),Q1=Iq;var Oh=P(se(),1);function Tq({title:t,titleId:e,...i},n){return Oh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Oh.createElement("title",{id:e},t):null,Oh.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var Rq=Oh.forwardRef(Tq),eC=Rq;var Dh=P(se(),1);function Aq({title:t,titleId:e,...i},n){return Dh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?Dh.createElement("title",{id:e},t):null,Dh.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}var kq=Dh.forwardRef(Aq),tC=kq;var zh=P(se(),1);function Lq({title:t,titleId:e,...i},n){return zh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},i),t?zh.createElement("title",{id:e},t):null,zh.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}var Nq=zh.forwardRef(Lq),iC=Nq;var Pa=P(Et(),1);var kt;(function(t){t.admonition="admonition",t.attention="attention",t.caution="caution",t.danger="danger",t.error="error",t.important="important",t.hint="hint",t.note="note",t.seealso="seealso",t.tip="tip",t.warning="warning"})(kt||(kt={}));function Oq(t){var e;let i=(e=t==null?void 0:t.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n))!==null&&e!==void 0?e:[];return[...new Set(i)]}function Dq({kind:t,classes:e=[]}){return t===kt.note||e.includes("note")?{kind:kt.note,color:"blue"}:t===kt.important||e.includes("important")?{kind:kt.important,color:"blue"}:t===kt.hint||e.includes("hint")?{kind:kt.hint,color:"green"}:t===kt.seealso||e.includes("seealso")?{kind:kt.seealso,color:"green"}:t===kt.tip||e.includes("tip")?{kind:kt.tip,color:"green"}:t===kt.attention||e.includes("attention")?{kind:kt.attention,color:"yellow"}:t===kt.warning||e.includes("warning")?{kind:kt.warning,color:"yellow"}:t===kt.caution||e.includes("caution")?{kind:kt.caution,color:"yellow"}:t===kt.danger||e.includes("danger")?{kind:kt.danger,color:"red"}:t===kt.error||e.includes("error")?{kind:kt.error,color:"red"}:{kind:kt.note,color:"blue"}}var WL="inline-block pl-2 mr-2 self-center flex-none";function zq({kind:t,className:e}){let n={width:"2rem",height:"2rem",className:(0,Pa.default)(WL,e)};return t===kt.note?(0,Gt.jsx)(hh,Object.assign({},n)):t===kt.caution?(0,Gt.jsx)(so,Object.assign({},n)):t===kt.warning?(0,Gt.jsx)(eC,Object.assign({},n)):t===kt.danger?(0,Gt.jsx)(Q1,Object.assign({},n)):t===kt.error?(0,Gt.jsx)(iC,Object.assign({},n)):t===kt.attention?(0,Gt.jsx)(R1,Object.assign({},n)):t===kt.tip?(0,Gt.jsx)(k1,Object.assign({},n)):t===kt.hint?(0,Gt.jsx)(I1,Object.assign({},n)):t===kt.important?(0,Gt.jsx)(Lp,Object.assign({},n)):t===kt.seealso?(0,Gt.jsx)(v1,Object.assign({},n)):(0,Gt.jsx)(hh,Object.assign({},n))}var Pq=({node:t})=>(0,Gt.jsx)(xe,{ast:t.children}),Bq=({dropdown:t,className:e,children:i,open:n})=>t?(0,Gt.jsx)("details",{className:e,open:n,children:i}):(0,Gt.jsx)("aside",{className:e,children:i}),jq=({dropdown:t,className:e,children:i})=>t?(0,Gt.jsx)("summary",{className:e,children:i}):(0,Gt.jsx)("div",{className:e,children:i});function $L({title:t,kind:e,color:i,simple:n,dropdown:r,children:s,hideIcon:o,className:a,open:l}){return(0,Gt.jsxs)(Bq,{dropdown:r,open:l,className:(0,Pa.default)("my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900","bg-gray-50/10 dark:bg-stone-800","overflow-hidden",{"rounded border-l-4":!n,"border-l-2":n,"border-blue-500":!i||i==="blue","border-green-600":i==="green","border-amber-600":i==="yellow","border-red-600":i==="red"},a),children:[t&&(0,Gt.jsxs)(jq,{dropdown:r,className:(0,Pa.default)("m-0 font-medium py-1 flex min-w-0",{"text-lg":!n,"text-md":n,"bg-gray-100 dark:bg-stone-700":n,"text-blue-600 bg-blue-50 dark:bg-slate-900":!n&&(!i||i==="blue"),"text-green-600 bg-green-50 dark:bg-slate-900":!n&&i==="green","text-amber-600 bg-amber-50 dark:bg-slate-900":!n&&i==="yellow","text-red-600 bg-red-50 dark:bg-slate-900":!n&&i==="red","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":r}),children:[!o&&(0,Gt.jsx)(zq,{kind:e!=null?e:kt.note,className:(0,Pa.default)({"text-blue-600":!i||i==="blue","text-green-600":i==="green","text-amber-600":i==="yellow","text-red-600":i==="red"})}),(0,Gt.jsx)("div",{className:(0,Pa.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":o}),children:t}),r&&(0,Gt.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Gt.jsx)(ao,{width:"2rem",height:"2rem",className:(0,Pa.default)(WL,"transition-transform details-toggle")})})]}),(0,Gt.jsx)("div",{className:(0,Pa.default)("px-4",{"py-1":!n,"details-body":r}),children:s})]})}var Hq=({node:t})=>{let[e,...i]=t.children,n=Oq(t.class),{kind:r,color:s}=Dq({kind:t.kind,classes:n}),o=n.includes("dropdown"),a=n.includes("simple"),l=t.icon===!1,c=t.open===!0,d=(e==null?void 0:e.type)==="admonitionTitle";return(0,Gt.jsx)($L,{title:d?(0,Gt.jsx)(xe,{ast:[e]}):void 0,kind:r,color:s,dropdown:o,open:c,simple:a,hideIcon:l,className:(0,Pa.default)(n),children:d?(0,Gt.jsx)(xe,{ast:i}):(0,Gt.jsx)(xe,{ast:t.children})})},Fq={admonition:Hq,admonitionTitle:Pq},qL=Fq;var Ls=P(me(),1);var eb=P(Et(),1);var Wq="inline-block pl-2 mr-2 -translate-y-[1px]",$q=({node:t})=>(0,Ls.jsx)(xe,{ast:t.children});function UL({title:t,children:e,open:i}){return(0,Ls.jsxs)("details",{className:(0,eb.default)("rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden","bg-gray-50 dark:bg-stone-800"),open:i,children:[(0,Ls.jsx)("summary",{className:(0,eb.default)("m-0 text-lg font-medium py-1 min-h-[2em] pl-3","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]","bg-gray-100 dark:bg-slate-900"),children:(0,Ls.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[(0,Ls.jsx)("span",{className:"block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Ls.jsx)(ao,{width:"1.5rem",height:"1.5rem",className:(0,eb.default)(Wq,"details-toggle","transition-transform")})}),t]})}),(0,Ls.jsx)("div",{className:"px-4 py-1 details-body",children:e})]})}var qq=({node:t})=>{let[e,...i]=t.children;return(0,Ls.jsx)(UL,{title:(0,Ls.jsx)(xe,{ast:[e]}),open:t.open,children:(0,Ls.jsx)(xe,{ast:i})})},Uq={details:qq,summary:$q},VL=Uq;var rn=P(me(),1),GL=P(Et(),1);var Vq=({node:t})=>(0,rn.jsx)("header",{className:"py-1 pl-3 m-0 border-b border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",children:(0,rn.jsx)(xe,{ast:t.children})}),Gq=({node:t})=>(0,rn.jsx)("footer",{className:"py-1 pl-3 m-0 border-t border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",children:(0,rn.jsx)(xe,{ast:t.children})}),Yq=({node:t})=>(0,rn.jsx)("div",{className:"pt-3 font-bold group-hover:underline",children:(0,rn.jsx)(xe,{ast:t.children})});function Kq(t){var e,i;let n={};if(!Array.isArray(t))return n;let r=[...t];return((e=r[0])===null||e===void 0?void 0:e.type)==="header"&&(n.header=r.splice(0,1)),((i=r[r.length-1])===null||i===void 0?void 0:i.type)==="footer"&&(n.footer=r.splice(-1,1)),n.body=r,n}function Xq({to:t,className:e,isStatic:i,prefetch:n="intent",children:r}){let s=Ts(),o=ur();return t.startsWith("http")||i?(0,rn.jsx)("a",{href:t,className:e,target:"_blank",rel:"noopener noreferrer",children:r}):(0,rn.jsx)(s,{to:En(t,o),className:e,prefetch:n,children:r})}var Jq=({node:t})=>{let e=Kq(t.children),i=t.url,n=t.static||!1,r=!!i,s="my-5 rounded shadow dark:shadow-neutral-800 overflow-hidden border border-gray-100 dark:border-gray-800 flex flex-col";return r?(0,rn.jsxs)(Xq,{to:i,isStatic:n,className:(0,GL.default)(s,"text-inherit hover:text-inherit","block font-normal no-underline hover:no-underline cursor-pointer group","hover:border-blue-500 dark:hover:border-blue-400"),children:[(0,rn.jsx)(xe,{ast:e.header}),(0,rn.jsx)("div",{className:"flex-grow px-4 py-2",children:(0,rn.jsx)(xe,{ast:e.body})}),(0,rn.jsx)(xe,{ast:e.footer})]}):(0,rn.jsxs)("div",{className:s,children:[(0,rn.jsx)(xe,{ast:e.header}),(0,rn.jsx)("div",{className:"flex-grow px-4 py-2",children:(0,rn.jsx)(xe,{ast:e.body})}),(0,rn.jsx)(xe,{ast:e.footer})]})},Zq={card:Jq,cardTitle:Yq,header:Vq,footer:Gq},YL=Zq;var tb=P(me(),1),XL=P(Et(),1);var Ph={main:["grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8","grid-cols-9","grid-cols-10","grid-cols-11","grid-cols-12"],sm:["sm:grid-cols-1","sm:grid-cols-2","sm:grid-cols-3","sm:grid-cols-4","sm:grid-cols-5","sm:grid-cols-6","sm:grid-cols-7","sm:grid-cols-8","sm:grid-cols-9","sm:grid-cols-10","sm:grid-cols-11","sm:grid-cols-12"],md:["md:grid-cols-1","md:grid-cols-2","md:grid-cols-3","md:grid-cols-4","md:grid-cols-5","md:grid-cols-6","md:grid-cols-7","md:grid-cols-8","md:grid-cols-9","md:grid-cols-10","md:grid-cols-11","md:grid-cols-12"],lg:["lg:grid-cols-1","lg:grid-cols-2","lg:grid-cols-3","lg:grid-cols-4","lg:grid-cols-5","lg:grid-cols-6","lg:grid-cols-7","lg:grid-cols-8","lg:grid-cols-9","lg:grid-cols-10","lg:grid-cols-11","lg:grid-cols-12"],xl:["xl:grid-cols-1","xl:grid-cols-2","xl:grid-cols-3","xl:grid-cols-4","xl:grid-cols-5","xl:grid-cols-6","xl:grid-cols-7","xl:grid-cols-8","xl:grid-cols-9","xl:grid-cols-10","xl:grid-cols-11","xl:grid-cols-12"]},KL=3;function nd(t,e){var i;let n=Number(e);return!e||Number.isNaN(n)?nd(t,KL):(i=t[n-1])!==null&&i!==void 0?i:t[KL]}function Qq(t){return!t||t.length<=1?nd(Ph.main,t==null?void 0:t[0]):t.length!==4?nd(Ph.main,t[0]):[nd(Ph.sm,t[0]),nd(Ph.md,t[1]),nd(Ph.lg,t[2]),nd(Ph.xl,t[3])].join(" ")}function e9({columns:t,children:e}){let i=Qq(t);return(0,tb.jsx)("div",{className:(0,XL.default)("myst-grid grid my-5",i,"gap-4"),children:e})}var t9=({node:t})=>(0,tb.jsx)(e9,{columns:t.columns,children:(0,tb.jsx)(xe,{ast:t.children})}),i9={grid:t9},JL=i9;var Nr=P(me(),1),ZL=P(Et(),1);var ib=P(me(),1);function lo({value:t,message:e}){return(0,ib.jsxs)("span",{className:"text-yellow-600",title:e||t,children:[(0,ib.jsx)(so,{width:"1rem",height:"1rem",className:"inline mr-1"}),t]})}function n9(){var t;let e=Ta();return!!(!((t=e==null?void 0:e.options)===null||t===void 0)&&t.numbered_references)}function r9({html:t}){return(0,Nr.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",dangerouslySetInnerHTML:{__html:t||""}})}var s9=({node:t})=>{var e,i;let n=(i=(e=t.children)===null||e===void 0?void 0:e.every(r=>r.type==="cite"))!==null&&i!==void 0?i:!1;return(0,Nr.jsx)("span",{className:(0,ZL.default)({"cite-group":n,"xref-group":!n,narrative:t.kind==="narrative",parenthetical:t.kind==="parenthetical"}),children:(0,Nr.jsx)(xe,{ast:t.children})})},o9=({label:t,error:e,children:i})=>{var n,r;let s=Ho();if(!t)return(0,Nr.jsx)(lo,{value:"cite (no label)",message:"Citation Has No Label"});let{html:o,doi:a,url:l}=(r=(n=s==null?void 0:s.cite)===null||n===void 0?void 0:n.data[t])!==null&&r!==void 0?r:{};if(e)return(0,Nr.jsx)(lo,{value:t,message:"Citation Not Found"});let c=a?lk.buildUrl(a):l;return(0,Nr.jsx)(hn,{openDelay:300,card:(0,Nr.jsx)(r9,{html:o}),children:(0,Nr.jsxs)("cite",{children:[c&&(0,Nr.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",className:"hover-link",children:i}),!c&&(0,Nr.jsx)("span",{className:"hover-link",children:i})]})})},a9=({node:t})=>{let e=n9();return(0,Nr.jsx)(o9,{label:t.label,error:t.error,children:e&&t.kind==="parenthetical"?t.enumerator:(0,Nr.jsx)(xe,{ast:t.children})})},l9={citeGroup:s9,cite:a9},QL=l9;var qo=P(me(),1);function c9({identifier:t}){var e,i;let n=Ho(),r=(i=(e=n==null?void 0:n.footnotes)===null||e===void 0?void 0:e[t])!==null&&i!==void 0?i:ak(`footnoteDefinition[identifier=${t}]`,n==null?void 0:n.article);return(0,qo.jsx)(Rv,{children:(0,qo.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] px-3 text-sm",children:(0,qo.jsx)(xe,{ast:r==null?void 0:r.children})})})}var d9=({node:t})=>{var e,i;return(0,qo.jsx)(hn,{openDelay:0,card:(0,qo.jsx)(c9,{identifier:t.identifier}),children:(0,qo.jsx)("span",{id:`fnref-${t.key}`,children:(0,qo.jsx)("sup",{className:"hover-link",children:(0,qo.jsxs)(gi,{id:`fn-${t.identifier}`,title:"Link to Footnote",scrollBehavior:"instant",canSelectText:!0,children:["[",(i=(e=t.enumerator)!==null&&e!==void 0?e:t.number)!==null&&i!==void 0?i:t.identifier,"]"]})})})})},u9={footnoteReference:d9,footnoteDefinition:()=>null},eN=u9;var Or=P(me(),1);function tN(t,e){if(t==null)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;i[n]=t[n]}return i}function iN(t,e){if(t==null)return{};var i,n,r=tN(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.includes(i)||{}.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}g6();function nN(t){if(Array.isArray(t))return wk(t)}function rN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}_6();function sN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(t){return nN(t)||rN(t)||Ck(t)||sN()}a1();var Gl=P(se());bk();a1();var cN=P(se());function aN(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Bh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(i),!0).forEach(function(n){Is(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):aN(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function h9(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var nC={};function f9(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return nC[e]||(nC[e]=h9(t)),nC[e]}function m9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=t.filter(function(s){return s!=="token"}),r=f9(n);return r.reduce(function(s,o){return Bh(Bh({},s),i[o])},e)}function lN(t){return t.join(" ")}function p9(t,e){var i=0;return function(n){return i+=1,n.map(function(r,s){return nb({node:r,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(i,"-").concat(s)})})}}function nb(t){var e=t.node,i=t.stylesheet,n=t.style,r=n===void 0?{}:n,s=t.useInlineStyles,o=t.key,a=e.properties,l=e.type,c=e.tagName,d=e.value;if(l==="text")return d;if(c){var u=p9(i,s),f;if(!s)f=Bh(Bh({},a),{},{className:lN(a.className)});else{var h=Object.keys(i).reduce(function(y,S){return S.split(".").forEach(function(T){y.includes(T)||y.push(T)}),y},[]),m=a.className&&a.className.includes("token")?["token"]:[],p=a.className&&m.concat(a.className.filter(function(y){return!h.includes(y)}));f=Bh(Bh({},a),{},{className:lN(p)||void 0,style:m9(a.className,Object.assign({},a.style,r),i)})}var _=u(e.children);return cN.default.createElement(c,yv({key:o},f),_)}}var rb=function(t,e){var i=t.listLanguages();return i.indexOf(e)!==-1};var g9=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function dN(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Uo(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(i),!0).forEach(function(n){Is(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dN(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var _9=/\n/g;function v9(t){return t.match(_9)}function b9(t){var e=t.lines,i=t.startingLineNumber,n=t.style;return e.map(function(r,s){var o=s+i;return Gl.default.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof n=="function"?n(o):n},"".concat(o,`
`))})}function x9(t){var e=t.codeString,i=t.codeStyle,n=t.containerStyle,r=n===void 0?{float:"left",paddingRight:"10px"}:n,s=t.numberStyle,o=s===void 0?{}:s,a=t.startingLineNumber;return Gl.default.createElement("code",{style:Object.assign({},i,r)},b9({lines:e.replace(/\n$/,"").split(`
`),style:o,startingLineNumber:a}))}function y9(t){return"".concat(t.toString().length,".25em")}function uN(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function hN(t,e,i){var n={display:"inline-block",minWidth:y9(i),paddingRight:"1em",textAlign:"right",userSelect:"none"},r=typeof t=="function"?t(e):t,s=Uo(Uo({},n),r);return s}function sb(t){var e=t.children,i=t.lineNumber,n=t.lineNumberStyle,r=t.largestLineNumber,s=t.showInlineLineNumbers,o=t.lineProps,a=o===void 0?{}:o,l=t.className,c=l===void 0?[]:l,d=t.showLineNumbers,u=t.wrapLongLines,f=typeof a=="function"?a(i):a;if(f.className=c,i&&s){var h=hN(n,i,r);e.unshift(uN(i,h))}return u&d&&(f.style=Uo(Uo({},f.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:f,children:e}}function fN(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=0;n<t.length;n++){var r=t[n];if(r.type==="text")i.push(sb({children:[r],className:oN(new Set(e))}));else if(r.children){var s=e.concat(r.properties.className);fN(r.children,s).forEach(function(o){return i.push(o)})}}return i}function w9(t,e,i,n,r,s,o,a,l){var c,d=fN(t.value),u=[],f=-1,h=0;function m(k,b){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return sb({children:k,lineNumber:b,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:r,lineProps:i,className:M,showLineNumbers:n,wrapLongLines:l})}function p(k,b){if(n&&b&&r){var M=hN(a,b,o);k.unshift(uN(b,M))}return k}function _(k,b){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||M.length>0?m(k,b,M):p(k,b)}for(var y=function(){var b=d[h],M=b.children[0].value,C=v9(M);if(C){var x=M.split(`
`);x.forEach(function(w,E){var O=n&&u.length+s,j={type:"text",value:"".concat(w,`
`)};if(E===0){var Q=d.slice(f+1,h).concat(sb({children:[j],className:b.properties.className})),X=_(Q,O);u.push(X)}else if(E===x.length-1){var K=d[h+1]&&d[h+1].children&&d[h+1].children[0],Y={type:"text",value:"".concat(w)};if(K){var ie=sb({children:[Y],className:b.properties.className});d.splice(h+1,0,ie)}else{var be=[Y],Pe=_(be,O,b.properties.className);u.push(Pe)}}else{var we=[j],Le=_(we,O,b.properties.className);u.push(Le)}}),f=h}h++};h<d.length;)y();if(f!==d.length-1){var S=d.slice(f+1,d.length);if(S&&S.length){var T=n&&u.length+s,D=_(S,T);u.push(D)}}return e?u:(c=[]).concat.apply(c,u)}function C9(t){var e=t.rows,i=t.stylesheet,n=t.useInlineStyles;return e.map(function(r,s){return nb({node:r,stylesheet:i,useInlineStyles:n,key:"code-segement".concat(s)})})}function mN(t){return t&&typeof t.highlightAuto<"u"}function S9(t){var e=t.astGenerator,i=t.language,n=t.code,r=t.defaultCodeValue;if(mN(e)){var s=rb(e,i);return i==="text"?{value:r,language:"text"}:s?e.highlight(i,n):e.highlightAuto(n)}try{return i&&i!=="text"?{value:e.highlight(n,i)}:{value:r}}catch{return{value:r}}}function pN(t,e){return function(n){var r=n.language,s=n.children,o=n.style,a=o===void 0?e:o,l=n.customStyle,c=l===void 0?{}:l,d=n.codeTagProps,u=d===void 0?{className:r?"language-".concat(r):void 0,style:Uo(Uo({},a['code[class*="language-"]']),a['code[class*="language-'.concat(r,'"]')])}:d,f=n.useInlineStyles,h=f===void 0?!0:f,m=n.showLineNumbers,p=m===void 0?!1:m,_=n.showInlineLineNumbers,y=_===void 0?!0:_,S=n.startingLineNumber,T=S===void 0?1:S,D=n.lineNumberContainerStyle,k=n.lineNumberStyle,b=k===void 0?{}:k,M=n.wrapLines,C=n.wrapLongLines,x=C===void 0?!1:C,w=n.lineProps,E=w===void 0?{}:w,O=n.renderer,j=n.PreTag,Q=j===void 0?"pre":j,X=n.CodeTag,K=X===void 0?"code":X,Y=n.code,ie=Y===void 0?(Array.isArray(s)?s[0]:s)||"":Y,be=n.astGenerator,Pe=iN(n,g9);be=be||t;var we=p?Gl.default.createElement(x9,{containerStyle:D,codeStyle:u.style||{},numberStyle:b,startingLineNumber:T,codeString:ie}):null,Le=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},at=mN(be)?"hljs":"prismjs",Ze=h?Object.assign({},Pe,{style:Object.assign({},Le,c)}):Object.assign({},Pe,{className:Pe.className?"".concat(at," ").concat(Pe.className):at,style:Object.assign({},c)});if(x?u.style=Uo(Uo({},u.style),{},{whiteSpace:"pre-wrap"}):u.style=Uo(Uo({},u.style),{},{whiteSpace:"pre"}),!be)return Gl.default.createElement(Q,Ze,we,Gl.default.createElement(K,u,ie));(M===void 0&&O||x)&&(M=!0),O=O||C9;var Je=[{type:"text",value:ie}],lt=S9({astGenerator:be,language:r,code:ie,defaultCodeValue:Je});lt.language===null&&(lt.value=Je);var bt=lt.value.length+T,wt=w9(lt,M,E,p,y,T,bt,b,x);return Gl.default.createElement(Q,Ze,Gl.default.createElement(K,u,!y&&we,O({rows:wt,stylesheet:a,useInlineStyles:h})))}}function gN(t,e,i,n,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void i(c)}a.done?e(l):Promise.resolve(l).then(n,r)}function ob(t){return function(){var e=this,i=arguments;return new Promise(function(n,r){var s=t.apply(e,i);function o(l){gN(s,n,r,o,a,"next",l)}function a(l){gN(s,n,r,o,a,"throw",l)}o(void 0)})}}bk();function _N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}p6();function vN(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yk(n.key),n)}}function bN(t,e,i){return e&&vN(t.prototype,e),i&&vN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ab(t,e)}function xN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}m6();function yN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wN(t,e){if(e&&(xk(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yN(t)}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}a1();var oC=P(sC()),aC=P(se());function E9(t){var e=M9();return function(){var n=Np(t),r;if(e){var s=Np(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wN(this,r)}}function M9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TN=function(t){var e=t.loader,i=t.isLanguageRegistered,n=t.registerLanguage,r=t.languageLoaders,s=t.noAsyncLoadingLanguages,o=function(a){xN(c,a);var l=E9(c);function c(){return _N(this,c),l.apply(this,arguments)}return bN(c,[{key:"componentDidUpdate",value:function(){!c.isRegistered(this.props.language)&&r&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var u=this;c.astGeneratorPromise||c.loadAstGenerator(),c.astGenerator||c.astGeneratorPromise.then(function(){u.forceUpdate()}),!c.isRegistered(this.props.language)&&r&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var u=this,f=this.props.language;f!=="text"&&c.loadLanguage(f).then(function(){return u.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(u){return c.isSupportedLanguage(u)?u:"text"}},{key:"render",value:function(){return aC.default.createElement(c.highlightInstance,yv({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:c.astGenerator}))}}],[{key:"preload",value:function(){return c.loadAstGenerator()}},{key:"loadLanguage",value:function(){var d=ob(oC.default.mark(function f(h){var m;return oC.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(m=r[h],typeof m!="function"){_.next=5;break}return _.abrupt("return",m(c.registerLanguage));case 5:throw new Error("Language ".concat(h," not supported"));case 6:case"end":return _.stop()}},f)}));function u(f){return d.apply(this,arguments)}return u}()},{key:"isSupportedLanguage",value:function(u){return c.isRegistered(u)||typeof r[u]=="function"}},{key:"loadAstGenerator",value:function(){return c.astGeneratorPromise=e().then(function(u){c.astGenerator=u,n&&c.languages.forEach(function(f,h){return n(u,h,f)})}),c.astGeneratorPromise}}]),c}(aC.default.PureComponent);return Is(o,"astGenerator",null),Is(o,"highlightInstance",pN(null,{})),Is(o,"astGeneratorPromise",null),Is(o,"languages",new Map),Is(o,"supportedLanguages",t.supportedLanguages||Object.keys(r||{})),Is(o,"isRegistered",function(a){if(s)return!0;if(!n)throw new Error("Current syntax highlighter doesn't support registration of languages");return o.astGenerator?i(o.astGenerator,a):o.languages.has(a)}),Is(o,"registerLanguage",function(a,l){if(!n)throw new Error("Current syntax highlighter doesn't support registration of languages");if(o.astGenerator)return n(o.astGenerator,a,l);o.languages.set(a,l)}),o};var lC=P(sC()),ee=function(t,e){return function(){var i=ob(lC.default.mark(function n(r){var s;return lC.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:s=a.sent,r(t,s.default||s);case 4:case"end":return a.stop()}},n)}));return function(n){return i.apply(this,arguments)}}()};var RN={oneC:ee("oneC",function(){return import("/myst_assets_folder/_shared/1c-IBZIHMLJ.js")}),abnf:ee("abnf",function(){return import("/myst_assets_folder/_shared/abnf-H5YG5WAU.js")}),accesslog:ee("accesslog",function(){return import("/myst_assets_folder/_shared/accesslog-WX4JB2DP.js")}),actionscript:ee("actionscript",function(){return import("/myst_assets_folder/_shared/actionscript-S6WBX2MF.js")}),ada:ee("ada",function(){return import("/myst_assets_folder/_shared/ada-GB6WTEDA.js")}),angelscript:ee("angelscript",function(){return import("/myst_assets_folder/_shared/angelscript-5EYH3JKU.js")}),apache:ee("apache",function(){return import("/myst_assets_folder/_shared/apache-IALTJLM2.js")}),applescript:ee("applescript",function(){return import("/myst_assets_folder/_shared/applescript-DE5W4YJC.js")}),arcade:ee("arcade",function(){return import("/myst_assets_folder/_shared/arcade-6DRSERZ2.js")}),arduino:ee("arduino",function(){return import("/myst_assets_folder/_shared/arduino-67DN7DFH.js")}),armasm:ee("armasm",function(){return import("/myst_assets_folder/_shared/armasm-HG66SAFY.js")}),asciidoc:ee("asciidoc",function(){return import("/myst_assets_folder/_shared/asciidoc-DD7DA4YS.js")}),aspectj:ee("aspectj",function(){return import("/myst_assets_folder/_shared/aspectj-GQ25LSGH.js")}),autohotkey:ee("autohotkey",function(){return import("/myst_assets_folder/_shared/autohotkey-PAYMD4NK.js")}),autoit:ee("autoit",function(){return import("/myst_assets_folder/_shared/autoit-DJBK7LID.js")}),avrasm:ee("avrasm",function(){return import("/myst_assets_folder/_shared/avrasm-BN3V3VUP.js")}),awk:ee("awk",function(){return import("/myst_assets_folder/_shared/awk-MU2C2IBU.js")}),axapta:ee("axapta",function(){return import("/myst_assets_folder/_shared/axapta-GGPK34MP.js")}),bash:ee("bash",function(){return import("/myst_assets_folder/_shared/bash-L675OJA5.js")}),basic:ee("basic",function(){return import("/myst_assets_folder/_shared/basic-A5Q3Q2FZ.js")}),bnf:ee("bnf",function(){return import("/myst_assets_folder/_shared/bnf-WTBTT24L.js")}),brainfuck:ee("brainfuck",function(){return import("/myst_assets_folder/_shared/brainfuck-MSACI5FY.js")}),cLike:ee("cLike",function(){return import("/myst_assets_folder/_shared/c-like-6USPJIIK.js")}),c:ee("c",function(){return import("/myst_assets_folder/_shared/c-2OEKA26R.js")}),cal:ee("cal",function(){return import("/myst_assets_folder/_shared/cal-ARPCH72J.js")}),capnproto:ee("capnproto",function(){return import("/myst_assets_folder/_shared/capnproto-F6Y76QRM.js")}),ceylon:ee("ceylon",function(){return import("/myst_assets_folder/_shared/ceylon-D37BOSUJ.js")}),clean:ee("clean",function(){return import("/myst_assets_folder/_shared/clean-BB4ZAQ7O.js")}),clojureRepl:ee("clojureRepl",function(){return import("/myst_assets_folder/_shared/clojure-repl-ADYZKNJR.js")}),clojure:ee("clojure",function(){return import("/myst_assets_folder/_shared/clojure-RXV4NEGC.js")}),cmake:ee("cmake",function(){return import("/myst_assets_folder/_shared/cmake-YFBTWLGU.js")}),coffeescript:ee("coffeescript",function(){return import("/myst_assets_folder/_shared/coffeescript-ITD2Y6SU.js")}),coq:ee("coq",function(){return import("/myst_assets_folder/_shared/coq-LXU45DAA.js")}),cos:ee("cos",function(){return import("/myst_assets_folder/_shared/cos-QG6AGKVN.js")}),cpp:ee("cpp",function(){return import("/myst_assets_folder/_shared/cpp-AWJJL6GV.js")}),crmsh:ee("crmsh",function(){return import("/myst_assets_folder/_shared/crmsh-HHGX3TBV.js")}),crystal:ee("crystal",function(){return import("/myst_assets_folder/_shared/crystal-ZE5HGNBB.js")}),csharp:ee("csharp",function(){return import("/myst_assets_folder/_shared/csharp-LD2SW3FH.js")}),csp:ee("csp",function(){return import("/myst_assets_folder/_shared/csp-PX7FT6ZW.js")}),css:ee("css",function(){return import("/myst_assets_folder/_shared/css-DIKTOT7D.js")}),d:ee("d",function(){return import("/myst_assets_folder/_shared/d-TUAF4V44.js")}),dart:ee("dart",function(){return import("/myst_assets_folder/_shared/dart-JCP7Z6AQ.js")}),delphi:ee("delphi",function(){return import("/myst_assets_folder/_shared/delphi-3DZ734H7.js")}),diff:ee("diff",function(){return import("/myst_assets_folder/_shared/diff-KXPAK5U5.js")}),django:ee("django",function(){return import("/myst_assets_folder/_shared/django-ZLNAMXF2.js")}),dns:ee("dns",function(){return import("/myst_assets_folder/_shared/dns-ATZRTQNS.js")}),dockerfile:ee("dockerfile",function(){return import("/myst_assets_folder/_shared/dockerfile-7J5VVXYT.js")}),dos:ee("dos",function(){return import("/myst_assets_folder/_shared/dos-CEPMA4PG.js")}),dsconfig:ee("dsconfig",function(){return import("/myst_assets_folder/_shared/dsconfig-BGC2RT32.js")}),dts:ee("dts",function(){return import("/myst_assets_folder/_shared/dts-O3BUVJ2V.js")}),dust:ee("dust",function(){return import("/myst_assets_folder/_shared/dust-RCDOA3NQ.js")}),ebnf:ee("ebnf",function(){return import("/myst_assets_folder/_shared/ebnf-KBTK6QMG.js")}),elixir:ee("elixir",function(){return import("/myst_assets_folder/_shared/elixir-GWA6YMNS.js")}),elm:ee("elm",function(){return import("/myst_assets_folder/_shared/elm-C5DNOGVS.js")}),erb:ee("erb",function(){return import("/myst_assets_folder/_shared/erb-ZWEAIMO7.js")}),erlangRepl:ee("erlangRepl",function(){return import("/myst_assets_folder/_shared/erlang-repl-PKLLLR5Q.js")}),erlang:ee("erlang",function(){return import("/myst_assets_folder/_shared/erlang-MFR3VWC3.js")}),excel:ee("excel",function(){return import("/myst_assets_folder/_shared/excel-PJZLREW6.js")}),fix:ee("fix",function(){return import("/myst_assets_folder/_shared/fix-6KAPKTQR.js")}),flix:ee("flix",function(){return import("/myst_assets_folder/_shared/flix-GX7EWZHS.js")}),fortran:ee("fortran",function(){return import("/myst_assets_folder/_shared/fortran-357FREG3.js")}),fsharp:ee("fsharp",function(){return import("/myst_assets_folder/_shared/fsharp-EWIVX6PA.js")}),gams:ee("gams",function(){return import("/myst_assets_folder/_shared/gams-RVFYRK73.js")}),gauss:ee("gauss",function(){return import("/myst_assets_folder/_shared/gauss-7W5VLWTN.js")}),gcode:ee("gcode",function(){return import("/myst_assets_folder/_shared/gcode-52VCAWBZ.js")}),gherkin:ee("gherkin",function(){return import("/myst_assets_folder/_shared/gherkin-KAH55BV4.js")}),glsl:ee("glsl",function(){return import("/myst_assets_folder/_shared/glsl-JCFCBZDX.js")}),gml:ee("gml",function(){return import("/myst_assets_folder/_shared/gml-5AWI4CNZ.js")}),go:ee("go",function(){return import("/myst_assets_folder/_shared/go-DE2XK3XJ.js")}),golo:ee("golo",function(){return import("/myst_assets_folder/_shared/golo-NSXEPA44.js")}),gradle:ee("gradle",function(){return import("/myst_assets_folder/_shared/gradle-XVHDUVTF.js")}),groovy:ee("groovy",function(){return import("/myst_assets_folder/_shared/groovy-UJXXEJ5S.js")}),haml:ee("haml",function(){return import("/myst_assets_folder/_shared/haml-P37ZAOJ5.js")}),handlebars:ee("handlebars",function(){return import("/myst_assets_folder/_shared/handlebars-PI47CWWR.js")}),haskell:ee("haskell",function(){return import("/myst_assets_folder/_shared/haskell-CHZVAE4F.js")}),haxe:ee("haxe",function(){return import("/myst_assets_folder/_shared/haxe-WEZRS2DZ.js")}),hsp:ee("hsp",function(){return import("/myst_assets_folder/_shared/hsp-P4RYX3HX.js")}),htmlbars:ee("htmlbars",function(){return import("/myst_assets_folder/_shared/htmlbars-PGCS6MIP.js")}),http:ee("http",function(){return import("/myst_assets_folder/_shared/http-XM66TDNJ.js")}),hy:ee("hy",function(){return import("/myst_assets_folder/_shared/hy-U6TUFQH2.js")}),inform7:ee("inform7",function(){return import("/myst_assets_folder/_shared/inform7-OATYESUG.js")}),ini:ee("ini",function(){return import("/myst_assets_folder/_shared/ini-W7FWJ6YY.js")}),irpf90:ee("irpf90",function(){return import("/myst_assets_folder/_shared/irpf90-6GZWS2H4.js")}),isbl:ee("isbl",function(){return import("/myst_assets_folder/_shared/isbl-GBZT6I62.js")}),java:ee("java",function(){return import("/myst_assets_folder/_shared/java-6FNGG7AU.js")}),javascript:ee("javascript",function(){return import("/myst_assets_folder/_shared/javascript-VFY7FS7E.js")}),jbossCli:ee("jbossCli",function(){return import("/myst_assets_folder/_shared/jboss-cli-U6QHYQDE.js")}),json:ee("json",function(){return import("/myst_assets_folder/_shared/json-VMXL4VAP.js")}),juliaRepl:ee("juliaRepl",function(){return import("/myst_assets_folder/_shared/julia-repl-7SLHPUI6.js")}),julia:ee("julia",function(){return import("/myst_assets_folder/_shared/julia-W5EPTBPS.js")}),kotlin:ee("kotlin",function(){return import("/myst_assets_folder/_shared/kotlin-IBAIUNTC.js")}),lasso:ee("lasso",function(){return import("/myst_assets_folder/_shared/lasso-GEUAJ6QR.js")}),latex:ee("latex",function(){return import("/myst_assets_folder/_shared/latex-EYHB772A.js")}),ldif:ee("ldif",function(){return import("/myst_assets_folder/_shared/ldif-PF2RFD6A.js")}),leaf:ee("leaf",function(){return import("/myst_assets_folder/_shared/leaf-ZWSOGFW6.js")}),less:ee("less",function(){return import("/myst_assets_folder/_shared/less-5YMLBYIQ.js")}),lisp:ee("lisp",function(){return import("/myst_assets_folder/_shared/lisp-HV3477GH.js")}),livecodeserver:ee("livecodeserver",function(){return import("/myst_assets_folder/_shared/livecodeserver-2FPJMHOK.js")}),livescript:ee("livescript",function(){return import("/myst_assets_folder/_shared/livescript-P3KJLH4N.js")}),llvm:ee("llvm",function(){return import("/myst_assets_folder/_shared/llvm-ON4IS26Z.js")}),lsl:ee("lsl",function(){return import("/myst_assets_folder/_shared/lsl-GQE2253T.js")}),lua:ee("lua",function(){return import("/myst_assets_folder/_shared/lua-TAWBNV2Y.js")}),makefile:ee("makefile",function(){return import("/myst_assets_folder/_shared/makefile-GLP3ZNG5.js")}),markdown:ee("markdown",function(){return import("/myst_assets_folder/_shared/markdown-36H6RPRY.js")}),mathematica:ee("mathematica",function(){return import("/myst_assets_folder/_shared/mathematica-6UZQJP22.js")}),matlab:ee("matlab",function(){return import("/myst_assets_folder/_shared/matlab-ZBY4YQ77.js")}),maxima:ee("maxima",function(){return import("/myst_assets_folder/_shared/maxima-JGPJVQCI.js")}),mel:ee("mel",function(){return import("/myst_assets_folder/_shared/mel-P34KRRXL.js")}),mercury:ee("mercury",function(){return import("/myst_assets_folder/_shared/mercury-P24YDJY2.js")}),mipsasm:ee("mipsasm",function(){return import("/myst_assets_folder/_shared/mipsasm-L52S7IG6.js")}),mizar:ee("mizar",function(){return import("/myst_assets_folder/_shared/mizar-7NQJJAUZ.js")}),mojolicious:ee("mojolicious",function(){return import("/myst_assets_folder/_shared/mojolicious-TRE6ORIF.js")}),monkey:ee("monkey",function(){return import("/myst_assets_folder/_shared/monkey-MB5JK3BS.js")}),moonscript:ee("moonscript",function(){return import("/myst_assets_folder/_shared/moonscript-H7ICHITH.js")}),n1ql:ee("n1ql",function(){return import("/myst_assets_folder/_shared/n1ql-XJUT6E22.js")}),nginx:ee("nginx",function(){return import("/myst_assets_folder/_shared/nginx-LVPVD643.js")}),nim:ee("nim",function(){return import("/myst_assets_folder/_shared/nim-Q4Z6HPAD.js")}),nix:ee("nix",function(){return import("/myst_assets_folder/_shared/nix-2ZT5CQ3N.js")}),nodeRepl:ee("nodeRepl",function(){return import("/myst_assets_folder/_shared/node-repl-PX4MXBZ2.js")}),nsis:ee("nsis",function(){return import("/myst_assets_folder/_shared/nsis-DYO3DAFC.js")}),objectivec:ee("objectivec",function(){return import("/myst_assets_folder/_shared/objectivec-DGVIKCGF.js")}),ocaml:ee("ocaml",function(){return import("/myst_assets_folder/_shared/ocaml-FPGGCFWG.js")}),openscad:ee("openscad",function(){return import("/myst_assets_folder/_shared/openscad-GRN7MJIL.js")}),oxygene:ee("oxygene",function(){return import("/myst_assets_folder/_shared/oxygene-VO4B2I7Q.js")}),parser3:ee("parser3",function(){return import("/myst_assets_folder/_shared/parser3-QN7KG6YZ.js")}),perl:ee("perl",function(){return import("/myst_assets_folder/_shared/perl-5QDVEG4O.js")}),pf:ee("pf",function(){return import("/myst_assets_folder/_shared/pf-WFVHY5DA.js")}),pgsql:ee("pgsql",function(){return import("/myst_assets_folder/_shared/pgsql-YQK5T43G.js")}),phpTemplate:ee("phpTemplate",function(){return import("/myst_assets_folder/_shared/php-template-2YPK6AJE.js")}),php:ee("php",function(){return import("/myst_assets_folder/_shared/php-73JEMUOP.js")}),plaintext:ee("plaintext",function(){return import("/myst_assets_folder/_shared/plaintext-VGDKTBOE.js")}),pony:ee("pony",function(){return import("/myst_assets_folder/_shared/pony-TO6DYV6Z.js")}),powershell:ee("powershell",function(){return import("/myst_assets_folder/_shared/powershell-76SYWGCM.js")}),processing:ee("processing",function(){return import("/myst_assets_folder/_shared/processing-X6BNME7E.js")}),profile:ee("profile",function(){return import("/myst_assets_folder/_shared/profile-G3RAWQVV.js")}),prolog:ee("prolog",function(){return import("/myst_assets_folder/_shared/prolog-2K5T32QX.js")}),properties:ee("properties",function(){return import("/myst_assets_folder/_shared/properties-6OPJYNVN.js")}),protobuf:ee("protobuf",function(){return import("/myst_assets_folder/_shared/protobuf-5NPWI2H2.js")}),puppet:ee("puppet",function(){return import("/myst_assets_folder/_shared/puppet-H7BNKWAM.js")}),purebasic:ee("purebasic",function(){return import("/myst_assets_folder/_shared/purebasic-K4CSNMLU.js")}),pythonRepl:ee("pythonRepl",function(){return import("/myst_assets_folder/_shared/python-repl-7IXW45LL.js")}),python:ee("python",function(){return import("/myst_assets_folder/_shared/python-AHZ2UC4D.js")}),q:ee("q",function(){return import("/myst_assets_folder/_shared/q-A3MCOZE5.js")}),qml:ee("qml",function(){return import("/myst_assets_folder/_shared/qml-CFZJ4BX7.js")}),r:ee("r",function(){return import("/myst_assets_folder/_shared/r-S2ZLKLWC.js")}),reasonml:ee("reasonml",function(){return import("/myst_assets_folder/_shared/reasonml-NETQIDOC.js")}),rib:ee("rib",function(){return import("/myst_assets_folder/_shared/rib-UGO4L6DW.js")}),roboconf:ee("roboconf",function(){return import("/myst_assets_folder/_shared/roboconf-6BYNKZKB.js")}),routeros:ee("routeros",function(){return import("/myst_assets_folder/_shared/routeros-6AQCNSSW.js")}),rsl:ee("rsl",function(){return import("/myst_assets_folder/_shared/rsl-O2D6DVEV.js")}),ruby:ee("ruby",function(){return import("/myst_assets_folder/_shared/ruby-OG6W7Q7N.js")}),ruleslanguage:ee("ruleslanguage",function(){return import("/myst_assets_folder/_shared/ruleslanguage-RVKBDSYH.js")}),rust:ee("rust",function(){return import("/myst_assets_folder/_shared/rust-NAGK3BYL.js")}),sas:ee("sas",function(){return import("/myst_assets_folder/_shared/sas-LQS7GBBF.js")}),scala:ee("scala",function(){return import("/myst_assets_folder/_shared/scala-JAAC4TH7.js")}),scheme:ee("scheme",function(){return import("/myst_assets_folder/_shared/scheme-FZ37EAKN.js")}),scilab:ee("scilab",function(){return import("/myst_assets_folder/_shared/scilab-65RCKM4O.js")}),scss:ee("scss",function(){return import("/myst_assets_folder/_shared/scss-A5G6C5KM.js")}),shell:ee("shell",function(){return import("/myst_assets_folder/_shared/shell-JJYZC475.js")}),smali:ee("smali",function(){return import("/myst_assets_folder/_shared/smali-NG7CY5Q2.js")}),smalltalk:ee("smalltalk",function(){return import("/myst_assets_folder/_shared/smalltalk-TYOGYTUX.js")}),sml:ee("sml",function(){return import("/myst_assets_folder/_shared/sml-CRWBZYHM.js")}),sqf:ee("sqf",function(){return import("/myst_assets_folder/_shared/sqf-BNAQ3UD7.js")}),sql:ee("sql",function(){return import("/myst_assets_folder/_shared/sql-KFOSERSL.js")}),sqlMore:ee("sqlMore",function(){return import("/myst_assets_folder/_shared/sql_more-YGWLSG76.js")}),stan:ee("stan",function(){return import("/myst_assets_folder/_shared/stan-X4UCIEVF.js")}),stata:ee("stata",function(){return import("/myst_assets_folder/_shared/stata-3RBOVFT5.js")}),step21:ee("step21",function(){return import("/myst_assets_folder/_shared/step21-JNWF6NIE.js")}),stylus:ee("stylus",function(){return import("/myst_assets_folder/_shared/stylus-UKULHJHL.js")}),subunit:ee("subunit",function(){return import("/myst_assets_folder/_shared/subunit-MG7MFKYM.js")}),swift:ee("swift",function(){return import("/myst_assets_folder/_shared/swift-2XO5PYKQ.js")}),taggerscript:ee("taggerscript",function(){return import("/myst_assets_folder/_shared/taggerscript-UUC26V6Z.js")}),tap:ee("tap",function(){return import("/myst_assets_folder/_shared/tap-BE4UOI5K.js")}),tcl:ee("tcl",function(){return import("/myst_assets_folder/_shared/tcl-D23CXKML.js")}),thrift:ee("thrift",function(){return import("/myst_assets_folder/_shared/thrift-LAS3XYCD.js")}),tp:ee("tp",function(){return import("/myst_assets_folder/_shared/tp-OBZX3754.js")}),twig:ee("twig",function(){return import("/myst_assets_folder/_shared/twig-QIGFO6PA.js")}),typescript:ee("typescript",function(){return import("/myst_assets_folder/_shared/typescript-IOJBN27K.js")}),vala:ee("vala",function(){return import("/myst_assets_folder/_shared/vala-S7XT4ZDZ.js")}),vbnet:ee("vbnet",function(){return import("/myst_assets_folder/_shared/vbnet-JUHP322S.js")}),vbscriptHtml:ee("vbscriptHtml",function(){return import("/myst_assets_folder/_shared/vbscript-html-YYZDKXRC.js")}),vbscript:ee("vbscript",function(){return import("/myst_assets_folder/_shared/vbscript-OIMF62A7.js")}),verilog:ee("verilog",function(){return import("/myst_assets_folder/_shared/verilog-V3HXGXFZ.js")}),vhdl:ee("vhdl",function(){return import("/myst_assets_folder/_shared/vhdl-JIQNSVH7.js")}),vim:ee("vim",function(){return import("/myst_assets_folder/_shared/vim-A6QCWCOA.js")}),x86asm:ee("x86asm",function(){return import("/myst_assets_folder/_shared/x86asm-Y2MGEGFG.js")}),xl:ee("xl",function(){return import("/myst_assets_folder/_shared/xl-LG67A3RJ.js")}),xml:ee("xml",function(){return import("/myst_assets_folder/_shared/xml-XW4LINEJ.js")}),xquery:ee("xquery",function(){return import("/myst_assets_folder/_shared/xquery-LUXP5AQ3.js")}),yaml:ee("yaml",function(){return import("/myst_assets_folder/_shared/yaml-JHAWRGTM.js")}),zephir:ee("zephir",function(){return import("/myst_assets_folder/_shared/zephir-JC4LPBHW.js")})};var cC=TN({loader:function(){return import("/myst_assets_folder/_shared/core-JU3TCMI3.js").then(function(e){return e.default||e})},isLanguageRegistered:function(e,i){return!!rb(e,i)},languageLoaders:RN,registerLanguage:function(e,i,n){return e.registerLanguage(i,n)}});var cb=P(Et(),1);var AN=P(se(),1);function I9(t){switch(t){case"html":return"xml";default:return t}}function Vo(t){let{value:e,lang:i,identifier:n,emphasizeLines:r,showLineNumbers:s,className:o,showCopy:a=!0,startingLineNumber:l=1,filename:c,shadow:d,background:u,border:f}=t,h=(0,AN.useMemo)(()=>{let m=new Set(r);return{language:I9(i),startingLineNumber:l,showLineNumbers:s,useInlineStyles:!0,wrapLines:!0,lineNumberContainerStyle:{display:"inline-block",float:"left",minWidth:"1.25em",paddingRight:"1em",textAlign:"right",userSelect:"none",borderLeft:"4px solid transparent"},lineProps:p=>typeof p=="boolean"?{}:m.has(p)?{"data-line-number":`${p}`,"data-highlight":"true"}:{"data-line-number":`${p}`},customStyle:{backgroundColor:"unset"}}},[r]);return(0,Or.jsxs)("div",{id:n,className:(0,cb.default)("relative group not-prose overflow-auto",o,{"shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm":d,"bg-stone-200/10":u,"border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800":f}),children:[c&&(0,Or.jsxs)("div",{className:"flex flex-row pl-2 bg-white border-b dark:bg-slate-600 dark:border-slate-300",children:[(0,Or.jsx)(xp,{width:"16px",height:"16px",className:"self-center flex-none inline-block text-gray-500 dark:text-gray-100"}),(0,Or.jsx)("div",{className:"self-center p-2 text-sm leading-3 prose text-slate-600 dark:text-white",children:c})]}),(0,Or.jsx)(cC,Object.assign({},h,{className:"block p-3 hljs",children:e})),a&&(0,Or.jsx)(wh,{text:e,className:(0,cb.default)("absolute right-1",{"top-[32px]":c,"top-1":!c})})]})}var T9=({node:t})=>(0,Or.jsx)(Vo,{identifier:t.html_id,"data-mdast-node-type":t.type,"data-mdast-node-id":t.key,value:t.value||"",lang:t.lang,filename:t.filename,emphasizeLines:t.emphasizeLines,showLineNumbers:t.showLineNumbers,startingLineNumber:t.startingLineNumber,shadow:!0,border:t.executable,background:!t.executable,className:(0,cb.default)({hidden:t.visibility==="remove"},t.class)});function R9(t){if(!t||t.length>9||!new Set([4,7,9]).has(t.length))return;let e=/^#([0-9A-Fa-f]{3,8})$/.exec(t);return e?e[1]:void 0}var A9=({node:t})=>R9(t.value)?(0,Or.jsxs)("code",{className:"px-1 rounded bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-100",children:[t.value,(0,Or.jsx)("span",{style:{backgroundColor:t.value},className:"inline-block w-[10px] h-[10px] rounded-full ml-1"})]}):t.children&&t.children.length>0?(0,Or.jsx)("code",{children:(0,Or.jsx)(xe,{ast:t.children})}):(0,Or.jsx)("code",{children:t.value}),k9={code:T9,inlineCode:A9},kN=k9;var co=P(me(),1);var LN=({node:t})=>{if(t.type==="math"){if(t.error||!t.html)return(0,co.jsxs)("pre",{title:t.message,children:[(0,co.jsxs)("span",{className:"text-red-500",children:[(0,co.jsx)(so,{width:"1rem",height:"1rem",className:"inline mr-1"}),t.message,`

`]}),t.value]});let e=t.html_id||t.identifier||t.key;return(0,co.jsxs)("div",{id:e,className:"flex my-5 group",children:[(0,co.jsx)("div",{dangerouslySetInnerHTML:{__html:t.html},className:"flex-grow overflow-x-auto overflow-y-hidden"}),t.enumerator&&(0,co.jsx)("div",{className:"relative self-center flex-none pl-2 m-0 text-right select-none",children:(0,co.jsxs)(gi,{id:e,kind:"Equation",className:"text-inherit hover:text-inherit",children:["(",t.enumerator,")"]})})]})}return t.error||!t.html?(0,co.jsx)(lo,{value:t.value,message:t.message}):(0,co.jsx)("span",{dangerouslySetInnerHTML:{__html:t.html}})},L9={math:LN,inlineMath:LN},NN=L9;var Op=P(se(),1),N9=({node:t})=>(0,Op.createElement)("r-var",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format}),O9=({node:t})=>(0,Op.createElement)("r-display",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format}),D9=({node:t})=>(0,Op.createElement)("r-dynamic",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction,format:t.format}),z9=({node:t})=>(0,Op.createElement)("r-range",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction}),P9={"r:var":N9,"r:display":O9,"r:dynamic":D9,"r:range":z9},ON=P9;var db=P(me(),1),DN=P(Et(),1);function dC(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return dC(Number(t.replace("%","")));if(t.endsWith("px")){let e=dC(Number(t.replace("px","")));return e?e/750:70}else if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}var B9=({node:t})=>{let e=dC(t.width)||70;return(0,db.jsx)("div",{id:t.label||void 0,style:{textAlign:t.align||"center"},className:(0,DN.default)("leading-[0]",t.class),children:(0,db.jsx)("div",{className:"relative inline-block",style:{paddingBottom:"60%",width:`min(max(${e}%, 500px), 100%)`},children:(0,db.jsx)("iframe",{width:"100%",height:"100%",src:t.src,allowFullScreen:!0,allow:"autoplay",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,border:"none"}})})})},j9={iframe:B9},zN=j9;var Yl=P(me(),1);function ub(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return t;if(t.endsWith("px"))return Number(t.replace("px",""));if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}function PN(t){switch(t){case"left":return{marginRight:"auto"};case"right":return{marginLeft:"auto"};case"center":return{margin:"0 auto"};default:return{}}}function H9({className:t,id:e,src:i,urlSource:n,align:r="center",width:s,height:o}){return(0,Yl.jsx)("video",{id:e,style:Object.assign({width:ub(s),height:ub(o)},PN(r)),src:i,"data-canonical-url":n,autoPlay:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0})}function F9({className:t,id:e,src:i,srcOptimized:n,urlSource:r,align:s="center",alt:o,width:a,height:l}){if(i.endsWith(".mp4")||r!=null&&r.endsWith(".mp4"))return(0,Yl.jsx)(H9,{className:t,id:e,width:a,height:l,align:s,src:i,urlSource:r});let c=(0,Yl.jsx)("img",{id:e,style:Object.assign({width:ub(a),height:ub(l)},PN(s)),src:i,alt:o,"data-canonical-url":r});return n?(0,Yl.jsxs)("picture",{className:t,children:[(0,Yl.jsx)("source",{srcSet:n,type:"image/webp"}),c]}):c}var W9=({node:t})=>(0,Yl.jsx)(F9,{className:t.class,id:t.html_id||t.identifier||t.key,src:t.url,srcOptimized:t.urlOptimized,alt:t.alt||t.title,width:t.width||void 0,height:t.height||void 0,align:t.align,urlSource:t.urlSource||t.sourceUrl}),$9={image:W9},BN=$9;var Ti=P(me(),1);var Mi=P(me(),1);var Mn=P(se(),1),tO=P(hC(),1);var mn=P(se(),1),Kl=()=>{},fn=Kl(),rd=Object,nt=t=>t===fn,fr=t=>typeof t=="function",Os=(t,e)=>({...t,...e}),Q9=t=>fr(t.then),hb=new WeakMap,e7=0,Dp=t=>{let e=typeof t,i=t&&t.constructor,n=i==Date,r,s;if(rd(t)===t&&!n&&i!=RegExp){if(r=hb.get(t),r)return r;if(r=++e7+"~",hb.set(t,r),i==Array){for(r="@",s=0;s<t.length;s++)r+=Dp(t[s])+",";hb.set(t,r)}if(i==rd){r="#";let o=rd.keys(t).sort();for(;!nt(s=o.pop());)nt(t[s])||(r+=s+":"+Dp(t[s])+",");hb.set(t,r)}}else r=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return r},Ns=new WeakMap,fC={},fb={},xC="undefined",mb=typeof window!=xC,pC=typeof document!=xC,t7=()=>mb&&typeof window.requestAnimationFrame!=xC,zp=(t,e)=>{let i=Ns.get(t);return[()=>!nt(e)&&t.get(e)||fC,n=>{if(!nt(e)){let r=t.get(e);e in fb||(fb[e]=r),i[5](e,Os(r,n),r||fC)}},i[6],()=>!nt(e)&&e in fb?fb[e]:!nt(e)&&t.get(e)||fC]},gC=!0,i7=()=>gC,[_C,vC]=mb&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Kl,Kl],n7=()=>{let t=pC&&document.visibilityState;return nt(t)||t!=="hidden"},r7=t=>(pC&&document.addEventListener("visibilitychange",t),_C("focus",t),()=>{pC&&document.removeEventListener("visibilitychange",t),vC("focus",t)}),s7=t=>{let e=()=>{gC=!0,t()},i=()=>{gC=!1};return _C("online",e),_C("offline",i),()=>{vC("online",e),vC("offline",i)}},o7={isOnline:i7,isVisible:n7},a7={initFocus:r7,initReconnect:s7},Fh=!mn.default.useId,Ha=!mb||"Deno"in window,pb=t=>t7()?window.requestAnimationFrame(t):setTimeout(t,1),Fa=Ha?mn.useEffect:mn.useLayoutEffect,mC=typeof navigator<"u"&&navigator.connection,WN=!Ha&&mC&&(["slow-2g","2g"].includes(mC.effectiveType)||mC.saveData),Wh=t=>{if(fr(t))try{t=t()}catch{t=""}let e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Dp(t):"",[t,e]},l7=0,Hh=()=>++l7,qN=0,UN=1,VN=2,c7=3,Ds={__proto__:null,ERROR_REVALIDATE_EVENT:c7,FOCUS_EVENT:qN,MUTATE_EVENT:VN,RECONNECT_EVENT:UN};async function Pp(...t){let[e,i,n,r]=t,s=Os({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{}),o=s.populateCache,a=s.rollbackOnError,l=s.optimisticData,c=f=>typeof a=="function"?a(f):a!==!1,d=s.throwOnError;if(fr(i)){let f=i,h=[],m=e.keys();for(let p of m)!/^\$(inf|sub)\$/.test(p)&&f(e.get(p)._k)&&h.push(p);return Promise.all(h.map(u))}return u(i);async function u(f){let[h]=Wh(f);if(!h)return;let[m,p]=zp(e,h),[_,y,S,T]=Ns.get(e),D=()=>{let j=_[h];return(fr(s.revalidate)?s.revalidate(m().data,f):s.revalidate!==!1)&&(delete S[h],delete T[h],j&&j[0])?j[0](VN).then(()=>m().data):m().data};if(t.length<3)return D();let k=n,b,M=Hh();y[h]=[M,0];let C=!nt(l),x=m(),w=x.data,E=x._c,O=nt(E)?w:E;if(C&&(l=fr(l)?l(O,w):l,p({data:l,_c:O})),fr(k))try{k=k(O)}catch(j){b=j}if(k&&Q9(k))if(k=await k.catch(j=>{b=j}),M!==y[h][0]){if(b)throw b;return k}else b&&C&&c(b)&&(o=!0,p({data:O,_c:fn}));if(o&&!b)if(fr(o)){let j=o(k,O);p({data:j,error:fn,_c:fn})}else p({data:k,error:fn,_c:fn});if(y[h][1]=Hh(),Promise.resolve(D()).then(()=>{p({_c:fn})}),b){if(d)throw b;return}return k}}var $N=(t,e)=>{for(let i in t)t[i][0]&&t[i][0](e)},GN=(t,e)=>{if(!Ns.has(t)){let i=Os(a7,e),n={},r=Pp.bind(fn,t),s=Kl,o={},a=(d,u)=>{let f=o[d]||[];return o[d]=f,f.push(u),()=>f.splice(f.indexOf(u),1)},l=(d,u,f)=>{t.set(d,u);let h=o[d];if(h)for(let m of h)m(u,f)},c=()=>{if(!Ns.has(t)&&(Ns.set(t,[n,{},{},{},r,l,a]),!Ha)){let d=i.initFocus(setTimeout.bind(fn,$N.bind(fn,n,qN))),u=i.initReconnect(setTimeout.bind(fn,$N.bind(fn,n,UN)));s=()=>{d&&d(),u&&u(),Ns.delete(t)}}};return c(),[t,r,c,s]}return[t,Ns.get(t)[4]]},d7=(t,e,i,n,r)=>{let s=i.errorRetryCount,o=r.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*i.errorRetryInterval;!nt(s)&&o>s||setTimeout(n,a,r)},u7=(t,e)=>Dp(t)==Dp(e),[yC,YN]=GN(new Map),Bp=Os({onLoadingSlow:Kl,onSuccess:Kl,onError:Kl,onErrorRetry:d7,onDiscarded:Kl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:WN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:WN?5e3:3e3,compare:u7,isPaused:()=>!1,cache:yC,mutate:YN,fallback:{}},o7),KN=(t,e)=>{let i=Os(t,e);if(e){let{use:n,fallback:r}=t,{use:s,fallback:o}=e;n&&s&&(i.use=n.concat(s)),r&&o&&(i.fallback=Os(r,o))}return i},bC=(0,mn.createContext)({}),gb=t=>{let{value:e}=t,i=(0,mn.useContext)(bC),n=fr(e),r=(0,mn.useMemo)(()=>n?e(i):e,[n,i,e]),s=(0,mn.useMemo)(()=>n?r:KN(i,r),[n,i,r]),o=r&&r.provider,a=(0,mn.useRef)(fn);o&&!a.current&&(a.current=GN(o(s.cache||yC),r));let l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),Fa(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,mn.createElement)(bC.Provider,Os(t,{value:s}))},h7="$inf$",XN=mb&&window.__SWR_DEVTOOLS_USE__,f7=XN?window.__SWR_DEVTOOLS_USE__:[],m7=()=>{XN&&(window.__SWR_DEVTOOLS_REACT__=mn.default)},JN=t=>fr(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],ZN=()=>Os(Bp,(0,mn.useContext)(bC));var p7=t=>(e,i,n)=>t(e,i&&((...s)=>{let[o]=Wh(e),[,,,a]=Ns.get(yC);if(o.startsWith(h7))return i(...s);let l=a[o];return nt(l)?i(...s):(delete a[o],l)}),n),g7=f7.concat(p7),_b=t=>function(...i){let n=ZN(),[r,s,o]=JN(i),a=KN(n,o),l=t,{use:c}=a,d=(c||[]).concat(g7);for(let u=d.length;u--;)l=d[u](l);return l(r,s||a.fetcher||null,a)},vb=(t,e,i)=>{let n=e[t]||(e[t]=[]);return n.push(i),()=>{let r=n.indexOf(i);r>=0&&(n[r]=n[n.length-1],n.pop())}},QN=(t,e)=>(...i)=>{let[n,r,s]=JN(i),o=(s.use||[]).concat(e);return t(n,r,{...s,use:o})};m7();var eO=Mn.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),wC={dedupe:!0},_7=(t,e,i)=>{let{cache:n,compare:r,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:u,keepPreviousData:f}=i,[h,m,p,_]=Ns.get(n),[y,S]=Wh(t),T=(0,Mn.useRef)(!1),D=(0,Mn.useRef)(!1),k=(0,Mn.useRef)(y),b=(0,Mn.useRef)(e),M=(0,Mn.useRef)(i),C=()=>M.current,x=()=>C().isVisible()&&C().isOnline(),[w,E,O,j]=zp(n,y),Q=(0,Mn.useRef)({}).current,X=nt(o)?i.fallback[y]:o,K=(ye,A)=>{for(let H in Q){let F=H;if(F==="data"){if(!r(ye[F],A[F])&&(!nt(ye[F])||!r(Je,A[F])))return!1}else if(A[F]!==ye[F])return!1}return!0},Y=(0,Mn.useMemo)(()=>{let ye=(()=>!y||!e?!1:nt(a)?C().isPaused()||s?!1:nt(l)?!0:l:a)(),A=ke=>{let tt=Os(ke);return delete tt._k,ye?{isValidating:!0,isLoading:!0,...tt}:tt},H=w(),F=j(),Z=A(H),ae=H===F?Z:A(F),ce=Z;return[()=>{let ke=A(w());return K(ke,ce)?(ce.data=ke.data,ce.isLoading=ke.isLoading,ce.isValidating=ke.isValidating,ce.error=ke.error,ce):(ce=ke,ke)},()=>ae]},[n,y]),ie=(0,tO.useSyncExternalStore)((0,Mn.useCallback)(ye=>O(y,(A,H)=>{K(H,A)||ye()}),[n,y]),Y[0],Y[1]),be=!T.current,Pe=h[y]&&h[y].length>0,we=ie.data,Le=nt(we)?X:we,at=ie.error,Ze=(0,Mn.useRef)(Le),Je=f?nt(we)?Ze.current:we:Le,lt=(()=>Pe&&!nt(at)?!1:be&&!nt(a)?a:C().isPaused()?!1:s?nt(Le)?!1:l:nt(Le)||l)(),bt=!!(y&&e&&be&&lt),wt=nt(ie.isValidating)?bt:ie.isValidating,oi=nt(ie.isLoading)?bt:ie.isLoading,mi=(0,Mn.useCallback)(async ye=>{let A=b.current;if(!y||!A||D.current||C().isPaused())return!1;let H,F,Z=!0,ae=ye||{},ce=!p[y]||!ae.dedupe,ke=()=>Fh?!D.current&&y===k.current&&T.current:y===k.current,tt={isValidating:!1,isLoading:!1},xt=()=>{E(tt)},Xt=()=>{let Ce=p[y];Ce&&Ce[1]===F&&delete p[y]},Ht={isValidating:!0};nt(w().data)&&(Ht.isLoading=!0);try{if(ce&&(E(Ht),i.loadingTimeout&&nt(w().data)&&setTimeout(()=>{Z&&ke()&&C().onLoadingSlow(y,i)},i.loadingTimeout),p[y]=[A(S),Hh()]),[H,F]=p[y],H=await H,ce&&setTimeout(Xt,i.dedupingInterval),!p[y]||p[y][1]!==F)return ce&&ke()&&C().onDiscarded(y),!1;tt.error=fn;let Ce=m[y];if(!nt(Ce)&&(F<=Ce[0]||F<=Ce[1]||Ce[1]===0))return xt(),ce&&ke()&&C().onDiscarded(y),!1;let q=w().data;tt.data=r(q,H)?q:H,ce&&ke()&&C().onSuccess(H,y,i)}catch(Ce){Xt();let q=C(),{shouldRetryOnError:B}=q;q.isPaused()||(tt.error=Ce,ce&&ke()&&(q.onError(Ce,y,q),(B===!0||fr(B)&&B(Ce))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||x())&&q.onErrorRetry(Ce,y,q,Me=>{let Te=h[y];Te&&Te[0]&&Te[0](Ds.ERROR_REVALIDATE_EVENT,Me)},{retryCount:(ae.retryCount||0)+1,dedupe:!0})))}return Z=!1,xt(),!0},[y,n]),Ci=(0,Mn.useCallback)((...ye)=>Pp(n,k.current,...ye),[]);if(Fa(()=>{b.current=e,M.current=i,nt(we)||(Ze.current=we)}),Fa(()=>{if(!y)return;let ye=mi.bind(fn,wC),A=0,F=vb(y,h,(Z,ae={})=>{if(Z==Ds.FOCUS_EVENT){let ce=Date.now();C().revalidateOnFocus&&ce>A&&x()&&(A=ce+C().focusThrottleInterval,ye())}else if(Z==Ds.RECONNECT_EVENT)C().revalidateOnReconnect&&x()&&ye();else{if(Z==Ds.MUTATE_EVENT)return mi();if(Z==Ds.ERROR_REVALIDATE_EVENT)return mi(ae)}});return D.current=!1,k.current=y,T.current=!0,E({_k:S}),lt&&(nt(Le)||Ha?ye():pb(ye)),()=>{D.current=!0,F()}},[y]),Fa(()=>{let ye;function A(){let F=fr(c)?c(w().data):c;F&&ye!==-1&&(ye=setTimeout(H,F))}function H(){!w().error&&(d||C().isVisible())&&(u||C().isOnline())?mi(wC).then(A):A()}return A(),()=>{ye&&(clearTimeout(ye),ye=-1)}},[c,d,u,y]),(0,Mn.useDebugValue)(Je),s&&nt(Le)&&y){if(!Fh&&Ha)throw new Error("Fallback data is required when using suspense in SSR.");b.current=e,M.current=i,D.current=!1;let ye=_[y];if(!nt(ye)){let A=Ci(ye);eO(A)}if(nt(at)){let A=mi(wC);nt(Je)||(A.status="fulfilled",A.value=!0),eO(A)}else throw at}return{mutate:Ci,get data(){return Q.data=!0,Je},get error(){return Q.error=!0,at},get isValidating(){return Q.isValidating=!0,wt},get isLoading(){return Q.isLoading=!0,oi}}},mce=rd.defineProperty(gb,"defaultValue",{value:Bp}),Go=_b(_7);var iO=()=>(0,Mi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"svg3400",viewBox:"0 0 500 85",className:"h-4",children:(0,Mi.jsxs)("g",{transform:"translate(-357.71336,-784.65111)",children:[(0,Mi.jsx)("path",{fill:"currentColor",d:"m 412.98736,806.72288 c 0,0 -1.468,-2.984 -1.968,-3.976 -3.336,-6.612 -3.264,-6.964 -6.636,-7.408 -0.944,-0.124 -1.432,-0.244 -1.432,-0.712 v -2.092 l 0.284,-0.204 c 6.092,-0.008 19.648,-0.008 19.648,-0.008 l 0.52,0.172 v 2.084 c 0,0.476 -0.34,0.72 -1.032,0.72 l -1.424,0.204 c -3.6,0.28 -3.012,1.752 -0.62,6.516 l 22.708,46.46 0.776,0.212 20.16,-47.844 c 0.7,-1.928 0.592,-3.296 -0.308,-4.1 -0.904,-0.784 -1.54,-1.248 -3.876,-1.344 l -1.892,-0.096 c -0.232,0 -0.452,-0.084 -0.664,-0.24 -0.208,-0.148 -0.316,-0.344 -0.316,-0.58 v -1.992 l 0.288,-0.204 c 5.68,0 22.776,0 22.776,0 l 0.232,0.204 v 1.992 c 0,0.54 -0.308,0.812 -0.916,0.812 -2.984,0.132 -5.196,0.78 -6.628,1.936 -1.436,1.164 -2.556,2.768 -3.36,4.852 0,0 -18.54,42.436 -24.884,56.54 -2.428,4.624 -4.816,4.2 -6.916,-0.132 -4.436,-9.136 -16.928,-36.852 -16.928,-36.852 l -7.592,-14.92 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 449.37136,792.29888 c 0,0 -12.812,-0.04 -18.516,0 l -0.284,0.204 v 1.984 c 0,0.244 0.104,0.436 0.312,0.584 0.212,0.156 0.428,0.236 0.66,0.236 l 0.916,0.1 c 2.332,0.096 3.404,0.708 3.724,1.092 0.556,0.68 0.832,1.416 -0.516,4.356 l -23.92,47.708 -0.628,-0.164 c 0,0 -17.132,-36.124 -22.092,-48.208 -0.516,-1.252 -0.748,-2.18 -0.748,-2.752 0,-1.228 1.108,-1.892 3.324,-1.984 l 2.584,-0.108 c 0.684,0 1.032,-0.264 1.032,-0.812 v -1.984 l -0.232,-0.204 c 0,0 -20.52,-0.024 -24.76,0 l -0.232,0.204 v 2.084 c 0,0.376 0.476,0.608 1.432,0.712 2.604,0.14 4.316,0.556 5.14,1.248 0.82,0.7 1.688,2.468 2.84,5.224 6.228,14.96 19.46,41.656 25.904,56.86 1.856,4.152 4.188,4.796 7.02,-0.128 4.904,-9.096 18.2,-36.872 18.2,-36.872 l 10.472,-19.584 c 1.22,-2.068 2.396,-3.912 2.992,-4.772 1.092,-1.572 1.704,-1.868 4.688,-2.008 0.608,0 0.916,-0.272 0.916,-0.82 v -1.984 l -0.228,-0.212 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 488.32736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 519.01936,854.23088 c 0,2.288 1.352,3.432 4.368,3.952 l 1.144,0.212 c 0.312,0.1 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -6.552,-0.212 -9.672,-0.212 -2.912,0 -11.44,0.212 -11.44,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.12,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.144,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.528,0.208 11.752,0.208 2.916,0 9.464,-0.208 9.464,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.416 -0.624,0.52 l -1.144,0.212 c -3.224,0.62 -4.368,1.144 -4.368,3.228 v 15.704 c 3.432,0 5.408,-1.764 9.984,-6.656 4.16,-4.58 7.384,-8.42 7.384,-10.4 0,-0.836 -0.936,-1.768 -3.016,-2.084 -0.416,-0.1 -0.624,-0.208 -0.624,-0.52 v -2.396 l 0.104,-0.1 c 0,0 8.424,0.208 11.44,0.208 2.704,0 7.28,-0.208 7.28,-0.208 l 0.312,0.1 v 2.396 c 0,0.312 -0.312,0.52 -0.832,0.52 -4.056,0.312 -6.864,0.52 -10.608,4.784 l -8.944,10.292 c -1.768,1.876 -2.392,3.016 -2.392,3.852 0,0.624 0.416,1.14 0.936,1.764 l 15.704,18.928 c 1.248,1.452 3.744,2.08 5.824,2.492 l 0.52,0.1 c 0.312,0.104 0.728,0.312 0.728,0.624 v 2.184 l -0.312,0.104 c 0,0 -5.512,-0.104 -8.424,-0.104 -2.6,0 -6.344,0.104 -6.344,0.104 l -0.104,-0.104 v -1.248 c 0,-1.356 -0.104,-2.492 -1.56,-4.156 l -11.544,-14.356 c -1.56,-2.084 -3.224,-2.596 -5.512,-2.596 v 15.404 l 0,0 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 575.08736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.248,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 597.55936,819.80288 c 0,-3.224 -1.352,-3.328 -6.24,-3.64 -0.624,0 -0.728,-0.308 -0.728,-0.52 v -2.392 l 0.208,-0.104 c 1.56,0 7.696,0.208 10.712,0.208 2.912,0 7.072,-0.208 10.92,-0.208 14.76,0 17.464,7.276 17.464,12.692 0,6.244 -3.016,16.016 -17.776,16.016 -2.6,0 -4.68,-0.212 -6.556,-1.04 v 13.928 c 0,2.288 1.248,2.812 4.58,3.328 l 2.084,0.312 c 0.416,0.104 0.728,0.212 0.728,0.624 v 2.184 l -0.1,0.208 c 0,0 -8.32,-0.208 -11.544,-0.208 -2.912,0 -10.712,0.208 -10.712,0.208 l -0.104,-0.208 v -2.184 c 0,-0.416 0.208,-0.52 0.624,-0.624 l 2.184,-0.312 c 3.224,-0.416 4.264,-1.352 4.264,-3.328 l -0.008,-34.94 0,0 z m 8.008,18.1 c 2.08,0.836 4.68,0.936 6.76,0.936 6.244,0 9.248,-3.752 9.248,-11.752 0,-8.944 -4.056,-10.92 -9.768,-10.92 -4.996,0 -6.244,0.936 -6.244,3.64 l 0.004,18.096 0,0 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 647.80736,861.19888 c -3.12,0 -10.292,0.212 -10.292,0.212 l -0.108,-0.212 v -2.288 c 0,-0.204 0.108,-0.516 0.624,-0.516 l 2.396,-0.212 c 3.228,-0.312 4.164,-2.392 4.164,-4.468 v -34.32 c 0,-2.4 -1.252,-2.812 -4.164,-3.016 l -2.396,-0.216 c -0.624,-0.096 -0.624,-0.308 -0.624,-0.416 v -2.396 l 0.108,-0.208 c 0,0 8.108,0.208 11.228,0.208 h 15.288 c 3.12,0 10.508,-0.208 10.508,-0.208 l 0.212,0.208 c 0.1,4.472 0.828,8.536 1.56,12.484 l -2.596,0.416 c -1.14,-3.852 -3.116,-9.36 -9.772,-9.36 h -8.32 c -1.976,0 -3.016,0.728 -3.016,2.492 v 15.084 h 7.796 c 2.916,0 3.64,-1.248 4.06,-3.328 l 0.62,-2.184 c 0,-0.312 0.212,-0.524 0.624,-0.524 h 1.764 c 0.212,0 0.212,0.108 0.212,0.312 -0.212,2.288 -0.624,5.204 -0.624,7.7 0,2.596 0.416,4.784 0.624,7.176 l -0.212,0.212 h -1.764 c -0.516,0 -0.732,-0.212 -0.732,-0.524 l -0.52,-2.284 c -0.416,-2.084 -1.352,-3.228 -4.064,-3.228 h -7.792 v 15.916 c 0,1.972 1.136,3.948 3.016,3.948 h 9.88 c 5.304,0 8.22,-3.328 9.464,-8.74 l 2.596,0.312 -2.084,11.956 -0.208,0.208 c 0,0 -6.136,-0.208 -9.256,-0.208 l -18.2,0.012 0,0 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 686.91936,858.39488 2.392,-0.212 c 3.124,-0.312 4.164,-1.248 4.164,-4.468 v -34.32 c 0,-2.712 -0.736,-2.712 -4.164,-3.016 l -2.28,-0.216 c -0.416,0 -0.736,-0.208 -0.736,-0.52 v -2.288 l 0.1,-0.208 c 0,0 9.156,0.208 11.032,0.208 1.968,0 11.024,-0.208 13.728,-0.208 17.368,0 25.9,10.816 25.9,24.648 0,18.204 -12.9,23.604 -24.44,23.604 -8.32,0 -11.956,-0.208 -15.18,-0.208 -3.124,0 -11.028,0.208 -11.028,0.208 l -0.104,-0.208 v -2.184 c -0.008,-0.3 0.204,-0.612 0.616,-0.612 z m 23.196,0 c 11.436,0 17.892,-4.26 17.892,-18.828 0,-10.812 -2.396,-23.404 -19.868,-23.404 -4.056,0 -6.656,0.624 -6.656,3.232 v 34.32 c 0,2.904 0.724,4.68 8.632,4.68 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 761.60736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.124,-0.212 -2.916,0 -11.024,0.212 -11.024,0.212 l -0.212,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.084,-0.212 c 3.428,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.084,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.432,0.208 2.808,0 10.82,-0.208 10.82,-0.208 l 0.1,0.208 v 2.288 c 0,0.312 -0.212,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 l 0.008,34.632 0,0 z"}),(0,Mi.jsx)("path",{fill:"currentColor",d:"m 793.64736,858.18288 3.016,0.212 c 0.416,0 0.832,0.312 0.832,0.828 v 1.976 l -0.208,0.212 c 0,0 -11.336,-0.212 -13.832,-0.212 -2.708,0 -9.364,0.212 -9.364,0.212 l -0.212,-0.212 v -1.976 c 0,-0.516 0.312,-0.828 0.836,-0.828 4.58,-0.312 7.172,-1.148 10.084,-7.804 l 23.084,-54.084 c 1.14,-2.704 1.976,-3.748 3.54,-3.748 1.452,0 1.976,1.044 2.804,3.124 l 21.32,56.368 c 1.46,4.06 3.54,5.616 7.7,6.032 l 1.144,0.1 c 0.52,0 1.04,0.312 1.04,0.836 v 1.972 l -0.312,0.208 c 0,0 -8.008,-0.208 -12.064,-0.208 -3.64,0 -13.836,0.208 -13.836,0.208 l -0.1,-0.208 v -1.972 c 0,-0.524 0.208,-0.836 0.736,-0.836 l 2.912,-0.208 c 3.948,-0.308 5.412,-1.564 4.368,-4.472 l -6.344,-17.58 h -21.632 c -2.496,0 -3.12,0.416 -3.636,1.764 l -6.036,15.084 c -1.04,2.608 0.312,4.9 4.16,5.212 z m 25.48,-26.424 -10.088,-27.764 h -0.208 l -10.4,26.416 c -0.416,1.044 0.308,1.352 2.596,1.352 h 18.1 z"})]})}),v7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)}),nO="https://en.wikipedia.org/";function b7(t,e){return`${e||nO}wiki/${t}`}function x7(t,e){return`${e||nO}api/rest_v1/page/summary/${t}`}function y7({page:t,wiki:e,load:i}){var n,r;let{data:s,error:o}=Go(i?x7(t,e):null,v7),{thumbnail:a,extract:l,content_urls:c}=s!=null?s:{},d=(r=(n=c==null?void 0:c.desktop)===null||n===void 0?void 0:n.page)!==null&&r!==void 0?r:b7(t),u=a==null?void 0:a.source;return o?(0,Mi.jsxs)("span",{children:[(0,Mi.jsxs)("a",{href:d,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,Mi.jsx)(Qn,{width:"1rem",height:"1rem",className:"float-right"}),(0,Mi.jsx)(iO,{})]}),(0,Mi.jsxs)("div",{className:"mt-2",children:['Error loading "',t,'" from wikipedia.']})]}):(0,Mi.jsx)(Vl,{loading:!s,url:d,title:(0,Mi.jsx)(iO,{}),thumbnail:u,description:l})}function rO({children:t,page:e,url:i,wiki:n}){return(0,Mi.jsx)(hn,{card:({load:r})=>(0,Mi.jsx)(y7,{wiki:n,page:e,load:r}),children:(0,Mi.jsx)("a",{href:i,className:"italic",target:"_blank",rel:"noreferrer",children:t})})}var Ii=P(me(),1);var w7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function C7({rrid:t}){var e,i,n,r,s,o,a;let{data:l,error:c}=Go(`https://scicrunch.org/resolver/${t}.json`,w7);if(!l&&!c)return(0,Ii.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});let d=(i=(e=l==null?void 0:l.hits)===null||e===void 0?void 0:e.hits)===null||i===void 0?void 0:i[0];if(c||!d)return(0,Ii.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});let{name:u,curie:f,description:h,supercategory:m,keywords:p,types:_}=(r=(n=d==null?void 0:d._source)===null||n===void 0?void 0:n.item)!==null&&r!==void 0?r:{},y=(s=m==null?void 0:m[0])===null||s===void 0?void 0:s.name,S=(o=_==null?void 0:_.map(({name:D})=>D))!==null&&o!==void 0?o:[],T=(a=p==null?void 0:p.map(({keyword:D})=>D))!==null&&a!==void 0?a:[];return(0,Ii.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,Ii.jsxs)("p",{className:"text-sm font-light",children:["RRID: ",y]}),(0,Ii.jsxs)("div",{className:"mb-4 text-xl font-bold",children:[u," ",(0,Ii.jsx)("code",{children:f})]}),(0,Ii.jsx)("p",{className:"text-md",children:h}),S.length>0&&(0,Ii.jsxs)(Ii.Fragment,{children:[(0,Ii.jsx)("div",{className:"my-2 text-xs font-thin",children:"Categories"}),(0,Ii.jsx)("div",{className:"flex flex-wrap ml-1",children:S==null?void 0:S.map(D=>(0,Ii.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:D}))})]}),T.length>0&&(0,Ii.jsxs)(Ii.Fragment,{children:[(0,Ii.jsx)("div",{className:"my-2 text-xs font-thin",children:"Tags"}),(0,Ii.jsx)("div",{className:"flex flex-wrap ml-1",children:T==null?void 0:T.map(D=>(0,Ii.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:D}))})]})]})}function sO({rrid:t}){return(0,Ii.jsx)(hn,{card:(0,Ii.jsx)(C7,{rrid:t}),children:(0,Ii.jsxs)("a",{href:`https://scicrunch.org/resolver/${t}`,target:"_blank",rel:"noopener noreferrer",children:["RRID: ",(0,Ii.jsx)("cite",{className:"italic",children:t})]})})}var jt=P(me(),1);var $h=P(se(),1);function S7({title:t,titleId:e,...i},n){return $h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?$h.createElement("title",{id:e},t):null,$h.createElement("path",{d:"M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"}))}var E7=$h.forwardRef(S7),bb=E7;var qh=P(se(),1);function M7({title:t,titleId:e,...i},n){return qh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?qh.createElement("title",{id:e},t):null,qh.createElement("path",{d:"M10 4.2L8.3 6.8 6.6 4.2H10zM17.1 4.2l-1.7 2.6-1.7-2.6h3.4zM6.6 19.8l1.7-2.6 1.7 2.6H6.6zM13.7 19.8l1.7-2.6 1.7 2.6h-3.4zM20.8 12.5c.6-.1 1.1-.4 1.4-.8.3-.4.5-.9.5-1.5 0-.5-.1-.9-.3-1.2-.2-.3-.4-.6-.7-.8-.3-.2-.6-.3-1-.4-.4-.1-.8-.1-1.2-.1h-3.3v2.6c0-.1-.1-.2-.1-.2-.2-.6-.6-1-1-1.4-.4-.4-.9-.7-1.5-.9-.6-.2-1.2-.3-1.9-.3s-1.3.1-1.9.3c-.5.1-1 .4-1.4.8-.3.4-.6.8-.9 1.3 0-.3-.1-.6-.2-.9-.2-.4-.4-.6-.7-.8-.3-.2-.6-.3-1-.4s-.8-.2-1.3-.2H1v8.5h1.9v-3.4h.9l1.8 3.4h2.3l-2.2-3.6c.6-.1 1.1-.4 1.4-.8v-.1.2c0 .7.1 1.3.3 1.8.2.6.6 1 1 1.4.4.4.9.7 1.5.9.6.2 1.2.3 1.9.3s1.3-.1 1.9-.3c.6-.2 1.1-.5 1.5-.9.4-.4.7-.9 1-1.4 0-.1.1-.2.1-.2V16H18v-3.4h.9l1.8 3.4H23l-2.2-3.5zM5.4 10.7c-.1.2-.2.3-.3.3-.2.1-.3.1-.5.1H2.9V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3 0 .5-.1.6zm8.8 2.3c-.1.3-.3.6-.5.9-.2.2-.5.4-.8.6-.3.1-.7.2-1.1.2-.4 0-.8-.1-1.1-.2-.3-.1-.6-.3-.8-.6-.2-.2-.4-.5-.5-.9-.1-.3-.2-.7-.2-1.1 0-.4.1-.8.2-1.1s.3-.6.5-.9c.2-.2.5-.4.8-.6.3-.1.7-.2 1.1-.2.4 0 .8.1 1.1.2.3.1.6.3.8.6.2.2.4.5.5.9.1.3.2.7.2 1.1 0 .4 0 .7-.2 1.1zm6.4-2.3c-.1.1-.2.2-.4.3-.2.1-.3.1-.5.1H18V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3.1.5 0 .6z"}))}var I7=qh.forwardRef(M7),CC=I7;var T7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function R7({ror:t}){var e,i,n,r;let{data:s,error:o}=Go(`https://api.ror.org/organizations/${t}`,T7);if(!s&&!o)return(0,jt.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(o)return(0,jt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});let a=(e=s==null?void 0:s.country)===null||e===void 0?void 0:e.country_name,l=(i=s==null?void 0:s.links.map(u=>({url:u})))!==null&&i!==void 0?i:[],c=s.wikipedia_url?[{text:"Wikipedia",url:s.wikipedia_url}]:[],d=[...l,...c];return(0,jt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,jt.jsxs)("p",{className:"flex items-stretch gap-2 text-sm font-light",children:[(0,jt.jsx)(CC,{width:"1.25rem",height:"1.25rem",className:"self-center inline-block"}),(0,jt.jsx)("a",{href:`https://ror.org/${t}`,className:"self-center",target:"_blank",rel:"noopener noreferrer",children:(0,jt.jsx)("code",{children:t})})]}),(0,jt.jsx)("div",{className:"mb-4 text-xl font-bold",children:s.name}),(0,jt.jsxs)("dl",{className:"mb-4 text-sm",children:[(0,jt.jsx)("dt",{children:"Country"}),(0,jt.jsx)("dd",{children:a}),d.length>0&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("dt",{children:"Links"}),d.map(({url:u,text:f})=>(0,jt.jsx)("dd",{children:(0,jt.jsx)("a",{href:u,children:f||u})}))]}),((n=s.acronyms)===null||n===void 0?void 0:n.length)>0&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("dt",{children:"Acronyms"}),s.acronyms.map(u=>(0,jt.jsx)("dd",{children:u}))]}),((r=s.labels)===null||r===void 0?void 0:r.length)>0&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("dt",{children:"Labels"}),s.labels.map(({label:u,iso639:f})=>(0,jt.jsxs)("dd",{children:[u,f?` (${f})`:null]}))]})]})]})}function oO({node:t,ror:e}){return(0,jt.jsx)(hn,{card:(0,jt.jsx)(R7,{ror:e}),children:(0,jt.jsx)("a",{href:`https://ror.org/${e}`,target:"_blank",rel:"noopener noreferrer",children:(0,jt.jsx)(xe,{ast:t.children})})})}var Wt=P(me(),1);var xb=P(se(),1);var aO=P(Et(),1),A7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.text();throw new Error(`Content returned with status ${e.status}.`)}),k7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function L7(t){var e;return(e={ts:"typescript",js:"javascript",py:"python",md:"markdown",yml:"yaml"}[t!=null?t:""])!==null&&e!==void 0?e:t}function lO(t,e,i){let[n,r]=(0,xb.useState)(),{data:s,error:o}=Go(t?e:null,i);return(0,xb.useEffect)(()=>{r(n||s)},[n,e,s]),{data:n,error:o}}function N7({url:t,raw:e,org:i,repo:n,file:r,from:s,to:o,open:a}){let{data:l,error:c}=lO(a,e,A7),d=l;if(c)return(0,Wt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:[(0,Wt.jsx)("a",{href:t,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:(0,Wt.jsx)(Qn,{width:"1rem",height:"1rem",className:"float-right"})}),(0,Wt.jsxs)("div",{className:"mt-2",children:['Error loading "',r,'" from GitHub.']})]});let u=L7(r==null?void 0:r.split(".").pop()),f=1,h=[],m=5;d&&s&&o?(f=s,d=d==null?void 0:d.split(`
`).slice(s-1,o).join(`
`)):d&&s?(f=s+1-m,h=[s],d=d==null?void 0:d.split(`
`).slice(Math.max(0,s-m),s+m).join(`
`)):d=d==null?void 0:d.split(`
`).slice(0,10).join(`
`);let p=d?(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsx)(Vo,{value:d,lang:u,filename:r,showLineNumbers:!0,startingLineNumber:f,emphasizeLines:h,showCopy:!1})}):null;return(0,Wt.jsx)(Vl,{loading:!d,url:t,title:`GitHub - ${i}/${n}`,description:p,className:"hover-document article max-w-[80vw]"})}function O7(t){let e=t.charAt(0)==="#"?t.substring(1,7):t,i=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return i*.299+n*.587+r*.114<=186}function D7({url:t,org:e,repo:i,issue_number:n,open:r}){var s,o;let{data:a,error:l}=lO(r,`https://api.github.com/repos/${e}/${i}/issues/${n}`,k7);if(!a&&!l)return(0,Wt.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});let c=a;if(l)return(0,Wt.jsxs)("div",{className:"hover-document article",children:[(0,Wt.jsx)("a",{href:t,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:(0,Wt.jsx)(Qn,{className:"float-right w-4 h-4"})}),(0,Wt.jsx)("div",{className:"mt-2",children:"Error loading from GitHub."})]});let d=new Date(c.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,Wt.jsxs)("div",{className:"hover-document article w-[400px] sm:max-w-[400px] p-3",children:[(0,Wt.jsxs)("div",{className:"text-xs font-light",children:[e,"/",i]}),(0,Wt.jsxs)("div",{className:"my-2 text-lg font-bold dark:text-white",children:[c.state==="open"&&(0,Wt.jsx)(N1,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-green-700 -translate-y-px dark:text-green-500"}),c.state==="closed"&&(0,Wt.jsx)(w1,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-purple-700 -translate-y-px dark:text-purple-500"}),c.title]}),(0,Wt.jsxs)("div",{className:"text-xs font-light",children:["#",n," opened on ",d," by"," ",(0,Wt.jsxs)("span",{className:"font-normal",children:["@",c.user.login]})]}),(0,Wt.jsx)("p",{className:"text-md max-h-[4rem] overflow-hidden",children:c.body}),((s=c.labels)===null||s===void 0?void 0:s.length)>0&&(0,Wt.jsx)("div",{className:"flex flex-wrap",children:(o=c.labels)===null||o===void 0?void 0:o.map(u=>(0,Wt.jsx)("span",{className:(0,aO.default)("mr-1 text-xs inline-flex items-center px-2 py-0.5 rounded-full",{"text-white":O7(u.color)}),style:{backgroundColor:`#${u.color}`},children:u.name},u.id))})]})}function cO({kind:t,children:e,url:i,org:n,repo:r,raw:s,file:o,from:a,to:l,issue_number:c}){return(0,Wt.jsx)(hn,{card:({load:d})=>{if(t==="file")return(0,Wt.jsx)(N7,{url:i,raw:s,file:o,from:a,to:l,open:d,org:n,repo:r});if(t==="issue")return(0,Wt.jsx)(D7,{url:i,open:d,org:n,issue_number:c,repo:r})},children:(0,Wt.jsx)("a",{href:i,className:"italic",target:"_blank",rel:"noreferrer",children:e})})}function z7(t,e){var i;if(!t)return;let[n,r]=e.replace(/^\//,"").split("/"),s=(i=t.projects)===null||i===void 0?void 0:i.find(o=>o.slug===n||!o.slug&&!r);if(s)return s.pages.find(o=>o.slug===(r||n))}function P7({url:t,children:e}){let i=Ts(),n=Ta(),r=z7(n,t),s=ur(),o=!r||!r.description&&!r.thumbnail;return!r||o?(0,Ti.jsx)(i,{to:En(t,s),prefetch:"intent",children:e}):(0,Ti.jsx)(hn,{card:(0,Ti.jsx)(Vl,{internal:!0,url:t,title:r.title,description:r.description,thumbnail:r.thumbnailOptimized||r.thumbnail}),children:(0,Ti.jsx)(i,{to:En(t,s),prefetch:"intent",children:e})})}var dO=({node:t})=>{var e,i;return(0,Ti.jsx)(rO,{url:t.url,page:(e=t.data)===null||e===void 0?void 0:e.page,wiki:(i=t.data)===null||i===void 0?void 0:i.wiki,children:(0,Ti.jsx)(xe,{ast:t.children})})},uO=({node:t})=>{var e,i,n,r,s,o,a,l;return(0,Ti.jsx)(cO,{kind:(e=t.data)===null||e===void 0?void 0:e.kind,url:t.url,org:(i=t.data)===null||i===void 0?void 0:i.org,repo:(n=t.data)===null||n===void 0?void 0:n.repo,raw:(r=t.data)===null||r===void 0?void 0:r.raw,file:(s=t.data)===null||s===void 0?void 0:s.file,from:(o=t.data)===null||o===void 0?void 0:o.from,to:(a=t.data)===null||a===void 0?void 0:a.to,issue_number:(l=t.data)===null||l===void 0?void 0:l.issue_number,children:(0,Ti.jsx)(xe,{ast:t.children})})},hO=({node:t})=>{var e;return(0,Ti.jsx)(sO,{rrid:(e=t.data)===null||e===void 0?void 0:e.rrid})},fO=({node:t})=>{var e;return(0,Ti.jsx)(oO,{node:t,ror:(e=t.data)===null||e===void 0?void 0:e.ror})},B7=({node:t})=>{var e;return((e=t.internal)!==null&&e!==void 0?e:!1)?(0,Ti.jsx)(P7,{url:t.url,children:(0,Ti.jsx)(xe,{ast:t.children})}):(0,Ti.jsx)("a",{target:"_blank",href:t.url,rel:"noreferrer",children:(0,Ti.jsx)(xe,{ast:t.children})})},j7=({node:t})=>{var e;let i="self-center transition-transform flex-none ml-3",n="flex-1 p-4 my-5 block border font-normal hover:border-blue-500 dark:hover:border-blue-400 no-underline hover:text-blue-600 dark:hover:text-blue-400 text-gray-600 dark:text-gray-100 border-gray-200 dark:border-gray-500 rounded shadow-sm hover:shadow-lg dark:shadow-neutral-700",r=(e=t.internal)!==null&&e!==void 0?e:!1,s=(0,Ti.jsxs)("div",{className:"flex h-full align-middle",children:[(0,Ti.jsxs)("div",{className:"flex-grow",children:[t.title,(0,Ti.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(0,Ti.jsx)(xe,{ast:t.children})})]}),r&&(0,Ti.jsx)(T1,{width:"1.5rem",height:"1.5rem",className:i}),!r&&(0,Ti.jsx)(Qn,{width:"1.5rem",height:"1.5rem",className:i})]});return r?(0,Ti.jsx)("a",{href:t.url,className:n,children:s}):(0,Ti.jsx)("a",{className:n,target:"_blank",rel:"noopener noreferrer",href:t.url,children:s})},H7={link:{base:B7,"link[protocol=github]":uO,"link[protocol=wiki]":dO,"link[protocol=rrid]":hO,"link[protocol=ror]":fO,"link[kind=github]":uO,"link[kind=wiki]":dO,"link[kind=rrid]":hO,"link[kind=ror]":fO},linkBlock:j7},mO=H7;var Wa=P(me(),1),pO=P(se(),1);var F7=({node:t})=>{let{enumerator:e,depth:i,key:n,identifier:r,html_id:s}=t,o=s||r||n,a=(0,Wa.jsxs)(Wa.Fragment,{children:[e&&(0,Wa.jsx)("span",{className:"mr-3 select-none",children:e}),(0,Wa.jsx)("span",{className:"heading-text",children:(0,Wa.jsx)(xe,{ast:t.children})}),(0,Wa.jsx)(gi,{id:o,kind:"Section",className:"px-2 font-normal",hover:!0,hideInPopup:!0})]});return(0,pO.createElement)(`h${i}`,{id:o,className:"relative group"},a)},W7={heading:F7},gO=W7;var Qt=P(me(),1);var $7=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function q7({load:t,identifier:e}){let i=V7({load:t,identifier:e});return i?i.loading?(0,Qt.jsx)(Qt.Fragment,{children:"Loading..."}):i.error?(0,Qt.jsx)(Qt.Fragment,{children:"Error loading remote page."}):!i.nodes||i.nodes.length===0?(0,Qt.jsx)(Qt.Fragment,{children:(0,Qt.jsx)(lo,{value:e||"No Label",message:"Cross Reference Not Found"})}):(0,Qt.jsx)(xe,{ast:i==null?void 0:i.nodes}):null}function SC(t,e){return e&&(t!=null&&t.startsWith(e))?t:`${e||""}${t||""}`}function U7({url:t,remoteBaseUrl:e,dataUrl:i,baseurl:n}){return e||i!=null&&i.startsWith("http")?i?SC(i,e):(console.error("Expected external URL to provide a dataUrl"),null):i?En(i,n):`${En(t,n)}.json`}function yb({remote:t,url:e,remoteBaseUrl:i,dataUrl:n}){let r=ur(),s=U7({url:e,remoteBaseUrl:i,dataUrl:n,baseurl:r});return Go(t?s:null,$7)}function V7({load:t,identifier:e}){var i;let n=Ho(),r=Pk(),{remote:s,url:o,remoteBaseUrl:a,dataUrl:l}=Wl();if(!t)return;let{data:c,error:d}=yb({remote:s,url:o,remoteBaseUrl:a,dataUrl:l}),u=c?c.mdast:n==null?void 0:n.article,f=c?(i=c.frontmatter)===null||i===void 0?void 0:i.parts:r==null?void 0:r.parts,h=[],m;return[{mdast:u},...Object.values(f!=null?f:{})].forEach(({mdast:p})=>{if(!p||h.length>0)return;let _=uk(p,e,3);h=_.nodes,m=_.htmlId}),{htmlId:m,nodes:h,loading:s&&!c,error:s&&d}}function G7({url:t,dataUrl:e,remote:i,remoteBaseUrl:n,children:r,identifier:s,htmlId:o=""}){var a;let l=Ts(),c=ur(),d=Wl(),u=n!=null?n:d.remoteBaseUrl,f=!!u||d.remote||i,h=d.remote?t!=null?t:d.url:t,m=d.remote?e!=null?e:d.dataUrl:e,p=!!u||((a=h==null?void 0:h.startsWith("http"))!==null&&a!==void 0?a:!1),_=y=>{if(y.preventDefault(),!o)return;let S=document.getElementById(o);kv(S,{htmlId:o})};return(0,Qt.jsx)(hn,{card:({load:y})=>(0,Qt.jsx)(Rv,{remote:f,remoteBaseUrl:u,url:h,dataUrl:m,children:(0,Qt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] overflow-auto",children:[u&&(0,Qt.jsxs)("div",{className:"w-full px-3 py-1 text-xs border-b bg-gray-50",children:[(0,Qt.jsx)("strong",{className:"text-gray-700",children:"Source: "}),(0,Qt.jsx)("a",{className:"text-gray-700",href:`${SC(h,u)}${o?`#${o}`:""}`,target:"_blank",children:u})]}),(0,Qt.jsx)("div",{className:"px-3",children:(0,Qt.jsx)(q7,{load:y,identifier:s})})]})}),children:(0,Qt.jsxs)("span",{children:[f&&p&&(0,Qt.jsx)("a",{href:`${SC(h,u)}${o?`#${o}`:""}`,target:"_blank",className:"hover-link",children:r}),f&&!p&&(0,Qt.jsx)(l,{to:`${En(h,c)}${o?`#${o}`:""}`,prefetch:"intent",className:"hover-link",children:r}),!f&&(0,Qt.jsx)("a",{href:`#${o}`,onClick:_,className:"hover-link",children:r})]})})}var Y7=({node:t})=>{if(!t.children)return(0,Qt.jsx)(lo,{value:t.label||t.identifier||"No Label",message:"Cross Reference Not Found"});let{remote:e,url:i,dataUrl:n,remoteBaseUrl:r,identifier:s,html_id:o}=t;return(0,Qt.jsxs)(G7,{identifier:s,htmlId:o,remote:e,url:i,dataUrl:n,remoteBaseUrl:r,children:[t.prefix&&(0,Qt.jsxs)(Qt.Fragment,{children:[t.prefix," "]}),(0,Qt.jsx)(xe,{ast:t.children}),t.suffix||null]})},K7={crossReference:Y7},_O=K7;var Dr=P(me(),1),EC=P(Et(),1),Xl=P(se(),1);var vO=(0,Xl.createContext)(void 0);function X7({active:t,children:e}){return(0,Dr.jsx)(vO.Provider,{value:t,children:e})}function bO({tabs:t,children:e}){var i,n,r,s;let[o,a]=(i=Gk())!==null&&i!==void 0?i:[],[l,c]=(0,Xl.useState)((r=(n=t.find(u=>u.selected))===null||n===void 0?void 0:n.id)!==null&&r!==void 0?r:(s=t==null?void 0:t[0])===null||s===void 0?void 0:s.id),d=u=>{c(u.id),u.sync&&(a||console.error("TabStateProvider is not defined, synced tabs will not work."),a==null||a(u.sync))};return(0,Xl.useEffect)(()=>{if(!o)return;let u=t.find(f=>f.sync===o);u&&c(u==null?void 0:u.id)},[t,o,c]),(0,Dr.jsx)(X7,{active:l,children:(0,Dr.jsxs)("div",{className:"my-5",children:[(0,Dr.jsx)("div",{className:"flex flex-row overflow-x-auto border-b border-b-gray-100",children:t.map(u=>(0,Dr.jsx)("div",{className:(0,EC.default)("flex-none px-3 py-1 font-semibold cursor-pointer",{"text-blue-600 border-b-2 border-b-blue-600 dark:border-b-white dark:text-white":l===u.id,"text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100":l!==u.id}),onClick:()=>d(u),children:u.title},u.id))}),(0,Dr.jsx)("div",{className:"flex shadow",children:(0,Dr.jsx)("div",{className:"w-full px-6",children:e})})]})})}function xO({id:t,children:e}){let n=(0,Xl.useContext)(vO)===t;return(0,Dr.jsx)("div",{className:(0,EC.default)({hidden:!n}),children:e})}var J7=({node:t})=>{let e=Bl("tabItem",t).map(i=>({title:i.title,id:i.key,sync:i.sync}));return(0,Dr.jsx)(bO,{tabs:e,children:(0,Dr.jsx)(xe,{ast:t.children})})},Z7=({node:t})=>(0,Dr.jsx)(xO,{id:t.key,children:(0,Dr.jsx)(xe,{ast:t.children})}),Q7={tabSet:J7,tabItem:Z7},yO=Q7;var wb=P(me(),1);function eU(t){return[...t!=null?t:""].reduce((e,i)=>{let n=e.pop(),r=i==="+"?"\u207A":i==="-"?"\u207B":i,s=r.match(/[0-9]/),o=n==null?void 0:n.match(/[0-9]/);return s?o?[...e,`${n!=null?n:""}${r}`]:[...e,n,r].filter(a=>!!a):o?[...e,n,r].filter(a=>!!a):[...e,`${n!=null?n:""}${r}`]},[])}var tU=({node:t})=>{let e=eU(t.value);return(0,wb.jsx)("span",{className:"text-inherit","aria-roledescription":"Chemical Formula",children:e.map((i,n)=>i.match(/[0-9]/)?(0,wb.jsx)("sub",{children:i},n):(0,wb.jsx)("span",{children:i},n))})},iU={chemicalFormula:tU},wO=iU;var CO=P(me(),1),nU=({node:t})=>{var e;let i=t.number==null?"":" ",n=`${(e=t.number)!==null&&e!==void 0?e:""}${i}${t.alt}`;return(0,CO.jsx)("span",{title:n,children:t.value})},rU={si:nU},SO=rU;var sU=Object.assign(Object.assign({},wO),SO),EO=sU;var sd=P(me(),1);var oU=({node:t})=>{var e,i,n;return t.result?((e=t.result)===null||e===void 0?void 0:e.status)!=="ok"?(0,sd.jsx)(lo,{value:`${(i=t.result)===null||i===void 0?void 0:i.ename}: ${(n=t.result)===null||n===void 0?void 0:n.evalue}`}):(0,sd.jsx)(Ah,{title:(0,sd.jsx)("code",{children:t.value}),children:(0,sd.jsx)("span",{className:"border-b border-dotted cursor-help",children:(0,sd.jsx)(xe,{ast:t.children})})}):(0,sd.jsx)(lo,{value:`Unexecuted inline expression for: ${t.value}`})},aU={inlineExpression:oU},MO=aU;var sn=P(me(),1);var Uh=P(Et(),1);var Bn;(function(t){t.proof="proof",t.axiom="axiom",t.lemma="lemma",t.definition="definition",t.criterion="criterion",t.remark="remark",t.conjecture="conjecture",t.corollary="corollary",t.algorithm="algorithm",t.example="example",t.property="property",t.observation="observation",t.proposition="proposition",t.assumption="assumption",t.theorem="theorem"})(Bn||(Bn={}));function lU(t){var e;let i=(e=t==null?void 0:t.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n))!==null&&e!==void 0?e:[];return[...new Set(i)]}function IO(t){return t?t.slice(0,1).toUpperCase()+t.slice(1):""}function cU({kind:t}){switch(t){case Bn.proof:case Bn.algorithm:return{color:"gray"};case Bn.lemma:case Bn.conjecture:case Bn.theorem:return{color:"purple"};case Bn.observation:case Bn.assumption:case Bn.axiom:return{color:"yellow"};case Bn.criterion:case Bn.corollary:case Bn.property:return{color:"orange"};case Bn.example:return{color:"green"};case Bn.remark:return{color:"red"};case Bn.definition:case Bn.proposition:default:return{color:"blue"}}}var dU=({id:t,dropdown:e,className:i,children:n})=>e?(0,sn.jsx)("details",{id:t,className:i,children:n}):(0,sn.jsx)("aside",{id:t,className:i,children:n}),uU=({dropdown:t,className:e,children:i})=>t?(0,sn.jsx)("summary",{className:e,children:i}):(0,sn.jsx)("div",{className:e,children:i}),hU="inline-block pl-2 mr-2 self-center flex-none";function fU({title:t,kind:e,color:i,dropdown:n,children:r,identifier:s,enumerator:o}){return(0,sn.jsxs)(dU,{id:s,dropdown:n,className:(0,Uh.default)("my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!i||i==="gray","dark:border-blue-500/60":i==="blue","dark:border-green-500/60":i==="green","dark:border-amber-500/70":i==="yellow","dark:border-orange-500/60":i==="orange","dark:border-red-500/60":i==="red","dark:border-purple-500/60":i==="purple"}),children:[(0,sn.jsxs)(uU,{dropdown:n,className:(0,Uh.default)("m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!i||i==="gray","bg-blue-50/80 dark:bg-slate-900":i==="blue","bg-green-50/80 dark:bg-slate-900":i==="green","bg-amber-50/80 dark:bg-slate-900":i==="yellow","bg-orange-50/80 dark:bg-slate-900":i==="orange","bg-red-50/80 dark:bg-slate-900":i==="red","bg-purple-50/80 dark:bg-slate-900":i==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":n}),children:[(0,sn.jsxs)("div",{className:(0,Uh.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words","ml-4"),children:[(0,sn.jsxs)(gi,{id:s,kind:IO(e),children:[IO(e)," ",o]})," ",t&&(0,sn.jsxs)(sn.Fragment,{children:["(",t,")"]})]}),n&&(0,sn.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,sn.jsx)(ao,{width:"1.5rem",height:"1.5rem",className:(0,Uh.default)(hU,"transition-transform details-toggle")})})]}),(0,sn.jsx)("div",{className:(0,Uh.default)("px-4",{"details-body":n}),children:r})]})}var mU=({node:t})=>{let[e,...i]=t.children,n=lU(t.class),{color:r}=cU({kind:t.kind,classes:n}),s=n.includes("dropdown"),o=(e==null?void 0:e.type)==="admonitionTitle";return(0,sn.jsx)(fU,{identifier:t.html_id,title:o?(0,sn.jsx)(xe,{ast:[e]}):void 0,kind:t.kind,enumerator:t.enumerator,color:r,dropdown:s,children:o?(0,sn.jsx)(xe,{ast:i}):(0,sn.jsx)(xe,{ast:t.children})})},pU={proof:mU},TO=pU;var Pt=P(me(),1);var Jl=P(Et(),1);function RO(t){var e;let i=(e=t==null?void 0:t.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n))!==null&&e!==void 0?e:[];return[...new Set(i)]}function AO({classes:t=[]},e="blue"){return t.includes("gray")?{color:"gray"}:t.includes("purple")?{color:"purple"}:t.includes("yellow")?{color:"yellow"}:t.includes("orange")?{color:"orange"}:t.includes("green")?{color:"green"}:t.includes("red")?{color:"red"}:t.includes("blue")?{color:"blue"}:{color:e}}var gU=({id:t,dropdown:e,className:i,children:n})=>e?(0,Pt.jsx)("details",{id:t,className:i,children:n}):(0,Pt.jsx)("aside",{id:t,className:i,children:n}),_U=({dropdown:t,className:e,children:i})=>t?(0,Pt.jsx)("summary",{className:e,children:i}):(0,Pt.jsx)("div",{className:e,children:i}),vU="inline-block pl-2 mr-2 self-center flex-none";function Cb({title:t,color:e,dropdown:i,children:n,identifier:r,Icon:s}){return(0,Pt.jsxs)(gU,{id:r,dropdown:i,className:(0,Jl.default)("my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!e||e==="gray","dark:border-blue-500/60":e==="blue","dark:border-green-500/60":e==="green","dark:border-amber-500/70":e==="yellow","dark:border-orange-500/60":e==="orange","dark:border-red-500/60":e==="red","dark:border-purple-500/60":e==="purple"}),children:[(0,Pt.jsxs)(_U,{dropdown:i,className:(0,Jl.default)("m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!e||e==="gray","bg-blue-50/80 dark:bg-slate-900":e==="blue","bg-green-50/80 dark:bg-slate-900":e==="green","bg-amber-50/80 dark:bg-slate-900":e==="yellow","bg-orange-50/80 dark:bg-slate-900":e==="orange","bg-red-50/80 dark:bg-slate-900":e==="red","bg-purple-50/80 dark:bg-slate-900":e==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":i}),children:[s&&(0,Pt.jsx)(s,{width:"2rem",height:"2rem",className:(0,Jl.default)("inline-block pl-2 mr-2 self-center flex-none",(0,Jl.default)({"text-gray-600":!e||e==="gray","text-blue-600":e==="blue","text-green-600":e==="green","text-amber-600":e==="yellow","text-orange-600":e==="orange","text-red-600":e==="red","text-purple-600":e==="purple"}))}),(0,Pt.jsx)("div",{className:(0,Jl.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":!s},"group"),children:t}),i&&(0,Pt.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Pt.jsx)(ao,{width:"1.5rem",height:"1.5rem",className:(0,Jl.default)(vU,"transition-transform details-toggle")})})]}),(0,Pt.jsx)("div",{className:(0,Jl.default)("px-4",{"details-body":i}),children:n})]})}var bU=({node:t})=>{var e,i,n;if(t.hidden)return null;let[r,...s]=(e=t.children)!==null&&e!==void 0?e:[],o=RO(t.class),{color:a}=AO({classes:o}),l=o.includes("dropdown"),c=((n=(i=t.children)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=t.html_id,u=t.enumerator,f=(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)(gi,{id:d,kind:"Exercise",children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ","Exercise",u!=null&&(0,Pt.jsxs)(Pt.Fragment,{children:[" ",u]})]}),c&&(0,Pt.jsxs)(Pt.Fragment,{children:[" ","(",(0,Pt.jsx)(xe,{ast:[r]}),")"]})]});return(0,Pt.jsx)(Cb,{identifier:d,title:f,color:a,dropdown:l,children:c?(0,Pt.jsx)(xe,{ast:s}):(0,Pt.jsx)(xe,{ast:t.children})})},xU=({node:t})=>{var e,i,n;if(t.hidden)return null;let[r,...s]=(e=t.children)!==null&&e!==void 0?e:[],o=RO(t.class),{color:a}=AO({classes:o},"gray"),l=o.includes("dropdown"),c=((n=(i=t.children)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=t.html_id,u=(0,Pt.jsxs)(Pt.Fragment,{children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ",(0,Pt.jsx)(xe,{ast:[r]}),(0,Pt.jsx)(gi,{id:d,kind:"Solution",hover:!0,hideInPopup:!0,children:" #"})]});return(0,Pt.jsx)(Cb,{identifier:d,title:c?u:void 0,color:a,dropdown:l,children:c?(0,Pt.jsx)(xe,{ast:s}):(0,Pt.jsx)(xe,{ast:t.children})})},yU={exercise:bU,solution:xU},kO=yU;var $a=P(me(),1);var MC=P(Et(),1);function wU(t){switch(t){case"topic":return{container:"my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400",title:"m-0 font-medium py-2 px-4 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900",body:"px-4"};case"margin":case"sidebar":default:return{container:"text-sm lg:h-0 col-margin-right",title:"text-base font-semibold",body:""}}}var CU=({node:t})=>{let[e,...i]=t.children,n=wU(t.kind);return e.type!=="admonitionTitle"?(0,$a.jsx)("aside",{className:(0,MC.default)(n.container,t.class),children:(0,$a.jsx)(xe,{ast:t.children})}):(0,$a.jsxs)("aside",{className:(0,MC.default)(n.container,t.class),children:[(0,$a.jsx)("div",{className:n.title,children:(0,$a.jsx)(xe,{ast:e})}),(0,$a.jsx)("div",{className:n.body,children:(0,$a.jsx)(xe,{ast:i})})]})},SU={aside:CU},LO=SU;var Zl=P(me(),1);var EU=({node:t})=>{let e=(0,Zl.jsxs)(Zl.Fragment,{children:[(0,Zl.jsx)("code",{children:t.name})," - Unknown Directive"]});return(0,Zl.jsx)(Cb,{title:e,color:"red",dropdown:!0,Icon:yp,children:(0,Zl.jsx)("pre",{children:t.value})})},MU={mystDirective:EU},NO=MU;var Sb=Ek([FL,NO,BN,mO,kN,NN,QL,yO,zN,eN,qL,ON,gO,_O,VL,YL,JL,MO,EO,TO,kO,LO],!0);var VF=P(Et(),1);var qy=P(me(),1);var xi=P(me(),1),Wy=P(se(),1);var fs=P(se(),1);var Mo=P(me(),1);var _a=P(se(),1);function OO(t){let e=t;return typeof e.slug=="string"&&typeof e.location=="string"&&typeof e.mdast=="object"&&Array.isArray(e.dependencies)&&Array.isArray(e.computables)}function jp(t){return typeof t.slug=="string"}function DO(t){return typeof t.status=="string"&&jp(t)}function zO(t){let e=t;return typeof e.slug=="string"&&typeof e.mdast=="object"}function PO(t){let e=t;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.notebook=="object"&&typeof e.rendermime=="object"}function BO(t){let e=t;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.session=="object"}var jO=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i};function HO(t,e){var i;switch(e.type){case"NAVIGATE":{if(!OO(e.payload))throw console.error(e.payload),new Error("invalid NAVIGATE payload");let{kind:n,slug:r,location:s,mdast:o,dependencies:a,computables:l}=e.payload;return t.pages[r]?t:Object.assign(Object.assign({},t),{mdast:Object.assign(Object.assign({},t.mdast),{[r]:{root:o}}),pages:Object.assign(Object.assign({},t.pages),{[r]:{kind:n,slug:r,location:s,dependencies:a,computables:l,computable:l.length>0||n===pi.Notebook,ready:!1,scopes:{}}})})}case"ADD_MDAST":{if(!zO(e.payload))throw console.error(e.payload),new Error("invalid ADD_MDAST payload");let{slug:n,mdast:r}=e.payload;return t.mdast[n]?t:Object.assign(Object.assign({},t),{mdast:Object.assign(Object.assign({},t.mdast),{[n]:{root:r}})})}case"REQUEST_BUILD":{if(!jp(e.payload))throw console.error(e.payload),new Error("invalid REQUEST_BUILD payload");let{slug:n}=e.payload;return t.builds[n]&&t.builds[n].status==="pending"?t:Object.assign(Object.assign({},t),{builds:Object.assign(Object.assign({},t.builds),{[n]:{status:"pending"}})})}case"BUILD_STATUS":{if(!DO(e.payload))throw console.error(e.payload),new Error("invalid BUILD_STATUS payload");let{slug:n}=e.payload;if(!t.builds[n])throw console.error(t,e.payload),new Error("Trying to set build status when there is no build state");return t.builds[n].status===e.payload.status?t:Object.assign(Object.assign({},t),{builds:Object.assign(Object.assign({},t.builds),{[n]:Object.assign(Object.assign({},t.builds[n]),{status:e.payload.status})})})}case"CLEAR_BUILD":{if(!jp(e.payload))throw console.error(e.payload),new Error("invalid CLEAR_BUILD payload");let{slug:n}=e.payload;if(!t.builds[n])return t;let r=t.builds,s=n,o=r[s],a=jO(r,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},t),{builds:a})}case"SET_RENDERING_READY":{if(!jp(e.payload))throw console.error(e.payload),new Error("invalid SET_READY payload");let{slug:n}=e.payload;if(t.pages[n].ready)return t;let r=t.builds,s=n,o=r[s],a=jO(r,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},t),{builds:a,pages:Object.assign(Object.assign({},t.pages),{[n]:Object.assign(Object.assign({},t.pages[n]),{ready:!0})})})}case"ADD_NOTEBOOK":{if(!PO(e.payload))throw console.error(e.payload),new Error("invalid ADD_NOTEBOOK payload");let{pageSlug:n,notebookSlug:r,notebook:s,rendermime:o}=e.payload;if(!t.pages[n])throw console.error(t,e.payload),new Error("Trying to add notebook when there is no rendering state");return t.pages[n].scopes[r]?(console.warn("Trying to add notebook scope when rendering already has one",e.payload),t):Object.assign(Object.assign({},t),{pages:Object.assign(Object.assign({},t.pages),{[n]:Object.assign(Object.assign({},t.pages[n]),{scopes:Object.assign(Object.assign({},t.pages[n].scopes),{[r]:{notebook:s,rendermime:o}})})})})}case"ADD_SESSION":{if(!BO(e.payload))throw console.error(e.payload),new Error("invalid ADD_SESSION payload");let{pageSlug:n,notebookSlug:r,session:s}=e.payload;if(!t.pages[n])throw console.error(t,e.payload),new Error("Trying to add session when there is no rendering state");return!((i=t.pages[n].scopes[r])===null||i===void 0)&&i.session?(console.warn("Trying to add session scope when rendering already has one",e.payload),t):Object.assign(Object.assign({},t),{pages:Object.assign(Object.assign({},t.pages),{[n]:Object.assign(Object.assign({},t.pages[n]),{scopes:Object.assign(Object.assign({},t.pages[n].scopes),{[r]:Object.assign(Object.assign({},t.pages[n].scopes[r]),{session:s})})})})})}}return t}function qa(t,e,i){var n,r;return(r=(n=t.pages[e])===null||n===void 0?void 0:n.scopes[i])===null||r===void 0?void 0:r.notebook}function FO(t,e){var i,n;return(n=(i=t.pages[e])===null||i===void 0?void 0:i.computable)!==null&&n!==void 0?n:!1}function Vh(t,e){var i;return!(!((i=t.pages[e])===null||i===void 0)&&i.ready)&&!!t.builds[e]}function WO(t,e){var i,n,r;return!((i=t.pages[e])===null||i===void 0)&&i.ready?"ready":(r=(n=t.builds[e])===null||n===void 0?void 0:n.status)!==null&&r!==void 0?r:"unknown"}function $O(t){return Object.entries(t.builds).filter(([,{status:e}])=>e==="fetching").reduce((e,[i])=>[...e,...t.pages[i].dependencies.filter(n=>{var r;return!t.mdast[(r=n.slug)!==null&&r!==void 0?r:n.url]}).map(n=>{var r;return{slug:(r=n.slug)!==null&&r!==void 0?r:n.url,url:n.url}})],[])}function qO(t){return e=>Object.entries(e.builds).filter(([,{status:i}])=>i===t).reduce((i,[n])=>{let r=[];return e.pages[n].kind===pi.Notebook&&r.push({pageSlug:n,notebookSlug:n,location:e.pages[n].location}),r.push(...e.pages[n].dependencies.map(s=>{var o;return{pageSlug:n,notebookSlug:(o=s.slug)!==null&&o!==void 0?o:s.url,location:s.location}})),[...i,...r]},[])}var UO=qO("build-notebooks"),VO=qO("start-session");function GO(t,e){var i;return(i=t.pages[e])===null||i===void 0?void 0:i.dependencies.every(n=>{var r;return!!t.mdast[(r=n.slug)!==null&&r!==void 0?r:n.url]})}function YO(t,e){let i=t.pages[e];return i==null?void 0:i.dependencies.every(n=>{var r;return!!i.scopes[(r=n.slug)!==null&&r!==void 0?r:n.url]})}function KO(t,e){let i=t.pages[e];return i==null?void 0:i.dependencies.every(n=>{var r,s;return!!(!((s=i.scopes[(r=n.slug)!==null&&r!==void 0?r:n.url])===null||s===void 0)&&s.session)})}var q5=P(me(),1),Js=P(se(),1),Tl=P(ga(),1);function tR(t){if(!t||t.type!=="block")return;let e=t;if(t.children&&t.children.length===1&&t.children[0].type==="container"&&(e=t.children[0]),e.children&&e.children.length>=2&&e.children[0].type==="code")return{codeCell:e.children[0],output:e.children[1]}}function F5(t,e,i,n,r,s,o){let a=new t.ThebeNotebook(n,e,o);return a.cells=r.children.map(l=>{var c,d,u;l.type!=="block"&&console.warn(`Unexpected block type ${l.type}`);let f=tR(l);if(f){let{codeCell:h,output:m}=f,p={pageSlug:i,notebookSlug:n,cellId:l.key};return s[l.key]=p,s[m.id]=p,l.identifier&&(s[l.identifier]=p),h.identifier&&(s[h.identifier]=p),m.identifier&&(s[m.identifier]=p),new t.ThebeCodeCell(p.cellId,a.id,(c=h.value)!==null&&c!==void 0?c:"",e,(d=l.data)!==null&&d!==void 0?d:{},a.rendermime)}else return new t.ThebeMarkdownCell(l.key,a.id,l.children.reduce((m,p)=>{var _;return m+`
`+((_=p.value)!==null&&_!==void 0?_:"")},""),(u=l.data)!==null&&u!==void 0?u:{},a.rendermime)}),a}var vm=P(se(),1);function W5(){let[t,e]=(0,vm.useState)();return(0,vm.useEffect)(()=>{t||import("/myst_assets_folder/_shared/plotly-renderer-RQZ5CRFD.js").then(i=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:i}),e(i)})},[t]),{plotly:t}}var oJ="application/vnd.plotly.v1+json";function aJ(t){return t.some(e=>{var i;return Object.keys((i=e.data)!==null&&i!==void 0?i:[]).includes(oJ)})}function $5(t,e){let i=aJ(e),[n,r]=(0,vm.useState)(!i);return(0,vm.useEffect)(()=>{n||!i||import("/myst_assets_folder/_shared/plotly-renderer-RQZ5CRFD.js").then(s=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:s}),t.addFactory(s.rendererFactory,41),r(!0)})},[n,i]),{loaded:n}}function U5({slug:t,url:e,dispatch:i}){let{data:n,error:r}=yb({remote:!0,dataUrl:`${e}.json`});return(0,Js.useEffect)(()=>{n&&i({type:"ADD_MDAST",payload:{slug:t,mdast:n.mdast}})},[n]),r?(0,q5.jsxs)("div",{children:["error: ",t,r.message]}):null}function V5({pageSlug:t,notebookSlug:e,idkmap:i,state:n,dispatch:r}){var s;let{core:o}=(0,Tl.useThebeLoader)(),{config:a}=(0,Tl.useThebeConfig)(),l=(0,Js.useRef)(!1),c=!!(!((s=n.pages[t])===null||s===void 0)&&s.scopes[e]),{plotly:d}=W5();(0,Js.useEffect)(()=>{var f;if(!o||!a||!d||c||l.current)return;l.current=!0,console.debug(`Jupyter: NotebookBuilder - ${e} being added to scope ${t}`);let h=o==null?void 0:o.makeRenderMimeRegistry(a==null?void 0:a.mathjax);d&&h.addFactory(d.rendererFactory,41);let m=F5(o,a,t,e,n.mdast[e].root,i,h),p=(f=n.pages[t])===null||f===void 0?void 0:f.computables;p==null||p.forEach(_=>{i[_.label]&&(i[_.outputKey]=i[_.label],i[_.embedKey]=i[_.label])}),r({type:"ADD_NOTEBOOK",payload:{pageSlug:t,notebookSlug:e,rendermime:h,notebook:m}})},[o,a,t,e,c,l,d]);let u=d&&YO(n,t);return(0,Js.useEffect)(()=>{u&&r({type:"BUILD_STATUS",payload:{slug:t,status:"wait-for-server"}})},[u]),null}function G5({pageSlug:t,notebookSlug:e,location:i,state:n,dispatch:r}){var s;let{core:o}=(0,Tl.useThebeLoader)(),{config:a,server:l}=(0,Tl.useThebeServer)(),c=(0,Js.useRef)(!1),d=(s=n.pages[t])===null||s===void 0?void 0:s.scopes[e];(0,Js.useEffect)(()=>{!o||!l||d!=null&&d.session||c.current||(c.current=!0,console.debug(`Jupyter: Starting session for ${t}-${e} at ${i}`),i===void 0&&console.warn("Article/Notebook json is missing the location field, this maybe break notebook execution when located outside of the root folder"),l.listRunningSessions().then(f=>{var h;console.debug("Jupyter: running sessions",f);let m=`/${t}-${e}.ipynb`;console.debug("session starter path:",m);let p=(h=i==null?void 0:i.match(/(.*)\/.*.ipynb$/))!==null&&h!==void 0?h:null;p&&(console.debug("session starter match:",p),m=`${p[1]}/${t}-${e}.ipynb`,console.debug("session starter path (modified):",m));let _=f.find(y=>y.path===m);_?(console.debug(`session already exists for ${m}`,_),l.connectToExistingSession(_,d.rendermime).then(y=>{var S;if(y==null){console.error(`Could not connect to session for ${m}`);return}console.debug(`reconnected to session for ${m}`,y),console.debug("restarting session",y),(S=y.kernel)===null||S===void 0||S.restart().then(()=>{qa(n,t,e).attachSession(y),r({type:"ADD_SESSION",payload:{pageSlug:t,notebookSlug:e,session:y}})})})):l.startNewSession(d.rendermime,Object.assign(Object.assign({},a==null?void 0:a.kernels),{path:m})).then(y=>{if(y==null){l==null||l.getKernelSpecs().then(T=>{console.error(`Could not start session for ${m}`),console.debug(`Available kernels: ${Object.keys(T)}`)});return}console.debug(`session started for ${m}`,y),qa(n,t,e).attachSession(y),r({type:"ADD_SESSION",payload:{pageSlug:t,notebookSlug:e,session:y}})})}))},[o,a,d,t,e,c]);let u=KO(n,t);return(0,Js.useEffect)(()=>{u&&r({type:"SET_RENDERING_READY",payload:{slug:t}})},[u]),null}function Y5({state:t,dispatch:e}){let{core:i,load:n,loading:r}=(0,Tl.useThebeLoader)(),{ready:s,error:o}=(0,Tl.useThebeServer)();return(0,Js.useEffect)(()=>{i||r||n()},[i,n,r]),(0,Js.useEffect)(()=>{s&&Object.entries(t.builds).forEach(([a,{status:l}])=>{l==="wait-for-server"&&e({type:"BUILD_STATUS",payload:{slug:a,status:"start-session"}})})},[s,t]),(0,Js.useEffect)(()=>{},[o]),null}var E_=_a.default.createContext(void 0);function lJ({contents:{slug:t,location:e,kind:i,mdast:n,dependencies:r},state:s,dispatch:o}){(0,_a.useEffect)(()=>{if(s.pages[t]){console.debug(`Jupyter: ExecuteScopeProvider - ${t} is already in scope`);return}let a=K5(n);o({type:"NAVIGATE",payload:{kind:i,slug:t,location:e!=null?e:i===pi.Notebook?"/fallback.ipynb":"/",mdast:n,dependencies:r!=null?r:[],computables:a}})},[t])}function cJ({slug:t,state:e,dispatch:i}){(0,_a.useEffect)(()=>{e.builds[t]&&(e.builds[t].status==="pending"&&i({type:"BUILD_STATUS",payload:{slug:t,status:"fetching"}}),e.builds[t].status==="fetching"&&GO(e,t)&&i({type:"BUILD_STATUS",payload:{slug:t,status:"build-notebooks"}}))},[e.builds,e.mdast])}function K5(t){return Bl("container[kind=figure]:has(output), embed:has(output)",t).map(e=>{let{key:i,label:n,source:r}=e,s=Bl("output",e);return{embedKey:i,outputKey:s[0].key,label:n,source:r}})}function cRe({children:t,enable:e,contents:i}){var n,r;let s=K5(i.mdast),o=i.kind===pi.Notebook?"/fallback.ipynb":"/",a={mdast:{[i.slug]:{root:i.mdast}},pages:{[i.slug]:{computable:s.length>0||i.kind===pi.Notebook,kind:i.kind,slug:i.slug,location:(n=i.location)!==null&&n!==void 0?n:o,dependencies:(r=i.dependencies)!==null&&r!==void 0?r:[],computables:s,ready:!1,scopes:{}}},builds:{}},[l,c]=(0,_a.useReducer)(HO,a),d=(0,_a.useRef)({});lJ({contents:i,state:l,dispatch:c}),cJ({slug:i.slug,state:l,dispatch:c});let u=$O(l),f=UO(l),h=VO(l),m=_a.default.useMemo(()=>({canCompute:e,slug:i.slug,location:i.location,state:l,dispatch:c,idkmap:d.current}),[l,i.slug,e]);return typeof window!="undefined"&&(window.executeScope=m),(0,Mo.jsxs)(E_.Provider,{value:m,children:[(0,Mo.jsxs)("div",{className:"hidden",children:[u.length>0&&(0,Mo.jsx)("div",{className:"p-1 pl-4",children:u.map(({slug:p,url:_})=>(0,Mo.jsx)(U5,{slug:p,url:_,dispatch:c},`fetch-${p}`))}),f.length>0&&(0,Mo.jsx)("div",{className:"p-1 pl-4",children:f.map(({pageSlug:p,notebookSlug:_})=>(0,Mo.jsx)(V5,{pageSlug:p,notebookSlug:_,idkmap:d.current,state:l,dispatch:c},`build-${p}-${_}`))}),h.length>0&&(0,Mo.jsx)("div",{className:"p-1 pl-4",children:h.map(({pageSlug:p,notebookSlug:_,location:y})=>(0,Mo.jsx)(G5,{pageSlug:p,notebookSlug:_,location:y,state:l,dispatch:c},`session-${p}-${_}`))})]}),(0,Mo.jsx)(Y5,{state:l,dispatch:c}),t]})}var Z5=P(me(),1),Un=P(se(),1),uu=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},iR=Un.default.createContext(void 0);function nR(t){return typeof t.pageSlug=="string"&&typeof t.notebookSlug=="string"&&typeof t.kind=="string"}function X5(t){return nR(t)&&typeof t.cellId=="string"&&typeof t.kind=="string"}function dJ(t){return nR(t)&&Array.isArray(t.cellIds)&&t.cellIds.every(e=>typeof e=="string")&&typeof t.kind=="string"}function J5(t){var e,i;return typeof t.pageSlug=="string"&&typeof t.notebookSlug=="string"&&t.errors===void 0||((i=Array.isArray(t.errors)&&((e=t.errors)===null||e===void 0?void 0:e.every(n=>typeof n=="object")))!==null&&i!==void 0?i:!1)}function uJ(t,e){var i,n,r,s,o,a,l;switch(e.type){case"SET_CELL_BUSY":{if(!X5(e.payload))return console.error("SET_CELL_BUSY payload must be a cell payload",e.payload),t;let{pageSlug:c,notebookSlug:d,cellId:u,kind:f}=e.payload;return!((n=(i=t[f][c])===null||i===void 0?void 0:i[d])===null||n===void 0)&&n[u]?t:Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign(Object.assign({},t[f][c]),{[d]:Object.assign(Object.assign({},(r=t[f][c])===null||r===void 0?void 0:r[d]),{[u]:!0})})})})}case"CLEAR_CELL_BUSY":{if(!X5(e.payload))return console.error("CLEAR_CELL_BUSY payload must be a cell payload",e.payload),t;let{pageSlug:c,notebookSlug:d,cellId:u,kind:f}=e.payload,h=t[f],m=c,p=h[m],_=uu(h,[typeof m=="symbol"?m:m+""]);if(!p)return t;let y=p,S=d,T=y[S],D=uu(y,[typeof S=="symbol"?S:S+""]);if(!T||!T[u])return t;let k=T,b=u,M=k[b],C=uu(k,[typeof b=="symbol"?b:b+""]);return Object.keys(C).length===0&&Object.keys(D).length===0?Object.assign(Object.assign({},t),{[f]:_}):Object.keys(C).length===0?Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign({},D)})}):Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[e.payload.pageSlug]:Object.assign(Object.assign({},D),{[d]:Object.assign({},C)})})})}case"SET_NOTEBOOK_BUSY":{if(!dJ(e.payload))return console.error("SET_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),t;let{pageSlug:c,notebookSlug:d,cellIds:u,kind:f}=e.payload;return Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign(Object.assign({},t[f][c]),{[d]:Object.assign(Object.assign({},(s=t[f][c])===null||s===void 0?void 0:s[d]),u.reduce((h,m)=>Object.assign(Object.assign({},h),{[m]:!0}),{}))})})})}case"CLEAR_NOTEBOOK_BUSY":{if(!nR(e.payload))return console.error("CLEAR_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),t;let{pageSlug:c,notebookSlug:d,kind:u}=e.payload;if(!t[u][c]||!(!((o=t[u][c])===null||o===void 0)&&o[d]))return t;let f=t[u][c],h=d,m=f[h],p=uu(f,[typeof h=="symbol"?h:h+""]);if(Object.keys(p).length===0){let _=t[u],y=c,S=_[y],T=uu(_,[typeof y=="symbol"?y:y+""]);return Object.assign(Object.assign({},t),{[u]:T})}return Object.assign(Object.assign({},t),{[u]:Object.assign(Object.assign({},t[u]),{[c]:Object.assign({},p)})})}case"SET_ERROR":{if(!J5(e.payload))return console.error("SET_ERROR payload must be an error payload",e.payload),t;let{pageSlug:c,notebookSlug:d,errors:u}=e.payload;return u?t.error[c]||!((a=t.error[c])===null||a===void 0)&&a[d]?t:Object.assign(Object.assign({},t),{error:Object.assign(Object.assign({},t.error),{[c]:Object.assign(Object.assign({},t.error[c]),{[d]:u})})}):(console.error("SET_ERROR payload must have errors",e.payload),t)}case"CLEAR_ERROR":{if(!J5(e.payload))return console.error("CLEAR_ERROR payload must be a error payload",e.payload),t;let{pageSlug:c,notebookSlug:d}=e.payload;if(!t.error[c]||!(!((l=t.error[c])===null||l===void 0)&&l[d]))return t;let u=t.error[c],f=d,h=u[f],m=uu(u,[typeof f=="symbol"?f:f+""]);if(Object.keys(m).length>0)return Object.assign(Object.assign({},t),{error:Object.assign(Object.assign({},t.error),{[c]:Object.assign({},m)})});let p=t.error,_=c,y=p[_],S=uu(p,[typeof _=="symbol"?_:_+""]);return Object.assign(Object.assign({},t),{error:S})}}return t}function uRe({children:t}){let[e,i]=(0,Un.useReducer)(uJ,{execute:{},reset:{},error:{}}),n=Un.default.useMemo(()=>({state:e,dispatch:i}),[e]);return typeof window!="undefined"&&(window.busyScopeState=n.state),(0,Z5.jsx)(iR.Provider,{value:n,children:t})}function bm(){let t=Un.default.useContext(iR);if(t===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{dispatch:e,state:i}=t,n=(0,Un.useCallback)((f,h,m,p)=>hJ(i,f,h,m,p),[i]),r=(0,Un.useCallback)((f,h,m)=>fJ(i,f,h,m),[i]),s=(0,Un.useCallback)((f,h)=>mJ(i,f,h),[i]),o=(0,Un.useCallback)((f,h,m,p)=>{e({type:"SET_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}})},[e]),a=(0,Un.useCallback)((f,h,m,p)=>e({type:"CLEAR_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}}),[e]),l=(0,Un.useCallback)((f,h,m,p)=>e({type:"SET_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,cellIds:m,kind:p}}),[e]),c=(0,Un.useCallback)((f,h,m)=>e({type:"CLEAR_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,kind:m}}),[e]),d=(0,Un.useCallback)((f,h,m)=>e({type:"SET_ERROR",payload:{pageSlug:f,notebookSlug:h,errors:m}}),[e]),u=(0,Un.useCallback)((f,h)=>e({type:"CLEAR_ERROR",payload:{pageSlug:f,notebookSlug:h}}),[e]);return{cell:n,notebook:r,page:s,setCell:o,clearCell:a,setNotebook:l,clearNotebook:c,setError:d,clearError:u}}function Q5(t){let e=Un.default.useContext(iR);if(e===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{state:i,dispatch:n}=e,r=()=>{Object.keys(i.error[t]).forEach(o=>{n({type:"CLEAR_ERROR",payload:{pageSlug:t,notebookSlug:o}})})},s;return Object.keys(i.error).length>0&&i.error[t]&&(s=Object.entries(i.error[t]).map(([o,a])=>({pageSlug:t,notebookSlug:o,errors:a}))),{items:s,clearErrors:r}}function hJ(t,e,i,n,r){var s,o;return!!(!((o=(s=t[r][e])===null||s===void 0?void 0:s[i])===null||o===void 0)&&o[n])}function fJ(t,e,i,n){var r;return!!(!((r=t[n][e])===null||r===void 0)&&r[i])}function mJ(t,e,i){return!!t[i][e]}var xm=P(ga(),1);var rR=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Oy({clearOutputsOnExecute:t=!1}={}){var e;let i=fs.default.useContext(E_),{config:n}=(0,xm.useThebeConfig)(),r=bm();if(i===void 0)throw new Error("useExecuteScope must be used within a ExecuteScopeProvider");let{state:s,dispatch:o}=i,a=(0,fs.useCallback)(f=>{console.debug(`Jupyter: Starting ${f}`),o({type:"REQUEST_BUILD",payload:{slug:f}})},[]),l=f=>{Object.entries(s.pages[f].scopes).forEach(([h,{notebook:m}])=>{r.clearError(f,h),r.setNotebook(f,h,m.code.map(p=>p.id),"execute")}),t&&Object.values(s.pages[f].scopes).forEach(({notebook:h})=>{h.clear()}),setTimeout(()=>rR(this,void 0,void 0,function*(){let h=(m,p)=>{var _,y;if(p.subject==="cell"&&p.status==="idle"){let S=(_=p.object.notebookId)!==null&&_!==void 0?_:"unknown";r.clearCell(f,S,(y=p.id)!==null&&y!==void 0?y:"unknown","execute")}};n==null||n.events.on("status",h),yield Promise.all(Object.entries(s.pages[f].scopes).map(m=>rR(this,[m],void 0,function*([,{notebook:p}]){let _=yield p.executeAll(!0),y=(0,xm.findErrors)(_);y!=null&&(console.error("errors",y),r.setError(f,p.id,y),r.clearNotebook(f,p.id,"execute"))}))),n==null||n.events.off("status",h)}),100)},c=(0,fs.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([,{notebook:m}])=>{m.clear()})},[s]),d=(0,fs.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([m,{notebook:p,session:_}])=>{r.clearError(f,m),r.setNotebook(f,m,p.code.map(y=>y.id),"reset"),setTimeout(()=>{var y;p.reset(),(y=_==null?void 0:_.kernel)===null||y===void 0||y.restart().finally(()=>{r.clearNotebook(f,m,"reset")})},300)})},[s]),u=(e=i.state.pages[i.slug])===null||e===void 0?void 0:e.ready;return Object.assign(Object.assign({},i),{ready:u,start:a,clearAll:c,resetAll:d,execute:l})}function Dy(t,e=!1){var i,n;let r=fs.default.useContext(E_),{config:s}=(0,xm.useThebeConfig)(),o=bm();if(r===void 0)throw new Error("useNotebookExecution must be used within a ExecuteScopeProvider");let{state:a,dispatch:l,idkmap:c}=r,d=(i=c[t])!==null&&i!==void 0?i:{},{pageSlug:u,notebookSlug:f,cellId:h}=d,m=(0,fs.useCallback)(()=>{l({type:"REQUEST_BUILD",payload:{slug:r.slug}})},[d]),p,_;d&&a.pages[u]&&(_=qa(a,u,f),_&&(p=_==null?void 0:_.getCellById(h)));let y=()=>{let C=qa(a,u,f);o.clearError(u,f),o.setNotebook(u,f,C.code.map(x=>x.id),"execute"),e&&C.clear(),setTimeout(()=>rR(this,void 0,void 0,function*(){let x=(O,j)=>{var Q;j.subject==="cell"&&j.status==="idle"&&o.clearCell(u,f,(Q=j.id)!==null&&Q!==void 0?Q:"unknown","execute")};s==null||s.events.on("status",x);let w=yield C.executeAll(!0),E=(0,xm.findErrors)(w);E!=null&&(console.error("an error occurred during notebook execution"),o.setError(u,f,E),o.clearNotebook(u,f,"execute")),s==null||s.events.off("status",x)}),100)},S=(0,fs.useCallback)(()=>{qa(a,u,f).clear()},[a]),T=(0,fs.useCallback)(()=>{let C=qa(a,u,f);o.clearError(u,f),o.setNotebook(u,f,C.code.map(x=>x.id),"reset"),setTimeout(()=>{var x,w;C.reset(),(w=(x=C.session)===null||x===void 0?void 0:x.kernel)===null||w===void 0||w.restart().finally(()=>{o.clearNotebook(u,f,"reset")})},300)},[a]),D=(n=r.state.pages[r.slug])===null||n===void 0?void 0:n.ready,k=o.notebook(u,f,"execute"),b=o.notebook(u,f,"reset"),M=k||b;return Object.assign(Object.assign({},r),{ready:D,start:m,clear:S,reset:T,execute:y,cellIsExecuting:p?o.cell(u,f,p==null?void 0:p.id,"execute"):!1,notebookIsExecuting:k,notebookIsResetting:b,notebookIsBusy:M,executionCount:p==null?void 0:p.executionCount})}function Io(t,e=!1){var i,n,r,s;let o=bm(),a=fs.default.useContext(E_);if(a===void 0)throw new Error("useCellExecution must be used within a ExecuteScopeProvider");let{state:l,idkmap:c}=a,d=(i=c[t])!==null&&i!==void 0?i:{},{pageSlug:u,notebookSlug:f,cellId:h}=d,m,p;d&&l.pages[u]&&(p=qa(l,u,f),p&&(m=p==null?void 0:p.getCellById(h)));let _=(n=a.state.pages[a.slug])===null||n===void 0?void 0:n.ready,y=(s=(r=a.state.pages[a.slug])===null||r===void 0?void 0:r.kind)!==null&&s!==void 0?s:pi.Article,S=(0,fs.useCallback)(()=>{if(!m){console.error("no cell found on execute",{pageSlug:u,notebookSlug:f,cellId:h});return}o.setCell(u,f,m.id,"execute"),e&&m.clear(),setTimeout(()=>{if(!m)throw new Error("no cell found on execute");m.execute().then(()=>{if(!m)throw new Error("no cell found after execute");o.clearCell(u,f,m==null?void 0:m.id,"execute")})},100)},[l,m]),T=(0,fs.useCallback)(()=>{if(!m){console.error("no cell found on clear",{pageSlug:u,notebookSlug:f,cellId:h});return}m.clear()},[l,m]),D=o.notebook(u,f,"execute"),k=o.notebook(u,f,"reset"),b=D||k;return{canCompute:a.canCompute,kind:y,ready:_,execute:S,clear:T,cellIsExecuting:m?o.cell(u,f,m==null?void 0:m.id,"execute"):!1,notebookIsExecuting:D,notebookIsResetting:k,notebookIsBusy:b,cell:m}}var jy=P(me(),1),cF=P(ga(),1);var Bt=P(me(),1);var zy=P(Et(),1);var hu=P(me(),1);function ym({size:t}){return(0,hu.jsxs)("div",{role:"status",children:[(0,hu.jsxs)("svg",{"aria-hidden":"true",width:t,height:t,className:"mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-green-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,hu.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,hu.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,hu.jsx)("span",{className:"sr-only",children:"Loading..."})]})}var An=P(se(),1),tF=P(hC(),1);var eF=An.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),sR={dedupe:!0},pJ=(t,e,i)=>{let{cache:n,compare:r,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:u,keepPreviousData:f}=i,[h,m,p,_]=Ns.get(n),[y,S]=Wh(t),T=(0,An.useRef)(!1),D=(0,An.useRef)(!1),k=(0,An.useRef)(y),b=(0,An.useRef)(e),M=(0,An.useRef)(i),C=()=>M.current,x=()=>C().isVisible()&&C().isOnline(),[w,E,O,j]=zp(n,y),Q=(0,An.useRef)({}).current,X=nt(o)?i.fallback[y]:o,K=(ye,A)=>{for(let H in Q){let F=H;if(F==="data"){if(!r(ye[F],A[F])&&(!nt(ye[F])||!r(Je,A[F])))return!1}else if(A[F]!==ye[F])return!1}return!0},Y=(0,An.useMemo)(()=>{let ye=(()=>!y||!e?!1:nt(a)?C().isPaused()||s?!1:nt(l)?!0:l:a)(),A=ke=>{let tt=Os(ke);return delete tt._k,ye?{isValidating:!0,isLoading:!0,...tt}:tt},H=w(),F=j(),Z=A(H),ae=H===F?Z:A(F),ce=Z;return[()=>{let ke=A(w());return K(ke,ce)?(ce.data=ke.data,ce.isLoading=ke.isLoading,ce.isValidating=ke.isValidating,ce.error=ke.error,ce):(ce=ke,ke)},()=>ae]},[n,y]),ie=(0,tF.useSyncExternalStore)((0,An.useCallback)(ye=>O(y,(A,H)=>{K(H,A)||ye()}),[n,y]),Y[0],Y[1]),be=!T.current,Pe=h[y]&&h[y].length>0,we=ie.data,Le=nt(we)?X:we,at=ie.error,Ze=(0,An.useRef)(Le),Je=f?nt(we)?Ze.current:we:Le,lt=(()=>Pe&&!nt(at)?!1:be&&!nt(a)?a:C().isPaused()?!1:s?nt(Le)?!1:l:nt(Le)||l)(),bt=!!(y&&e&&be&&lt),wt=nt(ie.isValidating)?bt:ie.isValidating,oi=nt(ie.isLoading)?bt:ie.isLoading,mi=(0,An.useCallback)(async ye=>{let A=b.current;if(!y||!A||D.current||C().isPaused())return!1;let H,F,Z=!0,ae=ye||{},ce=!p[y]||!ae.dedupe,ke=()=>Fh?!D.current&&y===k.current&&T.current:y===k.current,tt={isValidating:!1,isLoading:!1},xt=()=>{E(tt)},Xt=()=>{let Ce=p[y];Ce&&Ce[1]===F&&delete p[y]},Ht={isValidating:!0};nt(w().data)&&(Ht.isLoading=!0);try{if(ce&&(E(Ht),i.loadingTimeout&&nt(w().data)&&setTimeout(()=>{Z&&ke()&&C().onLoadingSlow(y,i)},i.loadingTimeout),p[y]=[A(S),Hh()]),[H,F]=p[y],H=await H,ce&&setTimeout(Xt,i.dedupingInterval),!p[y]||p[y][1]!==F)return ce&&ke()&&C().onDiscarded(y),!1;tt.error=fn;let Ce=m[y];if(!nt(Ce)&&(F<=Ce[0]||F<=Ce[1]||Ce[1]===0))return xt(),ce&&ke()&&C().onDiscarded(y),!1;let q=w().data;tt.data=r(q,H)?q:H,ce&&ke()&&C().onSuccess(H,y,i)}catch(Ce){Xt();let q=C(),{shouldRetryOnError:B}=q;q.isPaused()||(tt.error=Ce,ce&&ke()&&(q.onError(Ce,y,q),(B===!0||fr(B)&&B(Ce))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||x())&&q.onErrorRetry(Ce,y,q,Me=>{let Te=h[y];Te&&Te[0]&&Te[0](Ds.ERROR_REVALIDATE_EVENT,Me)},{retryCount:(ae.retryCount||0)+1,dedupe:!0})))}return Z=!1,xt(),!0},[y,n]),Ci=(0,An.useCallback)((...ye)=>Pp(n,k.current,...ye),[]);if(Fa(()=>{b.current=e,M.current=i,nt(we)||(Ze.current=we)}),Fa(()=>{if(!y)return;let ye=mi.bind(fn,sR),A=0,F=vb(y,h,(Z,ae={})=>{if(Z==Ds.FOCUS_EVENT){let ce=Date.now();C().revalidateOnFocus&&ce>A&&x()&&(A=ce+C().focusThrottleInterval,ye())}else if(Z==Ds.RECONNECT_EVENT)C().revalidateOnReconnect&&x()&&ye();else{if(Z==Ds.MUTATE_EVENT)return mi();if(Z==Ds.ERROR_REVALIDATE_EVENT)return mi(ae)}});return D.current=!1,k.current=y,T.current=!0,E({_k:S}),lt&&(nt(Le)||Ha?ye():pb(ye)),()=>{D.current=!0,F()}},[y]),Fa(()=>{let ye;function A(){let F=fr(c)?c(w().data):c;F&&ye!==-1&&(ye=setTimeout(H,F))}function H(){!w().error&&(d||C().isVisible())&&(u||C().isOnline())?mi(sR).then(A):A()}return A(),()=>{ye&&(clearTimeout(ye),ye=-1)}},[c,d,u,y]),(0,An.useDebugValue)(Je),s&&nt(Le)&&y){if(!Fh&&Ha)throw new Error("Fallback data is required when using suspense in SSR.");b.current=e,M.current=i,D.current=!1;let ye=_[y];if(!nt(ye)){let A=Ci(ye);eF(A)}if(nt(at)){let A=mi(sR);nt(Je)||(A.status="fulfilled",A.value=!0),eF(A)}else throw at}return{mutate:Ci,get data(){return Q.data=!0,Je},get error(){return Q.error=!0,at},get isValidating(){return Q.isValidating=!0,wt},get isLoading(){return Q.isLoading=!0,oi}}};rd.defineProperty(gb,"defaultValue",{value:Bp});var gJ=_b(pJ),_J=t=>(e,i,n)=>(n.revalidateOnFocus=!1,n.revalidateIfStale=!1,n.revalidateOnReconnect=!1,t(e,i,n)),oR=QN(gJ,_J);var fu=P(se(),1),iF=P(ga(),1),vJ=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function nF(t){return vJ(this,void 0,void 0,function*(){let e=yield fetch(t);if(e.status===200){let i=yield e.text();if(t.endsWith(".json"))try{let n=JSON.parse(i),r=Object.keys(n);if(r.length===2&&r.includes("content")&&r.includes("content_type"))return n}catch{}return{content:i}}throw new Error(`Content returned with status ${e.status}.`)})}function rF(t,e){if(typeof document=="undefined")return e?{}:{data:{content:t!=null?t:""}};let{data:i,error:n}=oR(e||null,nF);return e?{data:i,error:n}:{data:{content:t!=null?t:""}}}var bJ=(...t)=>Promise.all(t.map(e=>nF(e[0])));function xJ(t){return t.map(e=>{if("data"in e&&e.data){let i=e.data;return Object.assign(Object.assign({},e),{data:Object.entries(i).reduce((n,[r,s])=>Object.assign(Object.assign({},n),{[r]:Object.assign({},s)}),{})})}return Object.assign({},e)})}function sF(t){let e=[],i=xJ(t);Mk(i,s=>{"content_type"in s&&s.content_type.startsWith("image/")||s.path&&e.push(s)});let{data:n,error:r}=oR(e.map(({path:s})=>s),bJ);return n==null||n.forEach(({content:s},o)=>{let a=e[o];"text"in a?a.text=s:"traceback"in a?a.traceback=s:a.content=s,a.path=void 0}),{data:e.length===0||n?i:void 0,error:r}}function aR(){let{connect:t,connecting:e,ready:i,server:n,error:r}=(0,iF.useThebeServer)(),[s,o]=(0,fu.useState)(!1),a=(0,fu.useCallback)(d=>{d!=null&&s&&d.click()},[s]),l=(0,fu.useCallback)(()=>{if(!t){console.debug("LaunchBinder: Trying to start a connection but connect() isn't defined");return}o(!0),t()},[t]),c=(0,fu.useCallback)(d=>{let u=n==null?void 0:n.userServerUrl;if(u&&d){let f=new URL(u);f.pathname=`${f.pathname}lab/tree${d}`.replace(/\/+/g,"/"),u=f.toString()}return u},[n]);return{connecting:e,ready:i,error:r,autoClickRef:a,handleStart:l,getUserServerUrl:c}}function yJ({icon:t,label:e,title:i,busy:n,error:r,className:s,onClick:o}){let a=t;return r?a=(0,Bt.jsx)(so,{className:"inline pr-2 text-red-600 text-semibold",width:"1.5rem",height:"1.5rem",title:i}):n&&(a=(0,Bt.jsx)(ym,{size:16})),(0,Bt.jsx)("button",{className:s,disabled:n,onClick:o,title:i,children:(0,Bt.jsxs)("div",{className:"flex items-center h-full",children:[a,(0,Bt.jsx)("span",{children:e})]})})}function PRe({type:t,location:e}){let{connecting:i,ready:n,error:r,autoClickRef:s,handleStart:o,getUserServerUrl:a}=aR(),l="flex gap-1 px-2 py-1 font-normal no-underline border rounded bg-slate-200 border-slate-600 hover:bg-slate-800 hover:text-white hover:border-transparent",c=(0,Bt.jsx)(Qn,{width:"1rem",height:"1rem",className:"self-center mr-2 transition-transform group-hover:-translate-x-1 shrink-0"});if(t==="link"&&(c=(0,Bt.jsx)(Qn,{width:"1.5rem",height:"1.5rem",className:"inline h-5 pr-2"}),l="inline-flex items-center mr-2 font-medium no-underline text-gray-900 lg:mr-0 lg:flex"),n){let f=a(e);return(0,Bt.jsx)("a",{ref:s,className:l,href:f,target:"_blank",rel:"noopener noreferrer",title:"Binder server is available, click to open in a new tab",children:(0,Bt.jsxs)("div",{className:"flex items-center h-full",children:[c,(0,Bt.jsx)("span",{children:"Open in Jupyter"})]})})}let d="Launch Jupyter",u="Click to start a new compute session";return r?(d="Launch Error",u=r):i&&(d="Launching...",u="Starting a jupyter server, please wait"),(0,Bt.jsx)(yJ,{className:l,icon:c,label:d,title:u,busy:i,error:!!r,onClick:o})}function oF({ready:t,busy:e,modified:i,onClick:n}){let r="Enable compute to make this figure interactive";t&&(r=i?"The figure has been modified":"The figure is in its original state");let s=(0,Bt.jsx)(wp,{width:"1.5rem",height:"1.5rem"});return t&&(i?s=(0,Bt.jsx)(y1,{width:"1.5rem",height:"1.5rem",className:"text-green-600"}):s=(0,Bt.jsx)(Lp,{width:"1.5rem",height:"1.5rem",className:"text-green-600"})),(0,Bt.jsxs)("div",{className:"relative flex text-sm",children:[(0,Bt.jsx)("button",{className:(0,zy.default)("cursor-pointer text-gray-700 dark:text-white active:text-green-700 hover:opacity-100",{"opacity-10":e,"opacity-70":!e}),disabled:t,title:r,"aria-label":"status",onClick:n!=null?n:()=>({}),children:s}),e&&(0,Bt.jsx)("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:(0,Bt.jsx)(ym,{size:24})})]})}function aF({ready:t,icon:e,busy:i,disabled:n,title:r,onClick:s}){return(0,Bt.jsxs)("div",{className:"relative flex text-sm",children:[(0,Bt.jsx)("button",{className:(0,zy.default)(" text-gray-700 dark:text-white active:text-green-700 ",{"opacity-10 hover:opacity-10":i,"opacity-70":!i&&!n,"cursor-pointer hover:opacity-100":!n,"cursor-not-allowed opacity-10 hover:opacity-10":n}),disabled:n||!t||i,onClick:()=>s(),title:r!=null?r:"run all cells","aria-label":r!=null?r:"run all cells",children:e}),i&&(0,Bt.jsx)("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:(0,Bt.jsx)(ym,{size:24})})]})}function mu({ready:t,executing:e,disabled:i,title:n,onClick:r}){return(0,Bt.jsx)(aF,{ready:t,busy:e,disabled:i,title:n!=null?n:"run all cells",onClick:r,icon:(0,Bt.jsx)(L1,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function Py({ready:t,resetting:e,disabled:i,title:n,onClick:r}){return(0,Bt.jsx)(aF,{ready:t,busy:e,disabled:i,title:n!=null?n:"reset notebook",onClick:r,icon:(0,Bt.jsx)(x1,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function By({ready:t,disabled:e,title:i,onClick:n}){return(0,Bt.jsx)("button",{className:(0,zy.default)("flex text-gray-700 dark:text-white",{"cursor-not-allowed opacity-10":e||!t,"active:text-green-700 opacity-70 hover:opacity-100 cursor-pointer":!e}),disabled:e||!t,onClick:()=>n(),title:i!=null?i:"clear","aria-label":i!=null?i:"clear",children:(0,Bt.jsx)(A1,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function lF({ready:t,disabled:e,title:i,onClick:n}){return(0,Bt.jsx)("button",{className:"flex items-center text-gray-700 cursor-pointer dark:text-white active:text-green-700 opacity-70 hover:opacity-100",disabled:e||!t,onClick:()=>n(),title:i!=null?i:"launch in jupyter","aria-label":i!=null?i:"launch in jupyter",children:(0,Bt.jsx)(Qn,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function dF({id:t}){let{connect:e,connecting:i}=(0,cF.useThebeServer)(),{slug:n,state:r,start:s,ready:o,executionCount:a}=Dy(t),l=Vh(r,n),c=()=>{if(!e){console.debug("ArticleStatusBadge: Trying to start a connection but connect() isn't defined");return}e(),s()};return(0,jy.jsx)(oF,{ready:o,busy:l||i,modified:a!=null,onClick:c})}function uF({id:t}){let{ready:e,cellIsExecuting:i,notebookIsBusy:n,execute:r}=Dy(t);return e?(0,jy.jsx)(mu,{ready:e,executing:i,disabled:n,onClick:r,title:"Run the notebook that creates this figure"}):null}function hF({id:t}){let{ready:e,notebookIsResetting:i,notebookIsBusy:n,reset:r}=Dy(t);return e?(0,jy.jsx)(Py,{ready:e,resetting:i,disabled:n,onClick:r,title:"Reset the figure to its original state and restart the kernel"}):null}var Hy=P(me(),1),M_=P(se(),1);function wJ(t){return typeof t=="object"&&t!==null}function fF(t){if(t===void 0)return;let{binder:e,server:i,lite:n,kernelName:r,disableSessionSaving:s,mathjaxConfig:o,mathjaxUrl:a}=t!=null?t:{},l={mathjaxConfig:o,mathjaxUrl:a};if(s&&(l.savedSessionOptions={enabled:!1}),r&&(l.kernelOptions={kernelName:r}),e){l.useBinder=!0;let{repo:c,ref:d,url:u,provider:f}=e;l.binderOptions={repo:c,ref:d,binderUrl:u,repoProvider:f}}if(n===!0&&(l.useJupyterLite=!0),wJ(i)){let{url:c,token:d}=i;l.serverSettings={},c&&(l.serverSettings.baseUrl=c),d&&(l.serverSettings.token=d)}return l}var Fy=P(ga(),1),mF=M_.default.createContext(void 0);function VRe({features:t,optionOverrideFn:e,customRepoProviders:i,children:n}){let r=Zk(),s=M_.default.useMemo(()=>{if(!r)return;let o=r==null?void 0:r.thebe,a=r==null?void 0:r.github,l=r==null?void 0:r.binder,c=fF(o),d=e?e(c):c;return{enabled:!!d,thebe:d,githubBadgeUrl:a,binderBadgeUrl:l,features:t,customRepoProviders:i}},[r,e]);return(0,Hy.jsx)(mF.Provider,{value:s,children:n})}function I_(){return(0,M_.useContext)(mF)}function GRe({baseurl:t,connect:e,children:i}){var n,r,s,o,a,l,c;let d=I_();return(0,Hy.jsx)(Fy.ThebeBundleLoaderProvider,{loadThebeLite:(r=(n=d==null?void 0:d.thebe)===null||n===void 0?void 0:n.useJupyterLite)!==null&&r!==void 0?r:!1,publicPath:t,children:(0,Hy.jsx)(Fy.ThebeServerProvider,{connect:e!=null?e:!1,options:d==null?void 0:d.thebe,useBinder:(o=(s=d==null?void 0:d.thebe)===null||s===void 0?void 0:s.useBinder)!==null&&o!==void 0?o:!1,useJupyterLite:(l=(a=d==null?void 0:d.thebe)===null||a===void 0?void 0:a.useJupyterLite)!==null&&l!==void 0?l:!1,customRepoProviders:(c=d==null?void 0:d.customRepoProviders)!==null&&c!==void 0?c:[],children:i})})}var gF=Wy.default.createContext({});function pF({placeholder:t,children:e}){let i=Wy.default.useMemo(()=>({placeholder:t}),[t]);return(0,xi.jsx)(gF.Provider,{value:i,children:e})}function T_(){return Wy.default.useContext(gF).placeholder}function $y({outputId:t,placeholder:e,children:i,title:n="Jupyter Notebook",url:r,remoteBaseUrl:s}){let{kind:o}=Io(t),a=I_(),l=Ts(),c=Nk(),d=ur();return(a==null?void 0:a.enabled)&&(a==null?void 0:a.features.figureCompute)&&o===pi.Article&&!s?(0,xi.jsxs)("div",{className:"mb-4 shadow",children:[(0,xi.jsx)("div",{className:"sticky z-[2] w-full bg-gray-100/80 backdrop-blur dark:bg-neutral-800/80 py-1 px-2",style:{top:c},children:(0,xi.jsxs)("div",{className:"flex items-center",children:[(0,xi.jsxs)("div",{className:"flex items-center",children:[(0,xi.jsx)(bb,{width:"1.25rem",height:"1.25rem",className:"inline-block"}),(0,xi.jsx)("span",{className:"ml-2",children:"Source:"}),r&&(0,xi.jsx)(l,{to:En(r,s!=null?s:d),className:"ml-2 no-underline text-normal hover:underline",children:n})]}),(0,xi.jsx)("div",{className:"flex-grow"}),(0,xi.jsx)(dF,{id:t}),(0,xi.jsx)(uF,{id:t}),(0,xi.jsx)(hF,{id:t})]})}),(0,xi.jsx)(pF,{placeholder:e,children:i})]}):o===pi.Article?(0,xi.jsxs)(xi.Fragment,{children:[(0,xi.jsxs)("div",{className:"flex items-center justify-end text-xs",children:[(0,xi.jsx)(bb,{width:"0.75rem",height:"0.75rem",className:"inline-block"}),(0,xi.jsx)("div",{className:"ml-1",children:"Source:"}),r&&(0,xi.jsx)(l,{to:En(r,s!=null?s:d),className:"ml-1 no-underline text-normal hover:underline",children:n})]}),(0,xi.jsx)(pF,{placeholder:e,children:i})]}):(0,xi.jsx)(xi.Fragment,{children:i})}function _F({node:t}){var e,i,n,r;let s=(e=t.children)===null||e===void 0?void 0:e.find(o=>o.type==="output");return s?(0,qy.jsx)($y,{outputId:s.id,title:(i=t.source)===null||i===void 0?void 0:i.title,url:(n=t.source)===null||n===void 0?void 0:n.url,remoteBaseUrl:(r=t.source)===null||r===void 0?void 0:r.remoteBaseUrl,children:(0,qy.jsx)(xe,{ast:t.children})},t.key):(0,qy.jsx)(xe,{ast:t.children})}var wm=P(me(),1);var uR=P(Et(),1);var To=P(me(),1);var Gy=P(me(),1);var CF=P(xF(),1),SF=P(wF(),1),R_=P(se(),1);function IJ(t,e=!1){return t=(0,SF.escapeCarriageReturn)(kJ(t)),CF.default.ansiToJson(t,{json:!0,remove_empty:!0,use_classes:e})}function TJ(t){let e="";return t.bg&&(e+=`${t.bg}-bg `),t.fg&&(e+=`${t.fg}-fg `),t.decoration&&(e+=`ansi-${t.decoration} `),e===""?null:(e=e.substring(0,e.length-1),e)}function RJ(t){let e={};switch(t.bg&&(e.backgroundColor=`rgb(${t.bg})`),t.fg&&(e.color=`rgb(${t.fg})`),t.decoration){case"bold":e.fontWeight="bold";break;case"dim":e.opacity="0.5";break;case"italic":e.fontStyle="italic";break;case"hidden":e.visibility="hidden";break;case"strikethrough":e.textDecoration="line-through";break;case"underline":e.textDecoration="underline";break;case"blink":e.textDecoration="blink";break;default:break}return e}function AJ(t,e,i,n){let r=e?null:RJ(i),s=e?TJ(i):null;if(!t)return R_.createElement("span",{style:r,key:n,className:s},i.content);let o=[],a=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g,l=0,c;for(;(c=a.exec(i.content))!==null;){let[,d,u]=c,f=c.index+d.length;f>l&&o.push(i.content.substring(l,f));let h=u.startsWith("www.")?`http://${u}`:u;o.push(R_.createElement("a",{key:l,href:h,target:"_blank"},`${u}`)),l=a.lastIndex}return l<i.content.length&&o.push(i.content.substring(l)),R_.createElement("span",{style:r,key:n,className:s},o)}function pu(t){let{className:e,useClasses:i,children:n,linkify:r}=t;return R_.createElement("code",{className:e},IJ(n??"",i??!1).map(AJ.bind(null,r??!1,i??!1)))}function kJ(t){let e=t;do t=e,e=t.replace(/[^\n]\x08/gm,"");while(e.length<t.length);return t}var A_=P(me(),1),EF=P(se(),1);var Vy=({content:t,path:e,render:i})=>{let{error:n,data:r}=rF(t,e);return n?(0,A_.jsxs)("div",{className:"text-red-500",children:["Error loading content: ",n.message]}):r?(0,A_.jsx)("div",{children:i(r.content)}):(0,A_.jsx)("div",{children:"Fetching long content...."})};function cR({output:t}){return(0,Gy.jsx)(Vy,{content:Yu(t.text),path:t.path,render:e=>(0,Gy.jsx)("pre",{className:"text-sm font-thin font-system",children:(0,Gy.jsx)(pu,{children:e!=null?e:""})})})}var Yy=P(me(),1);function dR({output:t}){return(0,Yy.jsx)(Vy,{content:Yu(t.traceback),path:t.path,render:e=>(0,Yy.jsx)("pre",{className:"text-sm font-thin font-system jupyter-error",children:(0,Yy.jsx)(pu,{children:e!=null?e:""})})})}var LJ=[Rr.ImagePng,Rr.ImageJpeg,Rr.ImageGif,Rr.ImageBmp];function NJ(t){let e=t.data,i=LJ.reduce((r,s)=>{if(r)return r;if(e&&e[s])return e[s]},void 0),n=e&&e["text/plain"];return{image:i,text:n}}function OJ({image:t,text:e}){var i;return(0,To.jsx)("img",{src:t==null?void 0:t.path,alt:(i=e==null?void 0:e.content)!==null&&i!==void 0?i:"Image produced in Jupyter"})}function DJ({output:t}){switch(t.output_type){case"stream":return(0,To.jsx)(cR,{output:t});case"error":return(0,To.jsx)(dR,{output:t});case"display_data":case"execute_result":case"update_display_data":{let{image:e,text:i}=NJ(t);return!e&&!i?null:e?(0,To.jsx)(OJ,{image:e,text:i}):i?(0,To.jsx)("div",{className:"font-mono text-sm whitespace-pre-wrap",children:(0,To.jsx)(pu,{children:i.content})}):null}default:return console.warn(`Unknown output_type ${t.output_type}`),null}}function MF({keyStub:t,outputs:e}){if(!e)return null;let i=e.map((n,r)=>(0,To.jsx)(DJ,{output:n},`${t}-${r}`));return(0,To.jsx)(To.Fragment,{children:i})}var qr=P(me(),1),ms=P(se(),1);var Ky=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function zJ(t){return Ky(this,void 0,void 0,function*(){let e=new Image;return e.crossOrigin="Anonymous",new Promise((n,r)=>{e.onload=function(){let o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return console.error("Could not get canvas context"),r();o.height=e.naturalHeight,o.width=e.naturalWidth,a.drawImage(e,0,0);let l=o.toDataURL("image/png"),[,c]=l.split(";base64,");n(c)},e.src=t})})}function IF(t){return Ky(this,void 0,void 0,function*(){return Promise.all(t.map(e=>Ky(this,void 0,void 0,function*(){if(!("data"in e))return e;let i=Object.keys(e.data).filter(r=>r!=="image/svg"&&r!=="image/svg+xml"&&r.startsWith("image/"));if(i.length===0)return e;let n=yield Promise.all(i.map(r=>Ky(this,void 0,void 0,function*(){let s=e.data[r];if(s.path){let o=yield zJ(s.path);return Object.assign(Object.assign({},s),{content:o})}return s})));return i.forEach((r,s)=>{e.data[r]=n[s]}),e})))})}var TF=P(ga(),1);var RF=P(Et(),1);function PJ({id:t,initialData:e,core:i}){var n;let r=Io(t),s=T_(),o=(0,ms.useRef)(null);(0,ms.useEffect)(()=>{var l,c,d;if(!o.current||!(r!=null&&r.cell)){console.debug(`Jupyter: No cell ref available for cell ${t}:${(l=r==null?void 0:r.cell)===null||l===void 0?void 0:l.id}`);return}let u=r.cell.isAttachedToDOM?"reattaching":"attaching";console.debug(`${u} cell ${r.cell.id} to DOM at:`,{el:o.current,connected:o.current.isConnected,data:(c=i==null?void 0:i.stripWidgets(e))!==null&&c!==void 0?c:e}),r.cell.attachToDOM(o.current),r.cell.executionCount==null&&r.cell.initOutputs((d=i==null?void 0:i.stripWidgets(e,!0,s?()=>"":void 0))!==null&&d!==void 0?d:e)},[o==null?void 0:o.current,r==null?void 0:r.cell]);let a=((n=r==null?void 0:r.cell)===null||n===void 0?void 0:n.executionCount)!=null;return console.debug(`Jupyter: Cell ${t} executed: ${a}; Show output: ${a||!s}`),(0,qr.jsxs)("div",{children:[(0,qr.jsx)("div",{ref:o,"data-thebe-active-ref":"true",className:(0,RF.default)("relative",{"invisible h-0":!a&&s})}),s&&!a&&(0,qr.jsx)(xe,{ast:s})]})}function BJ({id:t,data:e,core:i}){let n=i.makeRenderMimeRegistry(),r=(0,ms.useRef)(new i.PassiveCellRenderer(t,n,void 0)),s=(0,ms.useRef)(null),{loaded:o}=$5(n,e);return(0,ms.useEffect)(()=>{var a,l;!s.current||!o||(r.current.attachToDOM((a=s.current)!==null&&a!==void 0?a:void 0,!0),r.current.render((l=i==null?void 0:i.stripWidgets(e))!==null&&l!==void 0?l:e))},[s,o]),(0,qr.jsx)("div",{ref:s,"data-thebe-passive-ref":"true"})}var AF=ms.default.memo(({id:t,outputs:e})=>{let{core:i,load:n}=(0,TF.useThebeLoader)(),{inCrossRef:r}=Wl(),{data:s,error:o}=sF(e),[a,l]=(0,ms.useState)(null),c=Io(t),d=T_();return(0,ms.useEffect)(()=>{i||n()},[i,n]),(0,ms.useEffect)(()=>{!s||a!=null||IF(s).then(u=>{let f=c1(u,{});l(f)})},[t,s,a]),o?(console.error(o),(0,qr.jsxs)("div",{className:"text-red-500",children:["Error rendering output: ",o.message]})):!r&&(c!=null&&c.ready)?(0,qr.jsxs)("div",{children:[!a&&(0,qr.jsx)("div",{className:"p-2.5",children:"Fetching full output data..."}),i&&a&&(0,qr.jsx)(PJ,{id:t,initialData:a,core:i},t)]}):d?(0,qr.jsx)(xe,{ast:d}):(0,qr.jsxs)("div",{children:[!a&&(0,qr.jsx)("div",{className:"p-2.5",children:"Loading..."}),a&&i&&(0,qr.jsx)(BJ,{id:t,data:a,core:i,kind:pi.Notebook})]})});var kF=P(se(),1);var jJ=new Set(["stream","error"]),HJ=new Set([Rr.TextPlain,Rr.ImagePng,Rr.ImageGif,Rr.ImageJpeg,Rr.ImageBmp]);function FJ(t,e,i){return!t||t.length===0?!0:t.reduce((n,r)=>{if(e.has(r.output_type))return n&&!0;let s=r.data,o=s?Object.keys(s):[],a="data"in r&&Boolean(r.data)&&o.every(l=>i.has(l));return n&&a},!0)}function WJ({outputId:t,identifier:e,data:i,align:n,className:r}){let{ready:s}=Io(t),o=i,a=(0,kF.useMemo)(()=>FJ(o,jJ,HJ),[o]),l=T_(),c;if(a&&!s){if(l&&(!o||o.length===0)&&l)return(0,wm.jsx)(xe,{ast:l});c=(0,wm.jsx)(MF,{keyStub:t,outputs:o})}else c=(0,wm.jsx)(AF,{id:t,outputs:o});return(0,wm.jsx)("div",{id:e||void 0,"data-mdast-node-id":t,className:(0,uR.default)("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative",{"text-left":!n||n==="left","text-center":n==="center","text-right":n==="right","mb-5":o&&o.length>0},r),children:c})}function LF({node:t}){return(0,wm.jsx)(WJ,{className:(0,uR.default)({hidden:t.visibility==="remove"}),outputId:t.id,identifier:t.identifier,align:t.align,data:t.data})}var k_=P(me(),1);var NF=P(Et(),1);function OF({node:t}){var e,i,n,r,s,o,a;let{base:l}=Sb.container,c=((e=t.source)===null||e===void 0?void 0:e.kind)===pi.Notebook,d=(i=t.children)===null||i===void 0?void 0:i.find(u=>u.type==="output");if(c&&d){let u=(n=t.children)===null||n===void 0?void 0:n.find(h=>h.type==="image"&&h.placeholder),f=(r=t.children)===null||r===void 0?void 0:r.filter(h=>!(h.type==="image"&&h.placeholder));return(0,k_.jsx)("figure",{id:t.html_id||t.identifier||t.key,className:(0,NF.default)({subcontainer:t.subcontainer},t.class),children:(0,k_.jsx)($y,{outputId:d.id,placeholder:u,title:(s=t.source)===null||s===void 0?void 0:s.title,url:(o=t.source)===null||o===void 0?void 0:o.url,remoteBaseUrl:(a=t.source)===null||a===void 0?void 0:a.remoteBaseUrl,children:(0,k_.jsx)(xe,{ast:f})},t.key)})}return(0,k_.jsx)(l,{node:t})}var DF=P(me(),1);var sr=P(me(),1),L_=P(se(),1),zF=P(ga(),1);function $J({children:t,idx:e}){return(0,sr.jsxs)("div",{className:"relative py-3 mx-2 my-8 border rounded",children:[(0,sr.jsx)("div",{className:"absolute z-10 flex items-center bg-white -top-3 -left-2",children:e&&(0,sr.jsxs)("div",{className:"ml-1 text-sm text-gray-500",children:["cell #: ",e+1]})}),(0,sr.jsx)("div",{className:"mx-3",children:t})]})}function qJ({errors:t}){let{core:e}=(0,zF.useThebeLoader)(),[i,n]=(0,L_.useState)([]),[r,s]=(0,L_.useState)([]);return(0,L_.useEffect)(()=>{if(!e)return;let o=t.map(()=>new e.PassiveCellRenderer("any"));s(t.map((a,l)=>c=>{var d;c&&(o[l].attachToDOM(c),o[l].render((d=t[l].error)!==null&&d!==void 0?d:[]))})),n(i)},[e,t]),e?(0,sr.jsx)("div",{children:t.map((o,a)=>(0,sr.jsx)("div",{className:"not-prose min-w-[400px]",children:(0,sr.jsx)($J,{idx:o.index,children:(0,sr.jsx)("div",{className:"z-100",ref:r[a]},o.id)})},`error-${o.id}`))}):null}function GAe({pageSlug:t,index:e}){let{items:i}=Q5(t);return!i||i.length===0||e&&e?null:(0,sr.jsx)("div",{className:"relative px-4 pt-3 my-8 text-sm text-red-600 border border-red-400 rounded border-1",children:i.map(({notebookSlug:n,errors:r},s)=>(0,sr.jsxs)("div",{children:[(0,sr.jsxs)("div",{children:[(0,sr.jsx)("span",{className:"font-bold",children:"Error"})," in notebook ",(0,sr.jsxs)("span",{children:['"',n,'"']})]}),(0,sr.jsx)(qJ,{errors:r})]},`${n}-${s}`))})}var Ur=P(me(),1),gu=P(se(),1),PF=P(ga(),1);function JAe({waitForSessions:t}){var e,i,n;let r=I_(),{connecting:s,ready:o,error:a,events:l}=(0,PF.useThebeServer)(),{slug:c,ready:d,state:u}=Oy(),[f,h]=(0,gu.useState)(!1),[m,p]=(0,gu.useState)(),[_,y]=(0,gu.useState)("[client] Connecting..."),S=a,T=o&&(!t||d),D=s||Vh(u,c),k=(M,C)=>{y(`[${C.subject}]: ${C.message}`)};(0,gu.useEffect)(()=>{l&&l.on("status",k)},[l]),(0,gu.useEffect)(()=>{r!=null&&r.thebe&&(D||S?h(!0):T&&setTimeout(()=>{h(!1),m==null||m(),p(void 0)},1e3))},[r,D,T,S]);let b=!((e=r==null?void 0:r.thebe)===null||e===void 0)&&e.useBinder?"Jupyter":!((i=r==null?void 0:r.thebe)===null||i===void 0)&&i.useJupyterLite?"JupyterLite":"Local Server";return f&&S?(0,Ur.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Ur.jsxs)("div",{className:"mb-2 font-semibold text-center",children:["\u26D4\uFE0F Error connecting to ",b," \u26D4\uFE0F"]}),(0,Ur.jsx)("div",{className:"my-1 max-h-[15rem] mono overflow-hidden text-ellipsis",children:S}),(0,Ur.jsx)("div",{className:"flex justify-end",children:(0,Ur.jsx)("div",{className:"text-xs cursor-pointer hover:underline",role:"button",onClick:()=>h(!1),children:"dismiss"})})]}):f&&(!((n=r==null?void 0:r.thebe)===null||n===void 0)&&n.useJupyterLite)?(0,Ur.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Ur.jsxs)("div",{className:"mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",b," \u26A1\uFE0F"]}),!T&&(0,Ur.jsx)("div",{className:"max-h-[5rem] mono overflow-hidden text-ellipsis",children:_}),T&&(0,Ur.jsx)("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis",children:"The in-browser JupyterLite server is ready, press run anytime."})]}):f?(0,Ur.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Ur.jsxs)("div",{className:"mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",b," \u26A1\uFE0F"]}),(0,Ur.jsx)("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis",children:_})]}):null}var Xy=P(me(),1);function BF({id:t}){let{ready:e,cellIsExecuting:i,notebookIsBusy:n,execute:r}=Io(t);return e?(0,Xy.jsx)(mu,{ready:e,executing:i,disabled:n,onClick:r}):null}function jF({id:t}){let{ready:e,cellIsExecuting:i}=Io(t);return!e||!i?null:(0,Xy.jsx)(mu,{ready:e,executing:i,disabled:!0,onClick:()=>({}),title:"executing cell..."})}function HF({id:t}){let{ready:e,notebookIsBusy:i,clear:n}=Io(t);return e?(0,Xy.jsx)(By,{ready:e,disabled:i,onClick:n,title:"Clear cell outputs"}):null}var ps=P(me(),1);var FF=P(ga(),1);var WF=P(Et(),1);function oke({showLaunch:t=!1}){let{slug:e,ready:i,state:n,start:r,resetAll:s,clearAll:o,execute:a}=Oy(),l=bm(),{connecting:c,connect:d,ready:u,server:f,error:h}=(0,FF.useThebeServer)(),m=FO(n,e),p=()=>{if(!d){console.debug("NotebookToolbar: Trying to start a connection but connect() isn't defined");return}d(),r(e)},_=()=>s(e),y=()=>o(e),S=()=>a(e),T=()=>{!u||!(f!=null&&f.settings)||window.open(`${f.settings.baseUrl}?token=${f.settings.token}`,"_blank")},D=Vh(n,e),k=WO(n,e),b=!!h,M="Connect to a compute server";return b?M="Error connecting to compute server":D&&(M=k),m?(0,ps.jsx)("div",{className:"sticky top-[60px] flex justify-end w-full z-20 pointer-events-none",children:(0,ps.jsxs)("div",{className:"flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur",children:[!i&&(0,ps.jsxs)("div",{className:"rounded",children:[(0,ps.jsx)("button",{className:(0,WF.default)("flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60",{"opacity-10 text-stone-100 dark:text-stone-700":c||D}),onClick:p,disabled:D,"aria-label":"start compute environment",children:(0,ps.jsx)(wp,{className:"inline-block w-6 h-6 align-top",title:"enable compute"})}),(c||D)&&!b&&(0,ps.jsx)("span",{className:"absolute top-1 left-1 z-10 w-[22px] h-[22px] opacity-100",title:M,children:(0,ps.jsx)(ym,{size:24})})]}),i&&(0,ps.jsx)(mu,{ready:i,executing:l.page(e,"execute"),onClick:S,title:"Run all cells"}),i&&(0,ps.jsx)(Py,{ready:i,resetting:l.page(e,"reset"),onClick:_,disabled:l.page(e,"execute"),title:"Reset notebook and restart kernel"}),i&&(0,ps.jsx)(By,{ready:i,disabled:l.page(e,"execute")||l.page(e,"reset"),onClick:y,title:"Clear all cells"}),t&&i&&(0,ps.jsx)(lF,{ready:i,disabled:!1,onClick:T,title:"Launch notebook in Jupyter"})]})}):null}var UJ={output:LF,embed:_F,container:OF},$F=UJ;function Ike(t,e){let i=Vu(t,"abstract"),n=Vu(t,"summary",{requireExplicitPart:!0}),r=Vu(t,["keypoints"],{requireExplicitPart:!0}),s=Vu(t,["data_availability","data availability"]),o=Vu(t,["acknowledgments","acknowledgements"]),a=Object.fromEntries(Object.entries(e!=null?e:{}).map(([l,c])=>[l,c.mdast]));return{abstract:i,summary:n,keypoints:r,data_availability:s,acknowledgments:o,...a}}function qF(t){var e;return(t==null?void 0:t.type)==="root"&&((e=t.children)==null?void 0:e.length)===1&&t.children[0].type==="block"?t.children[0].children:t}function UF(t){return!!tR(t)}var Vn=P(me(),1);function GF({id:t,pageKind:e,node:i,className:n}){var l,c;let s=`${Fl()} subgrid-gap col-screen`,o=typeof((l=i.data)==null?void 0:l.class)=="string"?(c=i.data)==null?void 0:c.class:void 0,a=o&&o.includes("col-")||n&&n.includes("col-");return(0,Vn.jsxs)("div",{id:t,className:(0,VF.default)("relative group/block",n,o,{[s]:!a}),children:[e===pi.Notebook&&UF(i)&&(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)("div",{className:"flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden",children:(0,Vn.jsx)("div",{className:"absolute top-0 -right-[28px] flex md:flex-col",children:(0,Vn.jsx)(jF,{id:t})})}),(0,Vn.jsx)("div",{className:"hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex",children:(0,Vn.jsxs)("div",{className:"absolute top-0 -right-[28px] flex md:flex-col",children:[(0,Vn.jsx)(BF,{id:t}),(0,Vn.jsx)(HF,{id:t})]})})]}),(0,Vn.jsx)(xe,{ast:i.children})]},`block-${t}`)}function hR({mdast:t,pageKind:e=pi.Article,className:i}){if(!t)return null;let n=t.children;return(0,Vn.jsx)(Vn.Fragment,{children:n.filter(r=>r.visibility!=="remove").map(r=>(0,Vn.jsx)(GF,{id:r.key,pageKind:e,node:r,className:i},r.key))})}var N_=P(Et(),1),bR=P(ZF(),1),$t=P(se(),1);var Gn=P(se(),1);var mR=P(se(),1);var cZ=mR["useId".toString()]||(()=>{}),dZ=0;function Zy(t){let[e,i]=mR.useState(cZ());return kr(()=>{t||i(n=>n??String(dZ++))},[t]),t||(e?`radix-${e}`:"")}var _u=P(me(),1),pR="Collapsible",[uZ,Vke]=$l(pR),[hZ,gR]=uZ(pR),QF=Gn.forwardRef((t,e)=>{let{__scopeCollapsible:i,open:n,defaultOpen:r,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=Sh({prop:n,defaultProp:r,onChange:o});return(0,_u.jsx)(hZ,{scope:i,disabled:s,contentId:Zy(),open:l,onOpenToggle:Gn.useCallback(()=>c(d=>!d),[c]),children:(0,_u.jsx)(Yi.div,{"data-state":vR(l),"data-disabled":s?"":void 0,...a,ref:e})})});QF.displayName=pR;var e4="CollapsibleTrigger",t4=Gn.forwardRef((t,e)=>{let{__scopeCollapsible:i,...n}=t,r=gR(e4,i);return(0,_u.jsx)(Yi.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":vR(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:e,onClick:Bi(t.onClick,r.onOpenToggle)})});t4.displayName=e4;var _R="CollapsibleContent",i4=Gn.forwardRef((t,e)=>{let{forceMount:i,...n}=t,r=gR(_R,t.__scopeCollapsible);return(0,_u.jsx)(Na,{present:i||r.open,children:({present:s})=>(0,_u.jsx)(fZ,{...n,ref:e,present:s})})});i4.displayName=_R;var fZ=Gn.forwardRef((t,e)=>{let{__scopeCollapsible:i,present:n,children:r,...s}=t,o=gR(_R,i),[a,l]=Gn.useState(n),c=Gn.useRef(null),d=zn(e,c),u=Gn.useRef(0),f=u.current,h=Gn.useRef(0),m=h.current,p=o.open||a,_=Gn.useRef(p),y=Gn.useRef();return Gn.useEffect(()=>{let S=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(S)},[]),kr(()=>{let S=c.current;if(S){y.current=y.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";let T=S.getBoundingClientRect();u.current=T.height,h.current=T.width,_.current||(S.style.transitionDuration=y.current.transitionDuration,S.style.animationName=y.current.animationName),l(n)}},[o.open,n]),(0,_u.jsx)(Yi.div,{"data-state":vR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:d,style:{["--radix-collapsible-content-height"]:f?`${f}px`:void 0,["--radix-collapsible-content-width"]:m?`${m}px`:void 0,...t.style},children:p&&r})});function vR(t){return t?"open":"closed"}var n4=QF,r4=t4,s4=i4;var Li=P(me(),1),pZ=[1,2,3,4].map(t=>`main h${t}`).join(", "),Qy=typeof document!="undefined",gZ=({headings:t,activeId:e})=>(0,Li.jsx)("ul",{className:"text-sm leading-6 text-slate-400",children:t.map(i=>(0,Li.jsx)("li",{className:(0,N_.default)("border-l-2 hover:border-l-blue-500",{"text-blue-600":i.id===e,"border-l-gray-300 dark:border-l-gray-50":i.id!==e,"border-l-blue-500":i.id===e,"bg-blue-50 dark:bg-slate-800":i.id===e}),children:(0,Li.jsx)("a",{className:(0,N_.default)("block p-1",{"text-slate-900 dark:text-slate-50":i.level<2&&i.id!==e,"text-slate-500 dark:text-slate-300":i.level>=2&&i.id!==e,"text-blue-600 dark:text-white font-bold":i.id===e,"pr-2":i.id!==e,"pl-2":i.level===1,"pl-4":i.level===2,"pl-8 text-xs":i.level===3,"pl-10 text-xs font-light":i.level===4,"pl-12 text-xs font-extralight":i.level===5}),href:`#${i.id}`,onClick:n=>{n.preventDefault();let r=document.querySelector(`#${i.id}`);r&&(r.scrollIntoView({behavior:"smooth"}),history.replaceState(void 0,"",`#${i.id}`),r.tabIndex===-1&&(r.tabIndex=-1),r.focus({preventScroll:!0}))},dangerouslySetInnerHTML:{__html:i.titleHTML}})},i.id))});function _Z(t){let e=t.cloneNode(!0),i=e.getElementsByTagName("abbr");for(let n=0;n<i.length;n++){let r=i[n],s=r.parentNode;for(;r.firstChild;)s.insertBefore(r.firstChild,r);s.removeChild(r)}return e}function vZ(t){return Array.from(document.querySelectorAll(t)).filter(i=>{let n=i.closest(".exclude-from-outline");return!(i.classList.contains("title")||n)})}function o4(t,e,i){let[n,r]=(0,$t.useState)(null);if(!Qy)return{observer:n};(0,$t.useEffect)(()=>{let s=new MutationObserver(e);r(s)},[e,r]),(0,$t.useEffect)(()=>{if(!(!n||!t.current)){try{n.observe(t.current,i)}catch(s){console.error(s)}return()=>{n&&n.disconnect()}}},[n])}var a4=(t,e)=>{let[i,n]=(0,$t.useState)(null),[r,s]=(0,$t.useState)([]);return Qy?((0,$t.useEffect)(()=>{let o=l=>{s(l.filter(c=>c.isIntersecting).map(c=>c.target))},a=new IntersectionObserver(o,e!=null?e:{});return n(a),()=>a.disconnect()},[]),(0,$t.useEffect)(()=>{if(!i)return;let o=t;return o.map(a=>i.observe(a)),()=>{o.map(a=>i.unobserve(a))}},[t]),{observer:i,intersecting:r}):{observer:i}};function l4(t,e){if(!Qy)return{activeId:"",headings:[]};let i=(0,$t.useRef)(null);(0,$t.useEffect)(()=>{i.current=document.querySelector("main")},[]);let[n,r]=(0,$t.useState)([]),s=(0,$t.useCallback)((0,bR.default)(()=>{r(vZ(t))},500,{trailing:!1}),[t]);o4(i,s,{attributes:!0,childList:!0,subtree:!0}),(0,$t.useEffect)(s,[]);let{intersecting:o}=a4(n),[a,l]=(0,$t.useState)();(0,$t.useEffect)(()=>{let u=o.reduce((h,m)=>h||(m.classList.contains("highlight")?m.id:null),null),f=[...o].sort((h,m)=>h.offsetTop-m.offsetTop)[0];(u||f)&&l(u||f.id)},[o]);let[c,d]=(0,$t.useState)([]);return(0,$t.useEffect)(()=>{let u=10,f=n.map(h=>({element:h,level:Number(h.tagName.slice(1)),id:h.id,text:h.querySelector(".heading-text")})).filter(h=>!!h.text).map(({element:h,level:m,text:p,id:_})=>{let{innerText:y,innerHTML:S}=_Z(p);return u=Math.min(u,m),{element:h,title:y,titleHTML:S,id:_,level:m}}).filter(h=>(h.level=h.level-u+1,h.level<e+1));d(f)},[n]),{activeId:a,headings:c}}function bZ(){let[t,e]=(0,$t.useState)(!1),[i,n]=(0,$t.useState)([]),r=(0,$t.useRef)(null);(0,$t.useEffect)(()=>{r.current=document.querySelector("main")},[]);let s=(0,$t.useCallback)((0,bR.default)(()=>{if(!r.current)return;let l=["col-margin-right","col-margin-right-inset","col-gutter-outset-right","col-screen-right","col-screen-inset-right","col-page-right","col-page-inset-right","col-body-outset-right","col-gutter-page-right","col-page","col-page-inset","col-body-outset"].map(d=>[`.${d}`,`.${d} > *`]).flat().join(", "),c=r.current.querySelectorAll(l);n(Array.from(c))},500,{trailing:!1}),[]);o4(r,s,{attributes:!0,childList:!0,subtree:!0}),(0,$t.useEffect)(s,[]);let{intersecting:o}=a4(i,{rootMargin:"0px 0px -33% 0px"});return(0,$t.useEffect)(()=>{e(o.length>0)},[o]),{occluded:t}}var xZ=({outlineRef:t,top:e=0,className:i,selector:n=pZ,children:r,maxdepth:s=4,isMargin:o})=>{let{activeId:a,headings:l}=l4(n,s),[c,d]=(0,$t.useState)(!1),{occluded:u}=bZ();return(0,$t.useEffect)(()=>{d(!0)},[o]),(0,$t.useEffect)(()=>{o&&d(!u)},[u,o]),l.length<=1||!Qy?(0,Li.jsx)("nav",{suppressHydrationWarning:!0,children:r}):(0,Li.jsx)(n4,{open:c,onOpenChange:d,children:(0,Li.jsxs)("nav",{ref:t,"aria-label":"Document Outline",className:(0,N_.default)("not-prose overflow-y-auto","transition-opacity duration-700",i),style:{top:e,maxHeight:`calc(100vh - ${e+20}px)`},children:[(0,Li.jsxs)("div",{className:"flex flex-row gap-2 mb-4 text-sm leading-6 uppercase rounded-lg text-slate-900 dark:text-slate-100",children:["In this article",(0,Li.jsx)(r4,{asChild:!0,children:(0,Li.jsx)("button",{className:"self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2",children:(0,Li.jsx)(ao,{className:"transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100",height:"1.5rem",width:"1.5rem"})})})]}),(0,Li.jsxs)(s4,{className:"CollapsibleContent",children:[(0,Li.jsx)(gZ,{headings:l,activeId:a}),r]})]})})};function yZ(){var r,s;let{projects:t}=(r=Ta())!=null?r:{},e=d1(),i=ur(),n=(s=t==null?void 0:t[0])==null?void 0:s.pages;return!n||n.length===0?null:(0,Li.jsxs)(Li.Fragment,{children:[(0,Li.jsx)("div",{className:"my-4 text-sm leading-6 uppercase text-slate-900 dark:text-slate-100",children:"Supporting Documents"}),(0,Li.jsx)("ul",{className:"flex flex-col gap-2 pl-0 text-sm leading-6 list-none text-slate-700 dark:text-slate-300",children:n.filter(o=>"slug"in o).map(o=>(0,Li.jsx)("li",{children:(0,Li.jsxs)(e,{to:En(`/${o.slug}#main`,i),prefetch:"intent",className:({isActive:a})=>(0,N_.default)("no-underline flex self-center hover:text-blue-700",{"text-blue-600":a}),children:[(0,Li.jsx)(E1,{width:"1.25rem",height:"1.25rem",className:"inline mr-2 shrink-0"}),(0,Li.jsx)("span",{children:o.short_title||o.title})]})},o.slug))})]})}var c4=P(Et(),1);var Ro=P(me(),1),xR=({title:t,short_title:e,url:i,group:n,right:r})=>{let s=ur(),o=Ts();return(0,Ro.jsx)(o,{prefetch:"intent",className:"flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700",to:En(i,s),children:(0,Ro.jsxs)("div",{className:"flex h-full align-middle",children:[r&&(0,Ro.jsx)(_1,{width:"1.5rem",height:"1.5rem",className:"self-center transition-transform group-hover:-translate-x-1 shrink-0"}),(0,Ro.jsxs)("div",{className:(0,c4.default)("flex-grow",{"text-right":r}),children:[(0,Ro.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n||" "}),e||t]}),!r&&(0,Ro.jsx)(b1,{width:"1.5rem",height:"1.5rem",className:"self-center transition-transform group-hover:translate-x-1 shrink-0"})]})})};function wZ({links:t}){var e,i,n,r,s,o;return!t||!((e=t.navigation)!=null&&e.prev)&&!((i=t.navigation)!=null&&i.next)?null:(0,Ro.jsxs)("div",{className:"flex pt-10 mb-10 space-x-4",children:[((n=t.navigation)==null?void 0:n.prev)&&(0,Ro.jsx)(xR,{...(r=t.navigation)==null?void 0:r.prev,right:!0}),((s=t.navigation)==null?void 0:s.next)&&(0,Ro.jsx)(xR,{...(o=t.navigation)==null?void 0:o.next})]})}var d4=P(se(),1),ew="myst";async function u4(t){if(!t.port||window.mystLiveReloadConnected)return;window.mystLiveReloadConnected=!0,setTimeout(()=>{let s=JSON.parse(sessionStorage.getItem(ew)||"{}");s.scroll&&(window.scrollTo(0,s.scroll),sessionStorage.removeItem(ew))},30),console.log(`\u{1F50A} Listening to live content changes on port ${t.port}`);let e=location.protocol==="https:"?"wss:":"ws:",i=location.hostname,n=`${e}//${i}:${t.port}/socket`,r=new WebSocket(n);r.onmessage=s=>{let o=JSON.parse(s.data);if(o.type==="LOG"&&console.log(o.message),o.type==="RELOAD"){console.log("\u{1F680} Reloading window ..."),console.log(`\u{1F4CC} Keeping scroll for page at ${window.scrollY}`);let a=JSON.parse(sessionStorage.getItem(ew)||"{}");a.scroll=window.scrollY,sessionStorage.setItem(ew,JSON.stringify(a)),window.location.reload()}},r.onopen=()=>{t&&typeof t.onOpen=="function"&&t.onOpen()},r.onclose=()=>{console.log("MyST content server web socket closed. Reconnecting..."),setTimeout(()=>u4({...t,onOpen:()=>window.location.reload()}),1e3)},r.onerror=s=>{console.log("MyST content server web socket error:"),console.error(s)}}function CZ({port:t}){return(0,d4.useEffect)(()=>{u4({port:t})},[]),null}var wR=P(Et(),1);var h4=P(se(),1),Zs=P(me(),1),yR=5;function SZ({containerClassName:t,innerClassName:e}){var d;let i=Ho(),n=Fl(),{order:r,data:s}=(d=i==null?void 0:i.cite)!=null?d:{},o=r==null?void 0:r.filter(u=>u),[a,l]=(0,h4.useState)(!0);if(!o||!s||o.length===0)return null;let c=a?o.slice(0,yR):o;return(0,Zs.jsxs)("section",{id:"references",className:(0,wR.default)(n,"subgrid-gap col-screen",t),children:[(0,Zs.jsxs)("div",{className:e,children:[o.length>yR&&(0,Zs.jsx)("button",{onClick:()=>l(!a),className:"float-right p-1 px-2 text-xs border rounded hover:border-blue-500 dark:hover:border-blue-400",children:a?"Show All":"Collapse"}),(0,Zs.jsxs)("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["References",(0,Zs.jsx)(gi,{id:"references",title:"Link to References",hover:!0,className:"ml-2"})]})]}),(0,Zs.jsx)("div",{className:(0,wR.default)("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,Zs.jsxs)("ol",{children:[c.map(u=>{let{html:f}=s[u];return(0,Zs.jsx)("li",{className:"break-words",id:`cite-${u}`,dangerouslySetInnerHTML:{__html:f||""}},u)}),o.length>yR&&(0,Zs.jsx)("li",{className:"text-center list-none",children:(0,Zs.jsx)("button",{onClick:()=>l(!a),className:"p-2 border rounded hover:border-blue-500 dark:hover:border-blue-400",children:a?`Show all ${o.length} references`:"Collapse references"})})]})})]})}var CR=P(Et(),1);var Vr=P(me(),1);function EZ({containerClassName:t,innerClassName:e}){let i=Ho(),n=Fl(),r=Bl("footnoteDefinition",i==null?void 0:i.article),s=Bl("footnoteReference",i==null?void 0:i.article);return r.length===0?null:(0,Vr.jsxs)("section",{id:"footnotes",className:(0,CR.default)(n,"subgrid-gap col-screen",t),children:[(0,Vr.jsx)("div",{className:e,children:(0,Vr.jsxs)("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Footnotes",(0,Vr.jsx)(gi,{id:"footnotes",title:"Link to Footnotes",hover:!0,className:"ml-2"})]})}),(0,Vr.jsx)("div",{className:(0,CR.default)("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,Vr.jsx)("ol",{children:r.map(o=>(0,Vr.jsx)("li",{id:`fn-${o.identifier}`,className:"group",children:(0,Vr.jsxs)("div",{className:"flex flex-row",children:[(0,Vr.jsx)("div",{className:"break-words grow",children:(0,Vr.jsx)(xe,{ast:o.children})}),(0,Vr.jsx)("div",{className:"flex flex-col grow-0",children:s.filter(a=>a.identifier===o.identifier).map(a=>(0,Vr.jsx)(gi,{id:`fnref-${a.key}`,title:"Link to Content",hover:!0,className:"p-1",children:"\u21A9",scrollBehavior:"instant"},a.key))})]})},o.key))})})]})}var It=P(me(),1),$m=P(Et(),1);var Cm=P(se(),1);function MZ({title:t,titleId:e,...i},n){return Cm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Cm.createElement("title",{id:e},t):null,Cm.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"}))}var IZ=Cm.forwardRef(MZ),SR=IZ;var Sm=P(se(),1);function TZ({title:t,titleId:e,...i},n){return Sm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Sm.createElement("title",{id:e},t):null,Sm.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.9-1.9-2.9-4.2-2.9-6.9s1-5 2.9-6.9c2-1.7 4.3-2.7 7-2.7zM4.4 9.4C4.2 10.2 4 11 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4.6-.5 1-1.1 1.3-1.7l-3.7-1.6c-.1.6-.4 1.1-.9 1.5-.5.4-1.1.6-1.8.7V18h-1.1v-1.5c-1.1 0-2.1-.4-3-1.2l1.3-1.4c.6.6 1.4.9 2.2.9.3 0 .6-.1.9-.2.2-.2.4-.4.4-.7 0-.2-.1-.4-.3-.6l-.9-.4-1.1-.6-1.5-.7-5.1-2.2zM12 4c-2.2 0-4.1.8-5.6 2.3-.4.4-.7.9-1.1 1.3L9 9.3c.2-.5.5-.9 1-1.2.5-.3 1-.5 1.6-.5V6.1h1.1v1.5c.9 0 1.7.3 2.4.9l-1.3 1.3c-.5-.4-1.1-.6-1.7-.6-.3 0-.6.1-.8.2-.2.1-.3.3-.3.6 0 .1 0 .2.1.2l1.2.6.9.4 1.6.7 5 2.2c.2-.7.2-1.4.2-2.1 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4z"}))}var RZ=Sm.forwardRef(TZ),ER=RZ;var Em=P(se(),1);function AZ({title:t,titleId:e,...i},n){return Em.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Em.createElement("title",{id:e},t):null,Em.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm3.7 5.7v1.7H8.6V9.7h7.1zm0 3.1v1.7H8.6v-1.7h7.1z"}))}var kZ=Em.forwardRef(AZ),MR=kZ;var Mm=P(se(),1);function LZ({title:t,titleId:e,...i},n){return Mm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Mm.createElement("title",{id:e},t):null,Mm.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm-4.3 6.6c.2-1.2.7-2.1 1.4-2.8.8-.7 1.7-1 2.8-1 1.5 0 2.8.5 3.7 1.5.9 1 1.4 2.3 1.4 3.8s-.5 2.7-1.4 3.7c-.9 1-2.2 1.5-3.7 1.5-1.1 0-2.1-.3-2.9-1-.8-.7-1.3-1.6-1.4-2.8h2.5c.1 1.2.8 1.8 2.1 1.8.7 0 1.2-.3 1.7-.9.4-.6.6-1.4.6-2.4s-.2-1.8-.6-2.4c-.4-.5-.9-.8-1.7-.8-1.3 0-2 .6-2.2 1.7h.7l-1.9 1.9-1.9-1.9.8.1z"}))}var NZ=Mm.forwardRef(LZ),IR=NZ;var vu=P(se(),1);function OZ({title:t,titleId:e,...i},n){return vu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?vu.createElement("title",{id:e},t):null,vu.createElement("path",{d:"M12 6.4c-3.2 0-4 3-4 5.6 0 2.6.8 5.6 4 5.6s4-3 4-5.6c0-2.6-.8-5.6-4-5.6zm0 2.1h.4c.2.2.3.5.1.9l-2.1 3.9c-.1-.5-.1-1-.1-1.4 0-1 0-3.4 1.7-3.4zm1.6 1.8c.1.6.1 1.2.1 1.7 0 1.1-.1 3.5-1.7 3.5h-.4-.1-.1c-.4-.2-.6-.4-.3-.9l2.5-4.3z"}),vu.createElement("path",{d:"M12 2.2c-2.7 0-5 .9-6.8 2.8-1 1-1.7 2.1-2.2 3.3-.5 1.2-.8 2.4-.8 3.7 0 1.3.2 2.5.7 3.7.5 1.2 1.2 2.2 2.1 3.2.9.9 2 1.6 3.2 2.1 1.2.5 2.4.7 3.7.7 1.3 0 2.5-.3 3.7-.8 1.2-.5 2.3-1.2 3.2-2.2.9-.9 1.6-1.9 2.1-3.1.5-1.2.7-2.4.7-3.8 0-1.3-.2-2.6-.7-3.7-.3-1-1-2.1-1.9-3-2-1.9-4.3-2.9-7-2.9zM12 4c2.2 0 4.1.8 5.7 2.3.7.8 1.3 1.7 1.7 2.6.4 1 .6 2 .6 3.1 0 2.2-.8 4.1-2.3 5.6-.8.8-1.7 1.4-2.7 1.8-1 .4-2 .6-3 .6-1.1 0-2.1-.2-3-.6-1-.4-1.8-1-2.6-1.7C5.6 16.9 5 16 4.6 15c-.4-1-.6-2-.6-3 0-1.1.2-2.1.6-3 .4-1 1-1.9 1.8-2.6C7.9 4.8 9.8 4 12 4z"}))}var DZ=vu.forwardRef(OZ),TR=DZ;var Im=P(se(),1);function zZ({title:t,titleId:e,...i},n){return Im.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Im.createElement("title",{id:e},t):null,Im.createElement("path",{d:"M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"}))}var PZ=Im.forwardRef(zZ),RR=PZ;var bu=P(se(),1);function BZ({title:t,titleId:e,...i},n){return bu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?bu.createElement("title",{id:e},t):null,bu.createElement("path",{d:"M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"}),bu.createElement("path",{d:"M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"}))}var jZ=bu.forwardRef(BZ),AR=jZ;var Tm=P(se(),1);function HZ({title:t,titleId:e,...i},n){return Tm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Tm.createElement("title",{id:e},t):null,Tm.createElement("path",{d:"M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"}))}var FZ=Tm.forwardRef(HZ),kR=FZ;var Rm=P(se(),1);function WZ({title:t,titleId:e,...i},n){return Rm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Rm.createElement("title",{id:e},t):null,Rm.createElement("path",{d:"M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"}))}var $Z=Rm.forwardRef(WZ),LR=$Z;var Ac=P(se(),1);function qZ({title:t,titleId:e,...i},n){return Ac.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Ac.createElement("title",{id:e},t):null,Ac.createElement("path",{d:"M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"}),Ac.createElement("path",{d:"M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"}),Ac.createElement("circle",{cx:12,cy:15.6,r:1.7}))}var UZ=Ac.forwardRef(qZ),NR=UZ;var Am=P(se(),1);function VZ({title:t,titleId:e,...i},n){return Am.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Am.createElement("title",{id:e},t):null,Am.createElement("path",{d:"M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"}))}var GZ=Am.forwardRef(VZ),OR=GZ;var km=P(se(),1);function YZ({title:t,titleId:e,...i},n){return km.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?km.createElement("title",{id:e},t):null,km.createElement("path",{d:"M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"}))}var KZ=km.forwardRef(YZ),DR=KZ;var Lm=P(se(),1);function XZ({title:t,titleId:e,...i},n){return Lm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Lm.createElement("title",{id:e},t):null,Lm.createElement("path",{d:"M10 4.2L8.3 6.8 6.6 4.2H10zM17.1 4.2l-1.7 2.6-1.7-2.6h3.4zM6.6 19.8l1.7-2.6 1.7 2.6H6.6zM13.7 19.8l1.7-2.6 1.7 2.6h-3.4zM20.8 12.5c.6-.1 1.1-.4 1.4-.8.3-.4.5-.9.5-1.5 0-.5-.1-.9-.3-1.2-.2-.3-.4-.6-.7-.8-.3-.2-.6-.3-1-.4-.4-.1-.8-.1-1.2-.1h-3.3v2.6c0-.1-.1-.2-.1-.2-.2-.6-.6-1-1-1.4-.4-.4-.9-.7-1.5-.9-.6-.2-1.2-.3-1.9-.3s-1.3.1-1.9.3c-.5.1-1 .4-1.4.8-.3.4-.6.8-.9 1.3 0-.3-.1-.6-.2-.9-.2-.4-.4-.6-.7-.8-.3-.2-.6-.3-1-.4s-.8-.2-1.3-.2H1v8.5h1.9v-3.4h.9l1.8 3.4h2.3l-2.2-3.6c.6-.1 1.1-.4 1.4-.8v-.1.2c0 .7.1 1.3.3 1.8.2.6.6 1 1 1.4.4.4.9.7 1.5.9.6.2 1.2.3 1.9.3s1.3-.1 1.9-.3c.6-.2 1.1-.5 1.5-.9.4-.4.7-.9 1-1.4 0-.1.1-.2.1-.2V16H18v-3.4h.9l1.8 3.4H23l-2.2-3.5zM5.4 10.7c-.1.2-.2.3-.3.3-.2.1-.3.1-.5.1H2.9V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3 0 .5-.1.6zm8.8 2.3c-.1.3-.3.6-.5.9-.2.2-.5.4-.8.6-.3.1-.7.2-1.1.2-.4 0-.8-.1-1.1-.2-.3-.1-.6-.3-.8-.6-.2-.2-.4-.5-.5-.9-.1-.3-.2-.7-.2-1.1 0-.4.1-.8.2-1.1s.3-.6.5-.9c.2-.2.5-.4.8-.6.3-.1.7-.2 1.1-.2.4 0 .8.1 1.1.2.3.1.6.3.8.6.2.2.4.5.5.9.1.3.2.7.2 1.1 0 .4 0 .7-.2 1.1zm6.4-2.3c-.1.1-.2.2-.4.3-.2.1-.3.1-.5.1H18V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3.1.5 0 .6z"}))}var JZ=Lm.forwardRef(XZ),zR=JZ;var Nm=P(se(),1);function ZZ({title:t,titleId:e,...i},n){return Nm.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},i),t?Nm.createElement("title",{id:e},t):null,Nm.createElement("path",{d:"M22.7 5.4c-.8.3-1.7.6-2.5.7.9-.5 1.6-1.4 1.9-2.4-.9.5-1.8.9-2.8 1.1-1.7-1.8-4.4-1.9-6.2-.2-1.1 1.1-1.6 2.7-1.3 4.2-3.5-.3-6.8-1.9-9-4.7-.4.7-.6 1.5-.6 2.2 0 1.5.7 2.8 1.9 3.6-.7 0-1.4-.2-2-.5v.1c0 2.1 1.5 3.9 3.5 4.3-.6.2-1.3.2-2 .1.6 1.8 2.2 3 4.1 3-1.6 1.2-3.5 1.9-5.4 1.9-.3 0-.7 0-1-.1 2 1.3 4.3 2 6.7 2 8.1 0 12.5-6.7 12.5-12.5v-.6c.8-.6 1.6-1.3 2.2-2.2"}))}var QZ=Nm.forwardRef(ZZ),tw=QZ;var xn=P(me(),1);var iw=P(Et(),1);function eQ({license:t,preamble:e="",className:i}){var n;if(!t.id)return null;let r=/^([CBYSAND0-]+)(?:(?:-)([0-9].[0-9]))?$/.exec(t.id);if(!t.CC||!r)return null;let s=`${e}${(n=t.name)!==null&&n!==void 0?n:t.title} (${t.id})`,o=r[1].toUpperCase();return(0,xn.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:(0,iw.default)("opacity-50 hover:opacity-100 text-inherit hover:text-inherit",i),"aria-label":s,children:[(0,xn.jsx)(RR,{width:"1.25rem",height:"1.25rem",className:"inline-block mx-1",title:s}),(o.startsWith("CC0")||o.startsWith("CC-0")||o.includes("ZERO"))&&(0,xn.jsx)(TR,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"CC0: Work is in the worldwide public domain"}),o.includes("BY")&&(0,xn.jsx)(SR,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Credit must be given to the creator"}),o.includes("NC")&&(0,xn.jsx)(ER,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Only noncommercial uses of the work are permitted"}),o.includes("SA")&&(0,xn.jsx)(IR,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Adaptations must be shared under the same terms"}),o.includes("ND")&&(0,xn.jsx)(MR,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"No derivatives or adaptations of the work are permitted"})]})}function PR({license:t,preamble:e="",className:i}){var n;if(!t)return null;let r=typeof t=="string"?{name:"",url:"",id:t}:t;return!r||Object.keys(r).length===0?null:r.CC?(0,xn.jsx)(eQ,{license:r,preamble:e,className:i}):(0,xn.jsxs)("a",{href:r.url||void 0,target:"_blank",rel:"noopener noreferrer",title:`${e}${(n=r.name)!==null&&n!==void 0?n:r.title} (${r.id})`,className:"text-inherit hover:text-inherit",children:[!r.osi&&(0,xn.jsx)(O1,{width:"1.25rem",height:"1.25rem",className:(0,iw.default)("mx-1 inline-block opacity-60 hover:opacity-100",i)}),r.osi&&(0,xn.jsx)(DR,{width:"1.25rem",height:"1.25rem",className:(0,iw.default)("mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]",i)})]})}function nw({license:t,className:e}){return t?typeof t!="string"&&("code"in t||"content"in t)?(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(PR,{license:t.content,preamble:"Content License: ",className:e}),(0,xn.jsx)(PR,{license:t.code,preamble:"Code License: ",className:e})]}):(0,xn.jsx)(PR,{license:t,className:e}):null}var Ln=P(me(),1);var rw=P(se(),1);var tQ=Object.defineProperty,iQ=(t,e,i)=>e in t?tQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,BR=(t,e,i)=>(iQ(t,typeof e!="symbol"?e+"":e,i),i),jR=class{constructor(){BR(this,"current",this.detect()),BR(this,"handoffState","pending"),BR(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ao=new jR;var gs=(t,e)=>{Ao.isServer?(0,rw.useEffect)(t,e):(0,rw.useLayoutEffect)(t,e)};var f4=P(se(),1);function Om(t){let e=(0,f4.useRef)(t);return gs(()=>{e.current=t},[t]),e}var m4=P(se(),1);var Yn=function(t){let e=Om(t);return m4.default.useCallback((...i)=>e.current(...i),[e])};var sw=P(se(),1);function p4(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Rl(){let t=[],e={addEventListener(i,n,r,s){return i.addEventListener(n,r,s),e.add(()=>i.removeEventListener(n,r,s))},requestAnimationFrame(...i){let n=requestAnimationFrame(...i);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...i){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...i))},setTimeout(...i){let n=setTimeout(...i);return e.add(()=>clearTimeout(n))},microTask(...i){let n={current:!0};return p4(()=>{n.current&&i[0]()}),e.add(()=>{n.current=!1})},style(i,n,r){let s=i.style.getPropertyValue(n);return Object.assign(i.style,{[n]:r}),this.add(()=>{Object.assign(i.style,{[n]:s})})},group(i){let n=Rl();return i(n),this.add(()=>n.dispose())},add(i){return t.push(i),()=>{let n=t.indexOf(i);if(n>=0)for(let r of t.splice(n,1))r()}},dispose(){for(let i of t.splice(0))i()}};return e}function HR(){let[t]=(0,sw.useState)(Rl);return(0,sw.useEffect)(()=>()=>t.dispose(),[t]),t}var FR=P(se(),1);var xu=P(se(),1);function nQ(){let t=typeof document>"u";return"useSyncExternalStore"in xu?(e=>e.useSyncExternalStore)(xu)(()=>()=>{},()=>!1,()=>!t):!1}function g4(){let t=nQ(),[e,i]=xu.useState(Ao.isHandoffComplete);return e&&Ao.isHandoffComplete===!1&&i(!1),xu.useEffect(()=>{e!==!0&&i(!0)},[e]),xu.useEffect(()=>Ao.handoff(),[]),t?!1:e}var _4,ow=(_4=FR.default.useId)!=null?_4:function(){let t=g4(),[e,i]=FR.default.useState(t?()=>Ao.nextId():null);return gs(()=>{e===null&&i(Ao.nextId())},[e]),e!=null?""+e:void 0};var P_=P(se(),1);function kc(t,e,...i){if(t in e){let r=e[t];return typeof r=="function"?r(...i):r}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kc),n}function yu(t){return Ao.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}var WR=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),aw=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(aw||{}),rQ=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(rQ||{}),sQ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(sQ||{});function v4(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(WR)).sort((e,i)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(i.tabIndex||Number.MAX_SAFE_INTEGER)))}var O_=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(O_||{});function D_(t,e=0){var i;return t===((i=yu(t))==null?void 0:i.body)?!1:kc(e,{[0](){return t.matches(WR)},[1](){let n=t;for(;n!==null;){if(n.matches(WR))return!0;n=n.parentElement}return!1}})}function $R(t){let e=yu(t);Rl().nextFrame(()=>{e&&!D_(e.activeElement,0)&&aQ(t)})}var oQ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(oQ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function aQ(t){t?.focus({preventScroll:!0})}var lQ=["textarea","input"].join(",");function cQ(t){var e,i;return(i=(e=t?.matches)==null?void 0:e.call(t,lQ))!=null?i:!1}function qR(t,e=i=>i){return t.slice().sort((i,n)=>{let r=e(i),s=e(n);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function b4(t,e){return dQ(v4(),e,{relativeTo:t})}function dQ(t,e,{sorted:i=!0,relativeTo:n=null,skipElements:r=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?i?qR(t):t:v4(t);r.length>0&&o.length>1&&(o=o.filter(h=>!r.includes(h))),n=n??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,u=o.length,f;do{if(d>=u||d+u<=0)return 0;let h=l+d;if(e&16)h=(h+u)%u;else{if(h<0)return 3;if(h>=u)return 1}f=o[h],f?.focus(c),d+=a}while(f!==s.activeElement);return e&6&&cQ(f)&&f.select(),2}function uQ(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function hQ(){return/Android/gi.test(window.navigator.userAgent)}function x4(){return uQ()||hQ()}var y4=P(se(),1);function z_(t,e,i){let n=Om(e);(0,y4.useEffect)(()=>{function r(s){n.current(s)}return document.addEventListener(t,r,i),()=>document.removeEventListener(t,r,i)},[t,i])}var w4=P(se(),1);function C4(t,e,i){let n=Om(e);(0,w4.useEffect)(()=>{function r(s){n.current(s)}return window.addEventListener(t,r,i),()=>window.removeEventListener(t,r,i)},[t,i])}function S4(t,e,i=!0){let n=(0,P_.useRef)(!1);(0,P_.useEffect)(()=>{requestAnimationFrame(()=>{n.current=i})},[i]);function r(o,a){if(!n.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function d(u){return typeof u=="function"?d(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let d of c){if(d===null)continue;let u=d instanceof HTMLElement?d:d.current;if(u!=null&&u.contains(l)||o.composed&&o.composedPath().includes(u))return}return!D_(l,O_.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=(0,P_.useRef)(null);z_("pointerdown",o=>{var a,l;n.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),z_("mousedown",o=>{var a,l;n.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),z_("click",o=>{x4()||s.current&&(r(o,()=>s.current),s.current=null)},!0),z_("touchend",o=>r(o,()=>o.target instanceof HTMLElement?o.target:null),!0),C4("blur",o=>r(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var E4=P(se(),1);function M4(...t){return(0,E4.useMemo)(()=>yu(...t),[...t])}var T4=P(se(),1);function I4(t){var e;if(t.type)return t.type;let i=(e=t.as)!=null?e:"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function R4(t,e){let[i,n]=(0,T4.useState)(()=>I4(t));return gs(()=>{n(I4(t))},[t.type,t.as]),gs(()=>{i||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[i,e]),i}var lw=P(se(),1);var fQ=Symbol();function B_(...t){let e=(0,lw.useRef)(t);(0,lw.useEffect)(()=>{e.current=t},[t]);let i=Yn(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)});return t.every(n=>n==null||n?.[fQ])?void 0:i}var k4=P(se(),1);function A4(t){return[t.screenX,t.screenY]}function L4(){let t=(0,k4.useRef)([-1,-1]);return{wasMoved(e){let i=A4(e);return t.current[0]===i[0]&&t.current[1]===i[1]?!1:(t.current=i,!0)},update(e){t.current=A4(e)}}}var j_=P(se(),1);function N4({container:t,accept:e,walk:i,enabled:n=!0}){let r=(0,j_.useRef)(e),s=(0,j_.useRef)(i);(0,j_.useEffect)(()=>{r.current=e,s.current=i},[e,i]),gs(()=>{if(!t||!n)return;let o=yu(t);if(!o)return;let a=r.current,l=s.current,c=Object.assign(u=>a(u),{acceptNode:a}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[t,n,r,s])}var Gr=P(se(),1);function UR(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var dw=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(dw||{}),mQ=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(mQ||{});function H_({ourProps:t,theirProps:e,slot:i,defaultTag:n,features:r,visible:s=!0,name:o,mergeRefs:a}){a=a??pQ;let l=D4(e,t);if(s)return cw(l,i,n,o,a);let c=r??0;if(c&2){let{static:d=!1,...u}=l;if(d)return cw(u,i,n,o,a)}if(c&1){let{unmount:d=!0,...u}=l;return kc(d?0:1,{[0](){return null},[1](){return cw({...u,hidden:!0,style:{display:"none"}},i,n,o,a)}})}return cw(l,i,n,o,a)}function cw(t,e={},i,n,r){let{as:s=i,children:o,refName:a="ref",...l}=VR(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let u={};if(e){let f=!1,h=[];for(let[m,p]of Object.entries(e))typeof p=="boolean"&&(f=!0),p===!0&&h.push(m);f&&(u["data-headlessui-state"]=h.join(" "))}if(s===Gr.Fragment&&Object.keys(O4(l)).length>0){if(!(0,Gr.isValidElement)(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let f=d.props,h=typeof f?.className=="function"?(...p)=>UR(f?.className(...p),l.className):UR(f?.className,l.className),m=h?{className:h}:{};return(0,Gr.cloneElement)(d,Object.assign({},D4(d.props,O4(VR(l,["ref"]))),u,c,{ref:r(d.ref,c.ref)},m))}return(0,Gr.createElement)(s,Object.assign({},VR(l,["ref"]),s!==Gr.Fragment&&c,s!==Gr.Fragment&&u),d)}function pQ(...t){return t.every(e=>e==null)?void 0:e=>{for(let i of t)i!=null&&(typeof i=="function"?i(e):i.current=e)}}function D4(...t){var e;if(t.length===0)return{};if(t.length===1)return t[0];let i={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?((e=n[s])!=null||(n[s]=[]),n[s].push(r[s])):i[s]=r[s];if(i.disabled||i["aria-disabled"])return Object.assign(i,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(i,{[r](s,...o){let a=n[r];for(let l of a){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return i}function F_(t){var e;return Object.assign((0,Gr.forwardRef)(t),{displayName:(e=t.displayName)!=null?e:t.name})}function O4(t){let e=Object.assign({},t);for(let i in e)e[i]===void 0&&delete e[i];return e}function VR(t,e=[]){let i=Object.assign({},t);for(let n of e)n in i&&delete i[n];return i}var Dm=P(se(),1),GR=(0,Dm.createContext)(null);GR.displayName="OpenClosedContext";var zm=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(zm||{});function z4(){return(0,Dm.useContext)(GR)}function P4({value:t,children:e}){return Dm.default.createElement(GR.Provider,{value:t},e)}function B4(t){let e=t.parentElement,i=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(i=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&gQ(i)?!1:n}function gQ(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function _Q(t){throw new Error("Unexpected object: "+t)}var Qs=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Qs||{});function j4(t,e){let i=e.resolveItems();if(i.length<=0)return null;let n=e.resolveActiveIndex(),r=n??-1;switch(t.focus){case 0:{for(let s=0;s<i.length;++s)if(!e.resolveDisabled(i[s],s,i))return s;return n}case 1:{for(let s=r-1;s>=0;--s)if(!e.resolveDisabled(i[s],s,i))return s;return n}case 2:{for(let s=r+1;s<i.length;++s)if(!e.resolveDisabled(i[s],s,i))return s;return n}case 3:{for(let s=i.length-1;s>=0;--s)if(!e.resolveDisabled(i[s],s,i))return s;return n}case 4:{for(let s=0;s<i.length;++s)if(e.resolveId(i[s],s,i)===t.id)return s;return n}case 5:return null;default:_Q(t)}}var kn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(kn||{});var YR=P(se(),1);var H4=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function F4(t){var e,i;let n=(e=t.innerText)!=null?e:"",r=t.cloneNode(!0);if(!(r instanceof HTMLElement))return n;let s=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(i=r.innerText)!=null?i:"":n;return H4.test(o)&&(o=o.replace(H4,"")),o}function W4(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let i=t.getAttribute("aria-labelledby");if(i){let n=i.split(" ").map(r=>{let s=document.getElementById(r);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():F4(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return F4(t).trim()}function $4(t){let e=(0,YR.useRef)(""),i=(0,YR.useRef)("");return Yn(()=>{let n=t.current;if(!n)return"";let r=n.innerText;if(e.current===r)return i.current;let s=W4(n).trim().toLowerCase();return e.current=r,i.current=s,s})}var yi=P(se(),1);var vQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vQ||{}),bQ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(bQ||{}),xQ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(xQ||{});function KR(t,e=i=>i){let i=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=qR(e(t.items.slice()),s=>s.dataRef.current.domRef.current),r=i?n.indexOf(i):null;return r===-1&&(r=null),{items:n,activeItemIndex:r}}var yQ={[1](t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},[0](t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},[2]:(t,e)=>{var i;let n=KR(t),r=j4(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:r,activationTrigger:(i=e.trigger)!=null?i:1}},[3]:(t,e)=>{let i=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),r=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+i).concat(t.items.slice(0,t.activeItemIndex+i)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=r?t.items.indexOf(r):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},[4](t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},[5]:(t,e)=>{let i=KR(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...i}},[6]:(t,e)=>{let i=KR(t,n=>{let r=n.findIndex(s=>s.id===e.id);return r!==-1&&n.splice(r,1),n});return{...t,...i,activationTrigger:1}}},XR=(0,yi.createContext)(null);XR.displayName="MenuContext";function uw(t){let e=(0,yi.useContext)(XR);if(e===null){let i=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,uw),i}return e}function wQ(t,e){return kc(e.type,yQ,t,e)}var CQ=yi.Fragment;function SQ(t,e){let{__demoMode:i=!1,...n}=t,r=(0,yi.useReducer)(wQ,{__demoMode:i,menuState:i?0:1,buttonRef:(0,yi.createRef)(),itemsRef:(0,yi.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=r,c=B_(e);S4([a,o],(h,m)=>{var p;l({type:1}),D_(m,O_.Loose)||(h.preventDefault(),(p=a.current)==null||p.focus())},s===0);let d=Yn(()=>{l({type:1})}),u=(0,yi.useMemo)(()=>({open:s===0,close:d}),[s,d]),f={ref:c};return yi.default.createElement(XR.Provider,{value:r},yi.default.createElement(P4,{value:kc(s,{[0]:zm.Open,[1]:zm.Closed})},H_({ourProps:f,theirProps:n,slot:u,defaultTag:CQ,name:"Menu"})))}var EQ="button";function MQ(t,e){var i;let n=ow(),{id:r=`headlessui-menu-button-${n}`,...s}=t,[o,a]=uw("Menu.Button"),l=B_(o.buttonRef,e),c=HR(),d=Yn(p=>{switch(p.key){case kn.Space:case kn.Enter:case kn.ArrowDown:p.preventDefault(),p.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Qs.First}));break;case kn.ArrowUp:p.preventDefault(),p.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Qs.Last}));break}}),u=Yn(p=>{switch(p.key){case kn.Space:p.preventDefault();break}}),f=Yn(p=>{if(B4(p.currentTarget))return p.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),c.nextFrame(()=>{var _;return(_=o.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(p.preventDefault(),a({type:0})))}),h=(0,yi.useMemo)(()=>({open:o.menuState===0}),[o]),m={ref:l,id:r,type:R4(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(i=o.itemsRef.current)==null?void 0:i.id,"aria-expanded":o.menuState===0,onKeyDown:d,onKeyUp:u,onClick:f};return H_({ourProps:m,theirProps:s,slot:h,defaultTag:EQ,name:"Menu.Button"})}var IQ="div",TQ=dw.RenderStrategy|dw.Static;function RQ(t,e){var i,n;let r=ow(),{id:s=`headlessui-menu-items-${r}`,...o}=t,[a,l]=uw("Menu.Items"),c=B_(a.itemsRef,e),d=M4(a.itemsRef),u=HR(),f=z4(),h=(()=>f!==null?(f&zm.Open)===zm.Open:a.menuState===0)();(0,yi.useEffect)(()=>{let S=a.itemsRef.current;S&&a.menuState===0&&S!==d?.activeElement&&S.focus({preventScroll:!0})},[a.menuState,a.itemsRef,d]),N4({container:a.itemsRef.current,enabled:a.menuState===0,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let m=Yn(S=>{var T,D;switch(u.dispose(),S.key){case kn.Space:if(a.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),l({type:3,value:S.key});case kn.Enter:if(S.preventDefault(),S.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:k}=a.items[a.activeItemIndex];(D=(T=k.current)==null?void 0:T.domRef.current)==null||D.click()}$R(a.buttonRef.current);break;case kn.ArrowDown:return S.preventDefault(),S.stopPropagation(),l({type:2,focus:Qs.Next});case kn.ArrowUp:return S.preventDefault(),S.stopPropagation(),l({type:2,focus:Qs.Previous});case kn.Home:case kn.PageUp:return S.preventDefault(),S.stopPropagation(),l({type:2,focus:Qs.First});case kn.End:case kn.PageDown:return S.preventDefault(),S.stopPropagation(),l({type:2,focus:Qs.Last});case kn.Escape:S.preventDefault(),S.stopPropagation(),l({type:1}),Rl().nextFrame(()=>{var k;return(k=a.buttonRef.current)==null?void 0:k.focus({preventScroll:!0})});break;case kn.Tab:S.preventDefault(),S.stopPropagation(),l({type:1}),Rl().nextFrame(()=>{b4(a.buttonRef.current,S.shiftKey?aw.Previous:aw.Next)});break;default:S.key.length===1&&(l({type:3,value:S.key}),u.setTimeout(()=>l({type:4}),350));break}}),p=Yn(S=>{switch(S.key){case kn.Space:S.preventDefault();break}}),_=(0,yi.useMemo)(()=>({open:a.menuState===0}),[a]),y={"aria-activedescendant":a.activeItemIndex===null||(i=a.items[a.activeItemIndex])==null?void 0:i.id,"aria-labelledby":(n=a.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:m,onKeyUp:p,role:"menu",tabIndex:0,ref:c};return H_({ourProps:y,theirProps:o,slot:_,defaultTag:IQ,features:TQ,visible:h,name:"Menu.Items"})}var AQ=yi.Fragment;function kQ(t,e){let i=ow(),{id:n=`headlessui-menu-item-${i}`,disabled:r=!1,...s}=t,[o,a]=uw("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===n:!1,c=(0,yi.useRef)(null),d=B_(e,c);gs(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let k=Rl();return k.requestAnimationFrame(()=>{var b,M;(M=(b=c.current)==null?void 0:b.scrollIntoView)==null||M.call(b,{block:"nearest"})}),k.dispose},[o.__demoMode,c,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let u=$4(c),f=(0,yi.useRef)({disabled:r,domRef:c,get textValue(){return u()}});gs(()=>{f.current.disabled=r},[f,r]),gs(()=>(a({type:5,id:n,dataRef:f}),()=>a({type:6,id:n})),[f,n]);let h=Yn(()=>{a({type:1})}),m=Yn(k=>{if(r)return k.preventDefault();a({type:1}),$R(o.buttonRef.current)}),p=Yn(()=>{if(r)return a({type:2,focus:Qs.Nothing});a({type:2,focus:Qs.Specific,id:n})}),_=L4(),y=Yn(k=>_.update(k)),S=Yn(k=>{_.wasMoved(k)&&(r||l||a({type:2,focus:Qs.Specific,id:n,trigger:0}))}),T=Yn(k=>{_.wasMoved(k)&&(r||l&&a({type:2,focus:Qs.Nothing}))}),D=(0,yi.useMemo)(()=>({active:l,disabled:r,close:h}),[l,r,h]);return H_({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,disabled:void 0,onClick:m,onFocus:p,onPointerEnter:y,onMouseEnter:y,onPointerMove:S,onMouseMove:S,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:D,defaultTag:AQ,name:"Menu.Item"})}var LQ=F_(SQ),NQ=F_(MQ),OQ=F_(RQ),DQ=F_(kQ),W_=Object.assign(LQ,{Button:NQ,Items:OQ,Item:DQ});var ZR=P(Et(),1),U4=P(se(),1),q4=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function zQ(t,e){return q4(this,void 0,void 0,function*(){let n=yield(yield fetch(t)).blob();return PQ(n,e)})}function PQ(t,e){return q4(this,void 0,void 0,function*(){if(window.navigator&&window.navigator.msSaveOrOpenBlob)return window.navigator.msSaveOrOpenBlob(t);let i=URL.createObjectURL(t),n=document.createElement("a");return n.href=i,n.download=e,n.style.display="none",n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{URL.revokeObjectURL(i),n.remove()},100),!0})}var JR="self-center flex-none inline-block mr-3";function BQ({url:t,filename:e,format:i,className:n,title:r,internal:s}){if(!e){let a=s?(0,Ln.jsx)(xp,{width:"1.25rem",height:"1.25rem",className:JR,"aria-hidden":"true"}):(0,Ln.jsx)(Qn,{width:"1.25rem",height:"1.25rem",className:JR,"aria-hidden":"true"});return(0,Ln.jsxs)("a",{className:(0,ZR.default)(n,"flex no-underline"),href:t,target:s?void 0:"_blank",rel:s?void 0:"noreferrer noopener",children:[(0,Ln.jsxs)("span",{className:"sr-only",children:["Visit URL ",r!=null?r:""]}),a,(0,Ln.jsx)("span",{className:"w-max max-w-[200px] self-center",children:r!=null?r:t})]})}let o=(0,U4.useCallback)(a=>{a.preventDefault(),zQ(t,e)},[t,e]);return(0,Ln.jsxs)("a",{className:(0,ZR.default)(n,"flex no-underline"),href:t,onClick:o,children:[(0,Ln.jsxs)("span",{className:"sr-only",children:["Download",i?` as ${i}`:""," ",r!=null?r:""]}),(0,Ln.jsx)(S1,{width:"1.25rem",height:"1.25rem",className:JR,"aria-hidden":"true"}),(0,Ln.jsx)("span",{className:"w-max max-w-[200px] self-center",children:r!=null?r:e})]})}function V4({exports:t}){return!t||t.length===0?null:(0,Ln.jsxs)(W_,{as:"div",className:"relative flex inline-block mx-1 grow-0",children:[(0,Ln.jsxs)(W_.Button,{className:"relative ml-2 -mr-1",children:[(0,Ln.jsx)("span",{className:"sr-only",children:"Downloads"}),(0,Ln.jsx)(bp,{width:"1.25rem",height:"1.25rem","aria-hidden":"true"})]}),(0,Ln.jsx)(W_.Items,{className:"absolute z-10 overflow-hidden bg-white rounded-sm shadow-lg -right-1 dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none",children:t.map((e,i)=>(0,Ln.jsx)(W_.Item,{children:(0,Ln.jsx)(BQ,{className:"block p-3 no-underline hover:bg-stone-700 dark:hover:bg-stone-200 hover:text-white dark:hover:text-black",url:e.url,filename:e.filename,format:e.format,title:e.title,internal:e.internal})},i))})]})}var ai=P(me(),1),j8=P(se(),1),xA=P(Et(),1);var qt=P(me(),1);var Ri=P(se(),1);var Y4=P(se(),1),QR=0;function K4(){Y4.useEffect(()=>{let t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??G4()),document.body.insertAdjacentElement("beforeend",t[1]??G4()),QR++,()=>{QR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),QR--}},[])}function G4(){let t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var eo=P(se(),1);var e8=P(me(),1),eA="focusScope.autoFocusOnMount",tA="focusScope.autoFocusOnUnmount",X4={bubbles:!1,cancelable:!0},jQ="FocusScope",iA=eo.forwardRef((t,e)=>{let{loop:i=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[a,l]=eo.useState(null),c=Xr(r),d=Xr(s),u=eo.useRef(null),f=zn(e,p=>l(p)),h=eo.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;eo.useEffect(()=>{if(n){let S=function(b){if(h.paused||!a)return;let M=b.target;a.contains(M)?u.current=M:Lc(u.current,{select:!0})},T=function(b){if(h.paused||!a)return;let M=b.relatedTarget;M!==null&&(a.contains(M)||Lc(u.current,{select:!0}))},D=function(b){if(document.activeElement===document.body)for(let C of b)C.removedNodes.length>0&&Lc(a)};var p=S,_=T,y=D;document.addEventListener("focusin",S),document.addEventListener("focusout",T);let k=new MutationObserver(D);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),k.disconnect()}}},[n,a,h.paused]),eo.useEffect(()=>{if(a){Z4.add(h);let p=document.activeElement;if(!a.contains(p)){let y=new CustomEvent(eA,X4);a.addEventListener(eA,c),a.dispatchEvent(y),y.defaultPrevented||(HQ(UQ(t8(a)),{select:!0}),document.activeElement===p&&Lc(a))}return()=>{a.removeEventListener(eA,c),setTimeout(()=>{let y=new CustomEvent(tA,X4);a.addEventListener(tA,d),a.dispatchEvent(y),y.defaultPrevented||Lc(p??document.body,{select:!0}),a.removeEventListener(tA,d),Z4.remove(h)},0)}}},[a,c,d,h]);let m=eo.useCallback(p=>{if(!i&&!n||h.paused)return;let _=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(_&&y){let S=p.currentTarget,[T,D]=FQ(S);T&&D?!p.shiftKey&&y===D?(p.preventDefault(),i&&Lc(T,{select:!0})):p.shiftKey&&y===T&&(p.preventDefault(),i&&Lc(D,{select:!0})):y===S&&p.preventDefault()}},[i,n,h.paused]);return(0,e8.jsx)(Yi.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});iA.displayName=jQ;function HQ(t,{select:e=!1}={}){let i=document.activeElement;for(let n of t)if(Lc(n,{select:e}),document.activeElement!==i)return}function FQ(t){let e=t8(t),i=J4(e,t),n=J4(e.reverse(),t);return[i,n]}function t8(t){let e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)e.push(i.currentNode);return e}function J4(t,e){for(let i of t)if(!WQ(i,{upTo:e}))return i}function WQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $Q(t){return t instanceof HTMLInputElement&&"select"in t}function Lc(t,{select:e=!1}={}){if(t&&t.focus){let i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&$Q(t)&&e&&t.select()}}var Z4=qQ();function qQ(){let t=[];return{add(e){let i=t[0];e!==i&&i?.pause(),t=Q4(t,e),t.unshift(e)},remove(e){t=Q4(t,e),t[0]?.resume()}}}function Q4(t,e){let i=[...t],n=i.indexOf(e);return n!==-1&&i.splice(n,1),i}function UQ(t){return t.filter(e=>e.tagName!=="A")}var VQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pm=new WeakMap,hw=new WeakMap,fw={},nA=0,i8=function(t){return t&&(t.host||i8(t.parentNode))},GQ=function(t,e){return e.map(function(i){if(t.contains(i))return i;var n=i8(i);return n&&t.contains(n)?n:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return Boolean(i)})},YQ=function(t,e,i,n){var r=GQ(e,Array.isArray(t)?t:[t]);fw[i]||(fw[i]=new WeakMap);var s=fw[i],o=[],a=new Set,l=new Set(r),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};r.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))d(f);else try{var h=f.getAttribute(n),m=h!==null&&h!=="false",p=(Pm.get(f)||0)+1,_=(s.get(f)||0)+1;Pm.set(f,p),s.set(f,_),o.push(f),p===1&&m&&hw.set(f,!0),_===1&&f.setAttribute(i,"true"),m||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),a.clear(),nA++,function(){o.forEach(function(u){var f=Pm.get(u)-1,h=s.get(u)-1;Pm.set(u,f),s.set(u,h),f||(hw.has(u)||u.removeAttribute(n),hw.delete(u)),h||u.removeAttribute(i)}),nA--,nA||(Pm=new WeakMap,Pm=new WeakMap,hw=new WeakMap,fw={})}},n8=function(t,e,i){i===void 0&&(i="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=e||VQ(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),YQ(n,r,i,"aria-hidden")):function(){return null}};Pi();var vw=P(se());Pi();var or=P(se());var wu="right-scroll-bar-position",Cu="width-before-scroll-bar",rA="with-scroll-bars-hidden",sA="--removed-body-scroll-bar-size";function mw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}var r8=P(se());function s8(t,e){var i=(0,r8.useState)(function(){return{value:t,callback:e,facade:{get current(){return i.value},set current(n){var r=i.value;r!==n&&(i.value=n,i.callback(n,r))}}}})[0];return i.callback=e,i.facade}var pw=P(se());var KQ=typeof window<"u"?pw.useLayoutEffect:pw.useEffect,o8=new WeakMap;function oA(t,e){var i=s8(e||null,function(n){return t.forEach(function(r){return mw(r,n)})});return KQ(function(){var n=o8.get(i);if(n){var r=new Set(n),s=new Set(t),o=i.current;r.forEach(function(a){s.has(a)||mw(a,null)}),s.forEach(function(a){r.has(a)||mw(a,o)})}o8.set(i,t)},[t]),i}Pi();function XQ(t){return t}function JQ(t,e){e===void 0&&(e=XQ);var i=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(s){var o=e(s,n);return i.push(o),function(){i=i.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;i.length;){var o=i;i=[],o.forEach(s)}i={push:function(a){return s(a)},filter:function(){return i}}},assignMedium:function(s){n=!0;var o=[];if(i.length){var a=i;i=[],a.forEach(s),o=i}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),i={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),i}}}};return r}function aA(t){t===void 0&&(t={});var e=JQ(null);return e.options=ws({async:!0,ssr:!1},t),e}Pi();var a8=P(se()),l8=function(t){var e=t.sideCar,i=Gu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return a8.createElement(n,ws({},i))};l8.isSideCarExport=!0;function lA(t,e){return t.useMedium(e),l8}var gw=aA();var cA=function(){},$_=or.forwardRef(function(t,e){var i=or.useRef(null),n=or.useState({onScrollCapture:cA,onWheelCapture:cA,onTouchMoveCapture:cA}),r=n[0],s=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,h=t.noIsolation,m=t.inert,p=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,S=t.gapMode,T=Gu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=f,k=oA([i,e]),b=ws(ws({},T),r);return or.createElement(or.Fragment,null,d&&or.createElement(D,{sideCar:gw,removeScrollBar:c,shards:u,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!p,lockRef:i,gapMode:S}),o?or.cloneElement(or.Children.only(a),ws(ws({},b),{ref:k})):or.createElement(y,ws({},b,{className:l,ref:k}),a))});$_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$_.classNames={fullWidth:Cu,zeroRight:wu};Pi();var wi=P(se());var jm=P(se());var u8=P(se());var c8;var d8=function(){if(c8)return c8;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=d8();return e&&t.setAttribute("nonce",e),t}function QQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dA=function(){var t=0,e=null;return{add:function(i){t==0&&(e=ZQ())&&(QQ(e,i),eee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}};var uA=function(){var t=dA();return function(e,i){u8.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&i])}};var q_=function(){var t=uA(),e=function(i){var n=i.styles,r=i.dynamic;return t(n,r),null};return e};var tee={left:0,top:0,right:0,gap:0},hA=function(t){return parseInt(t||"",10)||0},iee=function(t){var e=window.getComputedStyle(document.body),i=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[hA(i),hA(n),hA(r)]},fA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tee;var e=iee(t),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-i+e[2]-e[0])}};var nee=q_(),Bm="data-scroll-locked",ree=function(t,e,i,n){var r=t.left,s=t.top,o=t.right,a=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(rA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Bm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),i==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),i==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wu,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Cu,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bm,`] {
    `).concat(sA,": ").concat(a,`px;
  }
`)},h8=function(){var t=parseInt(document.body.getAttribute(Bm)||"0",10);return isFinite(t)?t:0},see=function(){jm.useEffect(function(){return document.body.setAttribute(Bm,(h8()+1).toString()),function(){var t=h8()-1;t<=0?document.body.removeAttribute(Bm):document.body.setAttribute(Bm,t.toString())}},[])},mA=function(t){var e=t.noRelative,i=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;see();var s=jm.useMemo(function(){return fA(r)},[r]);return jm.createElement(nee,{styles:ree(s,!e,r,i?"":"!important")})};var pA=!1;if(typeof window<"u")try{U_=Object.defineProperty({},"passive",{get:function(){return pA=!0,!0}}),window.addEventListener("test",U_,U_),window.removeEventListener("test",U_,U_)}catch{pA=!1}var U_,Su=pA?{passive:!1}:!1;var oee=function(t){return t.tagName==="TEXTAREA"},f8=function(t,e){var i=window.getComputedStyle(t);return i[e]!=="hidden"&&!(i.overflowY===i.overflowX&&!oee(t)&&i[e]==="visible")},aee=function(t){return f8(t,"overflowY")},lee=function(t){return f8(t,"overflowX")},gA=function(t,e){var i=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=m8(t,n);if(r){var s=p8(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==i.body);return!1},cee=function(t){var e=t.scrollTop,i=t.scrollHeight,n=t.clientHeight;return[e,i,n]},dee=function(t){var e=t.scrollLeft,i=t.scrollWidth,n=t.clientWidth;return[e,i,n]},m8=function(t,e){return t==="v"?aee(e):lee(e)},p8=function(t,e){return t==="v"?cee(e):dee(e)},uee=function(t,e){return t==="h"&&e==="rtl"?-1:1},g8=function(t,e,i,n,r){var s=uee(t,window.getComputedStyle(e).direction),o=s*n,a=i.target,l=e.contains(a),c=!1,d=o>0,u=0,f=0;do{var h=p8(t,a),m=h[0],p=h[1],_=h[2],y=p-_-s*m;(m||y)&&m8(t,a)&&(u+=y,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(r&&Math.abs(u)<1||!r&&o>u)||!d&&(r&&Math.abs(f)<1||!r&&-o>f))&&(c=!0),c};var _w=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_8=function(t){return[t.deltaX,t.deltaY]},v8=function(t){return t&&"current"in t?t.current:t},hee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mee=0,Hm=[];function b8(t){var e=wi.useRef([]),i=wi.useRef([0,0]),n=wi.useRef(),r=wi.useState(mee++)[0],s=wi.useState(q_)[0],o=wi.useRef(t);wi.useEffect(function(){o.current=t},[t]),wi.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=hk([t.lockRef.current],(t.shards||[]).map(v8),!0).filter(Boolean);return p.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var a=wi.useCallback(function(p,_){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var y=_w(p),S=i.current,T="deltaX"in p?p.deltaX:S[0]-y[0],D="deltaY"in p?p.deltaY:S[1]-y[1],k,b=p.target,M=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in p&&M==="h"&&b.type==="range")return!1;var C=gA(M,b);if(!C)return!0;if(C?k=M:(k=M==="v"?"h":"v",C=gA(M,b)),!C)return!1;if(!n.current&&"changedTouches"in p&&(T||D)&&(n.current=k),!k)return!0;var x=n.current||k;return g8(x,_,p,x==="h"?T:D,!0)},[]),l=wi.useCallback(function(p){var _=p;if(!(!Hm.length||Hm[Hm.length-1]!==s)){var y="deltaY"in _?_8(_):_w(_),S=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&hee(k.delta,y)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var T=(o.current.shards||[]).map(v8).filter(Boolean).filter(function(k){return k.contains(_.target)}),D=T.length>0?a(_,T[0]):!o.current.noIsolation;D&&_.cancelable&&_.preventDefault()}}},[]),c=wi.useCallback(function(p,_,y,S){var T={name:p,delta:_,target:y,should:S,shadowParent:pee(y)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(D){return D!==T})},1)},[]),d=wi.useCallback(function(p){i.current=_w(p),n.current=void 0},[]),u=wi.useCallback(function(p){c(p.type,_8(p),p.target,a(p,t.lockRef.current))},[]),f=wi.useCallback(function(p){c(p.type,_w(p),p.target,a(p,t.lockRef.current))},[]);wi.useEffect(function(){return Hm.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Su),document.addEventListener("touchmove",l,Su),document.addEventListener("touchstart",d,Su),function(){Hm=Hm.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Su),document.removeEventListener("touchmove",l,Su),document.removeEventListener("touchstart",d,Su)}},[]);var h=t.removeScrollBar,m=t.inert;return wi.createElement(wi.Fragment,null,m?wi.createElement(s,{styles:fee(r)}):null,h?wi.createElement(mA,{gapMode:t.gapMode}):null)}function pee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}var x8=lA(gw,b8);var y8=vw.forwardRef(function(t,e){return vw.createElement($_,ws({},t,{ref:e,sideCar:x8}))});y8.classNames=$_.classNames;var _A=y8;var on=P(me(),1),vA="Popover",[w8,FOe]=$l(vA,[Rh]),V_=Rh(),[gee,Nc]=w8(vA),C8=t=>{let{__scopePopover:e,children:i,open:n,defaultOpen:r,onOpenChange:s,modal:o=!1}=t,a=V_(e),l=Ri.useRef(null),[c,d]=Ri.useState(!1),[u=!1,f]=Sh({prop:n,defaultProp:r,onChange:s});return(0,on.jsx)(qv,{...a,children:(0,on.jsx)(gee,{scope:e,contentId:Zy(),triggerRef:l,open:u,onOpenChange:f,onOpenToggle:Ri.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:c,onCustomAnchorAdd:Ri.useCallback(()=>d(!0),[]),onCustomAnchorRemove:Ri.useCallback(()=>d(!1),[]),modal:o,children:i})})};C8.displayName=vA;var S8="PopoverAnchor",_ee=Ri.forwardRef((t,e)=>{let{__scopePopover:i,...n}=t,r=Nc(S8,i),s=V_(i),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=r;return Ri.useEffect(()=>(o(),()=>a()),[o,a]),(0,on.jsx)(Rp,{...s,...n,ref:e})});_ee.displayName=S8;var E8="PopoverTrigger",M8=Ri.forwardRef((t,e)=>{let{__scopePopover:i,...n}=t,r=Nc(E8,i),s=V_(i),o=zn(e,r.triggerRef),a=(0,on.jsx)(Yi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":L8(r.open),...n,ref:o,onClick:Bi(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:(0,on.jsx)(Rp,{asChild:!0,...s,children:a})});M8.displayName=E8;var bA="PopoverPortal",[vee,bee]=w8(bA,{forceMount:void 0}),I8=t=>{let{__scopePopover:e,forceMount:i,children:n,container:r}=t,s=Nc(bA,e);return(0,on.jsx)(vee,{scope:e,forceMount:i,children:(0,on.jsx)(Na,{present:i||s.open,children:(0,on.jsx)(Ap,{asChild:!0,container:r,children:n})})})};I8.displayName=bA;var Fm="PopoverContent",T8=Ri.forwardRef((t,e)=>{let i=bee(Fm,t.__scopePopover),{forceMount:n=i.forceMount,...r}=t,s=Nc(Fm,t.__scopePopover);return(0,on.jsx)(Na,{present:n||s.open,children:s.modal?(0,on.jsx)(xee,{...r,ref:e}):(0,on.jsx)(yee,{...r,ref:e})})});T8.displayName=Fm;var xee=Ri.forwardRef((t,e)=>{let i=Nc(Fm,t.__scopePopover),n=Ri.useRef(null),r=zn(e,n),s=Ri.useRef(!1);return Ri.useEffect(()=>{let o=n.current;if(o)return n8(o)},[]),(0,on.jsx)(_A,{as:Tp,allowPinchZoom:!0,children:(0,on.jsx)(R8,{...t,ref:r,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bi(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||i.triggerRef.current?.focus()}),onPointerDownOutside:Bi(t.onPointerDownOutside,o=>{let a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Bi(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),yee=Ri.forwardRef((t,e)=>{let i=Nc(Fm,t.__scopePopover),n=Ri.useRef(!1),r=Ri.useRef(!1);return(0,on.jsx)(R8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||i.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));let o=s.target;i.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),R8=Ri.forwardRef((t,e)=>{let{__scopePopover:i,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=t,f=Nc(Fm,i),h=V_(i);return K4(),(0,on.jsx)(iA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:(0,on.jsx)(kp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:(0,on.jsx)(Uv,{"data-state":L8(f.open),role:"dialog",id:f.contentId,...h,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),A8="PopoverClose",wee=Ri.forwardRef((t,e)=>{let{__scopePopover:i,...n}=t,r=Nc(A8,i);return(0,on.jsx)(Yi.button,{type:"button",...n,ref:e,onClick:Bi(t.onClick,()=>r.onOpenChange(!1))})});wee.displayName=A8;var Cee="PopoverArrow",k8=Ri.forwardRef((t,e)=>{let{__scopePopover:i,...n}=t,r=V_(i);return(0,on.jsx)(Vv,{...r,...n,ref:e})});k8.displayName=Cee;function L8(t){return t?"open":"closed"}var N8=C8;var O8=M8,D8=I8,z8=T8;var P8=k8;var Eu=P(me(),1);var Eee=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i};function bw({affiliations:t,affiliationId:e}){var i,n;if(!t||t.length===0)return null;let s=(n=Object.fromEntries((i=t==null?void 0:t.map(o=>{var{id:a}=o,l=Eee(o,["id"]);return[a,l]}))!==null&&i!==void 0?i:[])[e])!==null&&n!==void 0?n:{name:e};return(0,Eu.jsxs)(Eu.Fragment,{children:[s.name||s.institution," ",s.ror&&(0,Eu.jsx)("a",{className:"ml-1",href:`https://ror.org/${s.ror.replace(/(https?:\/\/)?ror\.org\//,"")}`,target:"_blank",rel:"noopener noreferrer",title:"Research Organization Registry",children:(0,Eu.jsx)(zR,{width:"1rem",height:"1rem",className:"inline-block"})})]})}function Wm({title:t,children:e}){return(0,qt.jsxs)("div",{className:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,qt.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:t}),(0,qt.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:e})]})}var B8=({author:t,affiliations:e,children:i})=>{var n;return t?(0,qt.jsxs)(N8,{children:[(0,qt.jsx)(O8,{asChild:!0,children:(0,qt.jsx)("button",{className:"focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline","aria-label":"Author Details",children:i})}),(0,qt.jsx)(D8,{children:(0,qt.jsxs)(z8,{className:"hover-card-content rounded p-5 w-[400px] bg-white shadow",sideOffset:5,children:[(0,qt.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,qt.jsx)("p",{className:"text-mauve12 text-[15px] leading-[19px] font-medium mb-2.5",children:t.name}),(0,qt.jsx)("p",{className:"text-mauve12 text-[15px] leading-[19px] font-medium mb-2.5",children:(n=t.affiliations)===null||n===void 0?void 0:n.map(r=>(0,qt.jsx)(bw,{affiliations:e,affiliationId:r},r))}),(0,qt.jsxs)("dl",{className:"divide-y divide-gray-100",children:[t.email&&(0,qt.jsx)(Wm,{title:"Email",children:(0,qt.jsx)("a",{className:"ml-1",href:`mailto:${t.email}`,title:`${t.name} <${t.email}>`,target:"_blank",rel:"noopener noreferrer",children:t.email})}),t.orcid&&(0,qt.jsx)(Wm,{title:"ORCID",children:(0,qt.jsx)("a",{className:"ml-1",href:`https://orcid.org/${t.orcid}`,target:"_blank",rel:"noopener noreferrer",title:"ORCID (Open Researcher and Contributor ID)",children:t.orcid})}),t.github&&(0,qt.jsx)(Wm,{title:"GitHub",children:(0,qt.jsxs)("a",{className:"ml-1",href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",title:`GitHub: ${t.github}`,children:["@",t.github]})}),t.twitter&&(0,qt.jsx)(Wm,{title:"Twitter",children:(0,qt.jsxs)("a",{className:"ml-1",href:`https://twitter.com/${t.twitter}`,target:"_blank",rel:"noopener noreferrer",title:`Twitter: ${t.twitter}`,children:["@",t.twitter]})}),t.url&&(0,qt.jsx)(Wm,{title:"Website",children:(0,qt.jsx)("a",{className:"ml-1",href:t.url,target:"_blank",rel:"noopener noreferrer",title:"Author Website",children:t.url})}),t.roles&&(0,qt.jsx)(Wm,{title:"Roles",children:t.roles.join(", ")})]})]}),(0,qt.jsx)(P8,{className:"fill-white"})]})})]}):(0,qt.jsx)(qt.Fragment,{children:i})};function H8({author:t,affiliations:e,className:i}){return(0,ai.jsxs)("span",{className:(0,xA.default)("font-semibold text-sm",i),children:[(0,ai.jsx)(B8,{author:t,affiliations:e,children:t.name}),t.email&&t.corresponding&&(0,ai.jsx)("a",{className:"ml-1",href:`mailto:${t.email}`,title:`${t.name} <${t.email}>`,target:"_blank",rel:"noopener noreferrer",children:(0,ai.jsx)(AR,{width:"1rem",height:"1rem",className:"inline-block text-gray-400 hover:text-blue-400 -translate-y-[0.1em]"})}),t.orcid&&(0,ai.jsx)("a",{className:"ml-1",href:`https://orcid.org/${t.orcid}`,target:"_blank",rel:"noopener noreferrer",title:"ORCID (Open Researcher and Contributor ID)",children:(0,ai.jsx)(OR,{width:"1rem",height:"1rem",className:"inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"})}),t.twitter&&(0,ai.jsx)("a",{className:"ml-1",href:`https://twitter.com/${t.twitter}`,target:"_blank",rel:"noopener noreferrer",title:`Twitter: ${t.twitter}`,children:(0,ai.jsx)(tw,{width:"1rem",height:"1rem",className:"inline-block text-gray-400 hover:text-[#1DA1F2] -translate-y-[0.1em]"})})]})}function yA({authors:t,affiliations:e}){return!t||t.length===0?null:(0,ai.jsx)("div",{children:t.map((i,n)=>(0,ai.jsx)(H8,{author:i,affiliations:e,className:(0,xA.default)("inline-block",{"text-comma":n<t.length-1})},i.name))})}function F8({authors:t,affiliations:e}){return!t||t.length===0?null:t.reduce((n,{affiliations:r})=>n||!!r&&(r==null?void 0:r.length)>0,!1)?(0,ai.jsx)("header",{className:"mt-4 not-prose",children:(0,ai.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-1",children:[t.length>1&&(0,ai.jsxs)(ai.Fragment,{children:[(0,ai.jsx)("div",{className:"pb-2 text-xs font-thin uppercase",children:"Authors"}),(0,ai.jsx)("div",{className:"pb-2 text-xs font-thin uppercase",children:"Affiliations"})]}),t.map(n=>{var r;return(0,ai.jsxs)(j8.default.Fragment,{children:[(0,ai.jsx)("div",{children:(0,ai.jsx)(H8,{author:n,affiliations:e})}),(0,ai.jsx)("div",{className:"text-sm",children:(r=n.affiliations)===null||r===void 0?void 0:r.map(s=>(0,ai.jsx)("div",{children:(0,ai.jsx)(bw,{affiliations:e,affiliationId:s})},s))})]},n.name)})]})}):(0,ai.jsx)("header",{className:"mt-4 not-prose",children:(0,ai.jsx)(yA,{authors:t,affiliations:e})})}function Mee({to:t,className:e,title:i,children:n}){return(0,It.jsx)("a",{href:t,className:e,title:i,children:n})}function Iee({doi:t,className:e}){if(!t)return null;let n=`https://doi.org/${t.replace(/^(https?:\/\/)?(dx\.)?doi\.org\//,"")}`;return(0,It.jsx)("div",{className:(0,$m.default)("flex-none",e),title:"DOI (Digital Object Identifier)",children:(0,It.jsx)("a",{className:"font-light no-underline hover:font-light hover:underline text-inherit hover:text-inherit",target:"_blank",rel:"noopener noreferrer",href:n,children:n})})}function Tee({date:t,format:e={year:"numeric",month:"long",day:"numeric"},spacer:i}){if(!t)return null;let n=new Date(t),s=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()).toLocaleDateString("en-US",e);return(0,It.jsx)("time",{dateTime:t,className:(0,$m.default)({"text-spacer":i}),children:s})}function wA({github:t}){if(!t)return null;let e=t.replace(/^(https?:\/\/)?github\.com\//,"");return(0,It.jsx)("a",{href:`https://github.com/${e}`,title:`GitHub Repository: ${e}`,target:"_blank",rel:"noopener noreferrer",className:"text-inherit hover:text-inherit",children:(0,It.jsx)(kR,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1 opacity-60 hover:opacity-100"})})}function CA({open_access:t}){return t?(0,It.jsx)("a",{href:"https://en.wikipedia.org/wiki/Open_access",target:"_blank",rel:"noopener noreferrer",title:"Open Access",className:"text-inherit hover:text-inherit",children:(0,It.jsx)(NR,{width:"1.25rem",height:"1.25rem",className:"mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"})}):null}function SA({venue:t,volume:e,issue:i,className:n}){if(!t)return null;let{title:r,url:s}=typeof t=="string"?{title:t,url:null}:t;return r?(0,It.jsxs)("div",{className:(0,$m.default)("flex-none mr-2",n),children:[s?(0,It.jsx)(Mee,{className:"font-semibold no-underline smallcaps",to:s,title:r,children:r}):(0,It.jsx)("span",{className:"font-semibold smallcaps",children:r}),e!=null&&(0,It.jsxs)("span",{className:"pl-2 ml-2 border-l",children:["Volume ",e.title,i!=null&&(0,It.jsxs)(It.Fragment,{children:[", Issue ",i.title]})]})]}):null}function W8({frontmatter:t,kind:e=pi.Article,authorStyle:i="block",hideBadges:n,hideExports:r,className:s}){if(!t)return null;let{title:o,subtitle:a,subject:l,doi:c,open_access:d,license:u,github:f,venue:h,volume:m,issue:p,exports:_,downloads:y,date:S,authors:T}=t,D=e===pi.Notebook,k=y?y.length>0:_&&_.length>0,b=T&&T.length>0,M=!!d||!!u||!!k||!!D||!!f,C=!!l||!!h||!!m||!!p,x=!!c||!!S,w=C||M&&!n||k&&!r;return!o&&!a&&!w&&!b&&!x?null:(0,It.jsxs)("div",{id:"skip-to-frontmatter","aria-label":"article frontmatter",className:(0,$m.default)(s),children:[w&&(0,It.jsxs)("div",{className:"flex items-center h-6 mb-5 text-sm font-light",children:[l&&(0,It.jsx)("div",{className:(0,$m.default)("flex-none pr-2 smallcaps",{"border-r mr-2":h}),children:l}),(0,It.jsx)(SA,{venue:h,volume:m,issue:p}),(0,It.jsx)("div",{className:"flex-grow"}),!n&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(nw,{license:u}),(0,It.jsx)(CA,{open_access:d}),(0,It.jsx)(wA,{github:f}),D&&(0,It.jsx)("div",{className:"inline-block mr-1",children:(0,It.jsx)(LR,{width:"1.25rem",height:"1.25rem",className:"inline-block",title:"Jupyter Notebook"})})]}),!r&&(0,It.jsx)(V4,{exports:y!=null?y:_})]}),o&&(0,It.jsx)("h1",{className:"mb-0",children:o}),a&&(0,It.jsx)("p",{className:"mt-2 mb-0 lead text-zinc-600 dark:text-zinc-400",children:a}),b&&i==="list"&&(0,It.jsx)(yA,{authors:t.authors,affiliations:t.affiliations}),b&&i==="block"&&(0,It.jsx)(F8,{authors:t.authors,affiliations:t.affiliations}),x&&(0,It.jsxs)("div",{className:"flex mt-2 text-sm font-light",children:[(0,It.jsx)(Tee,{date:S,spacer:!!c}),(0,It.jsx)(Iee,{doi:c})]})]})}var Mu=P(Et(),1);var $8=P(Et(),1),G_=P(me(),1);function EA({className:t="w-8 h-8 mx-3"}){let{nextTheme:e}=Ev();return(0,G_.jsxs)("button",{className:(0,$8.default)("theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800",t),title:"Toggle theme between light and dark mode.","aria-label":"Toggle theme between light and dark mode.",onClick:e,children:[(0,G_.jsx)(tC,{className:"h-full w-full p-0.5 hidden dark:block"}),(0,G_.jsx)(D1,{className:"h-full w-full p-0.5 dark:hidden"})]})}var Ree=P(se(),1),Aee=P(Et(),1);var q8=P(me(),1),xw=60;var Kn=P(me(),1);function kee({frontmatter:t,children:e,toggleTheme:i,className:n}){let r=Fl(),{subject:s,venue:o,volume:a,issue:l,...c}=t!=null?t:{},d={"col-page-right":r==="article-left-grid","col-page":r==="article-grid"},u={"col-body":r==="article-left-grid","col-page-left":r==="article-grid"};return(0,Kn.jsxs)("header",{className:"relative col-screen",children:[(t==null?void 0:t.banner)&&(0,Kn.jsx)("div",{className:(0,Mu.default)("absolute",r,"subgrid-gap col-screen bg-no-repeat bg-cover bg-top w-full h-full -z-10 pointer-events-none"),style:{backgroundImage:`url(${t==null?void 0:t.banner})`}}),(0,Kn.jsx)("div",{className:(0,Mu.default)("w-full relative col-screen article",r,"subgrid-gap",{"my-[2rem] pb-[1rem] md:my-[4rem]":t==null?void 0:t.banner,"my-[2rem]":!(t!=null&&t.banner)},n),children:(0,Kn.jsxs)("div",{className:(0,Mu.default)(d,{"shadow-2xl bg-white/80 dark:bg-black/80 backdrop-blur":t==null?void 0:t.banner}),children:[(0,Kn.jsxs)("div",{className:(0,Mu.default)("flex w-full align-middle py-2 mb-[1rem] text-sm",{"px-4 w-full":t==null?void 0:t.banner,"bg-white/80 dark:bg-black/80":t==null?void 0:t.banner,...d}),children:[s&&(0,Kn.jsx)("div",{className:(0,Mu.default)("flex-none pr-2 smallcaps"),children:s}),(0,Kn.jsx)(SA,{venue:o,volume:a,issue:l,className:"hidden pl-2 border-l md:block"}),(0,Kn.jsx)("div",{className:"flex-grow"}),(0,Kn.jsxs)("div",{className:"hidden sm:block",children:[(0,Kn.jsx)(nw,{license:t==null?void 0:t.license}),(0,Kn.jsx)(CA,{open_access:t==null?void 0:t.open_access}),(0,Kn.jsx)(wA,{github:t==null?void 0:t.github})]}),i&&(0,Kn.jsx)(EA,{className:"inline-block w-5 h-5 mt-0.5 ml-1"})]}),(0,Kn.jsxs)("div",{className:"flex flex-col mb-10 md:flex-row",children:[(0,Kn.jsx)(W8,{frontmatter:c,authorStyle:"list",className:(0,Mu.default)("flex-grow",{"pt-6 px-6":t==null?void 0:t.banner,...u}),hideBadges:!0,hideExports:!0}),e]})]})})]})}var Iu=P(me(),1);function yw({content:t,title:e="Abstract",id:i="abstract",className:n}){return t?(0,Iu.jsxs)("div",{className:n,children:[(0,Iu.jsxs)("h2",{id:i,className:"mb-3 text-base font-semibold group",children:[e,(0,Iu.jsx)(gi,{id:i,title:`Link to ${e}`,hover:!0,className:"ml-2"})]}),(0,Iu.jsx)("div",{className:"px-6 py-1 mb-3 rounded-sm bg-slate-50 dark:bg-slate-800",children:(0,Iu.jsx)(hR,{mdast:t,className:"col-body"})})]}):null}var MA=P(Et(),1);var qm=P(me(),1);function U8({keywords:t,hideKeywords:e,className:i}){return e||!t||t.length===0?null:(0,qm.jsxs)("div",{className:(0,MA.default)("mb-10 group",i),children:[(0,qm.jsx)("span",{className:"mr-2 font-semibold",children:"Keywords:"}),t.map((n,r)=>(0,qm.jsx)("span",{className:(0,MA.default)({"after:content-[','] after:mr-1":r<t.length-1}),children:n},n)),(0,qm.jsx)(gi,{id:"keywords",title:"Link to Keywords",hover:!0,className:"ml-2"})]})}var Tu=P(me(),1);function Lee({parts:t,keywords:e,hideKeywords:i,containerClassName:n,innerClassName:r}){return!t.abstract&&!t.keypoints&&!t.summary?null:(0,Tu.jsxs)("div",{className:n,children:[(0,Tu.jsx)(yw,{className:r,content:t.abstract}),(0,Tu.jsx)(yw,{className:r,content:t.keypoints,title:"Key Points",id:"keypoints"}),(0,Tu.jsx)(yw,{className:r,content:t.summary,title:"Plain Language Summary",id:"summary"}),(0,Tu.jsx)(U8,{className:r,keywords:e,hideKeywords:i})]})}var V8=P(Et(),1),va=P(me(),1);function Nee({parts:t,containerClassName:e,innerClassName:i}){return(0,va.jsxs)("div",{className:e,children:[(0,va.jsx)(IA,{className:i,title:"Acknowledgments",id:"acknowledgments",content:t.acknowledgments}),(0,va.jsx)(IA,{className:i,title:"Data Availability",id:"data-availability",content:t.data_availability})]})}function IA({title:t,id:e,content:i,className:n}){return i?(0,va.jsxs)("div",{className:(0,V8.default)("flex flex-col w-full md:flex-row group/backmatter",n),children:[(0,va.jsxs)("h2",{id:e,className:"mt-5 text-base font-semibold group md:w-[200px] self-start md:flex-none opacity-90 group-hover/backmatter:opacity-100",children:[t,(0,va.jsx)(gi,{id:e,title:`Link to ${t}`,hover:!0,className:"ml-2"})]}),(0,va.jsx)("div",{className:"grow opacity-90 group-hover/backmatter:opacity-100 col-screen",children:(0,va.jsx)(xe,{ast:qF(i)})})]}):null}var vt=P(me(),1);var ww=function(t){if(t==null)return Pee;if(typeof t=="function")return Cw(t);if(typeof t=="object")return Array.isArray(t)?Oee(t):Dee(t);if(typeof t=="string")return zee(t);throw new Error("Expected function, string, or object as test")};function Oee(t){let e=[],i=-1;for(;++i<t.length;)e[i]=ww(t[i]);return Cw(n);function n(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function Dee(t){let e=t;return Cw(i);function i(n){let r=n,s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function zee(t){return Cw(e);function e(i){return i&&i.type===t}}function Cw(t){return e;function e(i,n,r){return Boolean(Bee(i)&&t.call(this,i,typeof n=="number"?n:void 0,r||void 0))}}function Pee(){return!0}function Bee(t){return t!==null&&typeof t=="object"&&"type"in t}function Sw(t,e,i){let n=ww(i||e),r=!0;e&&typeof e=="object"&&"cascade"in e&&typeof e.cascade=="boolean"&&(r=e.cascade),s(t);function s(o,a,l){if(o!==t&&n(o,a,l))return!1;if("children"in o&&Array.isArray(o.children)){let c=o,d=c.children,u=-1,f=0;if(d.length>0){for(;++u<d.length;)s(d[u],u,c)&&(d[f++]=d[u]);if(o!==t&&r&&!f)return!1;d.length=f}}return!0}}function lW(t){return typeof t>"u"||t===null}function jee(t){return typeof t=="object"&&t!==null}function Hee(t){return Array.isArray(t)?t:lW(t)?[]:[t]}function Fee(t,e){var i,n,r,s;if(e)for(s=Object.keys(e),i=0,n=s.length;i<n;i+=1)r=s[i],t[r]=e[r];return t}function Wee(t,e){var i="",n;for(n=0;n<e;n+=1)i+=t;return i}function $ee(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var qee=lW,Uee=jee,Vee=Hee,Gee=Wee,Yee=$ee,Kee=Fee,yn={isNothing:qee,isObject:Uee,toArray:Vee,repeat:Gee,isNegativeZero:Yee,extend:Kee};function cW(t,e){var i="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),n+" "+i):n}function K_(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=cW(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}K_.prototype=Object.create(Error.prototype);K_.prototype.constructor=K_;K_.prototype.toString=function(e){return this.name+": "+cW(this,e)};var Yr=K_;function TA(t,e,i,n,r){var s="",o="",a=Math.floor(r/2)-1;return n-e>a&&(s=" ... ",e=n-a+s.length),i-n>a&&(o=" ...",i=n+a-o.length),{str:s+t.slice(e,i).replace(/\t/g,"\u2192")+o,pos:n-e+s.length}}function RA(t,e){return yn.repeat(" ",e-t.length)+t}function Xee(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,n=[0],r=[],s,o=-1;s=i.exec(t.buffer);)r.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,d=Math.min(t.line+e.linesAfter,r.length).toString().length,u=e.maxLength-(e.indent+d+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=TA(t.buffer,n[o-l],r[o-l],t.position-(n[o]-n[o-l]),u),a=yn.repeat(" ",e.indent)+RA((t.line-l+1).toString(),d)+" | "+c.str+`
`+a;for(c=TA(t.buffer,n[o],r[o],t.position,u),a+=yn.repeat(" ",e.indent)+RA((t.line+1).toString(),d)+" | "+c.str+`
`,a+=yn.repeat("-",e.indent+d+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=r.length);l++)c=TA(t.buffer,n[o+l],r[o+l],t.position-(n[o]-n[o+l]),u),a+=yn.repeat(" ",e.indent)+RA((t.line+l+1).toString(),d)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var Jee=Xee,Zee=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Qee=["scalar","sequence","mapping"];function ete(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(n){e[String(n)]=i})}),e}function tte(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(Zee.indexOf(i)===-1)throw new Yr('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=ete(e.styleAliases||null),Qee.indexOf(this.kind)===-1)throw new Yr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ar=tte;function G8(t,e){var i=[];return t[e].forEach(function(n){var r=i.length;i.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(r=o)}),i[r]=n}),i}function ite(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function n(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(n);return t}function kA(t){return this.extend(t)}kA.prototype.extend=function(e){var i=[],n=[];if(e instanceof ar)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Yr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof ar))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Yr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Yr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ar))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(kA.prototype);return r.implicit=(this.implicit||[]).concat(i),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=G8(r,"implicit"),r.compiledExplicit=G8(r,"explicit"),r.compiledTypeMap=ite(r.compiledImplicit,r.compiledExplicit),r};var nte=kA,rte=new ar("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),ste=new ar("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),ote=new ar("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),ate=new nte({explicit:[rte,ste,ote]});function lte(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function cte(){return null}function dte(t){return t===null}var ute=new ar("tag:yaml.org,2002:null",{kind:"scalar",resolve:lte,construct:cte,predicate:dte,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function hte(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function fte(t){return t==="true"||t==="True"||t==="TRUE"}function mte(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var pte=new ar("tag:yaml.org,2002:bool",{kind:"scalar",resolve:hte,construct:fte,predicate:mte,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function gte(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function _te(t){return 48<=t&&t<=55}function vte(t){return 48<=t&&t<=57}function bte(t){if(t===null)return!1;var e=t.length,i=0,n=!1,r;if(!e)return!1;if(r=t[i],(r==="-"||r==="+")&&(r=t[++i]),r==="0"){if(i+1===e)return!0;if(r=t[++i],r==="b"){for(i++;i<e;i++)if(r=t[i],r!=="_"){if(r!=="0"&&r!=="1")return!1;n=!0}return n&&r!=="_"}if(r==="x"){for(i++;i<e;i++)if(r=t[i],r!=="_"){if(!gte(t.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}if(r==="o"){for(i++;i<e;i++)if(r=t[i],r!=="_"){if(!_te(t.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}}if(r==="_")return!1;for(;i<e;i++)if(r=t[i],r!=="_"){if(!vte(t.charCodeAt(i)))return!1;n=!0}return!(!n||r==="_")}function xte(t){var e=t,i=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(i=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}function yte(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!yn.isNegativeZero(t)}var wte=new ar("tag:yaml.org,2002:int",{kind:"scalar",resolve:bte,construct:xte,predicate:yte,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Cte=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ste(t){return!(t===null||!Cte.test(t)||t[t.length-1]==="_")}function Ete(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}var Mte=/^[-+]?[0-9]+e/;function Ite(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yn.isNegativeZero(t))return"-0.0";return i=t.toString(10),Mte.test(i)?i.replace("e",".e"):i}function Tte(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||yn.isNegativeZero(t))}var Rte=new ar("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ste,construct:Ete,predicate:Tte,represent:Ite,defaultStyle:"lowercase"}),Ate=ate.extend({implicit:[ute,pte,wte,Rte]}),kte=Ate,dW=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),uW=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Lte(t){return t===null?!1:dW.exec(t)!==null||uW.exec(t)!==null}function Nte(t){var e,i,n,r,s,o,a,l=0,c=null,d,u,f;if(e=dW.exec(t),e===null&&(e=uW.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],n=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(i,n,r));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(d=+e[10],u=+(e[11]||0),c=(d*60+u)*6e4,e[9]==="-"&&(c=-c)),f=new Date(Date.UTC(i,n,r,s,o,a,l)),c&&f.setTime(f.getTime()-c),f}function Ote(t){return t.toISOString()}var Dte=new ar("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Lte,construct:Nte,instanceOf:Date,represent:Ote});function zte(t){return t==="<<"||t===null}var Pte=new ar("tag:yaml.org,2002:merge",{kind:"scalar",resolve:zte}),zA=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Bte(t){if(t===null)return!1;var e,i,n=0,r=t.length,s=zA;for(i=0;i<r;i++)if(e=s.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function jte(t){var e,i,n=t.replace(/[\r\n=]/g,""),r=n.length,s=zA,o=0,a=[];for(e=0;e<r;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(e));return i=r%4*6,i===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):i===18?(a.push(o>>10&255),a.push(o>>2&255)):i===12&&a.push(o>>4&255),new Uint8Array(a)}function Hte(t){var e="",i=0,n,r,s=t.length,o=zA;for(n=0;n<s;n++)n%3===0&&n&&(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]),i=(i<<8)+t[n];return r=s%3,r===0?(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]):r===2?(e+=o[i>>10&63],e+=o[i>>4&63],e+=o[i<<2&63],e+=o[64]):r===1&&(e+=o[i>>2&63],e+=o[i<<4&63],e+=o[64],e+=o[64]),e}function Fte(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Wte=new ar("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Bte,construct:jte,predicate:Fte,represent:Hte}),$te=Object.prototype.hasOwnProperty,qte=Object.prototype.toString;function Ute(t){if(t===null)return!0;var e=[],i,n,r,s,o,a=t;for(i=0,n=a.length;i<n;i+=1){if(r=a[i],o=!1,qte.call(r)!=="[object Object]")return!1;for(s in r)if($te.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function Vte(t){return t!==null?t:[]}var Gte=new ar("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ute,construct:Vte}),Yte=Object.prototype.toString;function Kte(t){if(t===null)return!0;var e,i,n,r,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1){if(n=o[e],Yte.call(n)!=="[object Object]"||(r=Object.keys(n),r.length!==1))return!1;s[e]=[r[0],n[r[0]]]}return!0}function Xte(t){if(t===null)return[];var e,i,n,r,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1)n=o[e],r=Object.keys(n),s[e]=[r[0],n[r[0]]];return s}var Jte=new ar("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Kte,construct:Xte}),Zte=Object.prototype.hasOwnProperty;function Qte(t){if(t===null)return!0;var e,i=t;for(e in i)if(Zte.call(i,e)&&i[e]!==null)return!1;return!0}function eie(t){return t!==null?t:{}}var tie=new ar("tag:yaml.org,2002:set",{kind:"mapping",resolve:Qte,construct:eie}),hW=kte.extend({implicit:[Dte,Pte],explicit:[Wte,Gte,Jte,tie]}),Dc=Object.prototype.hasOwnProperty,Ew=1,fW=2,mW=3,Mw=4,AA=1,iie=2,Y8=3,nie=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,rie=/[\x85\u2028\u2029]/,sie=/[,\[\]\{\}]/,pW=/^(?:!|!!|![a-z\-]+!)$/i,gW=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function K8(t){return Object.prototype.toString.call(t)}function ba(t){return t===10||t===13}function Au(t){return t===9||t===32}function Kr(t){return t===9||t===32||t===10||t===13}function Vm(t){return t===44||t===91||t===93||t===123||t===125}function oie(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function aie(t){return t===120?2:t===117?4:t===85?8:0}function lie(t){return 48<=t&&t<=57?t-48:-1}function X8(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function cie(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var _W=new Array(256),vW=new Array(256);for(Ru=0;Ru<256;Ru++)_W[Ru]=X8(Ru)?1:0,vW[Ru]=X8(Ru);var Ru;function die(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||hW,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function bW(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=Jee(i),new Yr(e,i)}function it(t,e){throw bW(t,e)}function Iw(t,e){t.onWarning&&t.onWarning.call(null,bW(t,e))}var J8={YAML:function(e,i,n){var r,s,o;e.version!==null&&it(e,"duplication of %YAML directive"),n.length!==1&&it(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),r===null&&it(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&it(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Iw(e,"unsupported YAML version of the document")},TAG:function(e,i,n){var r,s;n.length!==2&&it(e,"TAG directive accepts exactly two arguments"),r=n[0],s=n[1],pW.test(r)||it(e,"ill-formed tag handle (first argument) of the TAG directive"),Dc.call(e.tagMap,r)&&it(e,'there is a previously declared suffix for "'+r+'" tag handle'),gW.test(s)||it(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{it(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s}};function Oc(t,e,i,n){var r,s,o,a;if(e<i){if(a=t.input.slice(e,i),n)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||it(t,"expected valid JSON character");else nie.test(a)&&it(t,"the stream contains non-printable characters");t.result+=a}}function Z8(t,e,i,n){var r,s,o,a;for(yn.isObject(i)||it(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(i),o=0,a=r.length;o<a;o+=1)s=r[o],Dc.call(e,s)||(e[s]=i[s],n[s]=!0)}function Gm(t,e,i,n,r,s,o,a,l){var c,d;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,d=r.length;c<d;c+=1)Array.isArray(r[c])&&it(t,"nested arrays are not supported inside keys"),typeof r=="object"&&K8(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&K8(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,d=s.length;c<d;c+=1)Z8(t,e,s[c],i);else Z8(t,e,s,i);else!t.json&&!Dc.call(i,r)&&Dc.call(e,r)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,it(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[r]=s,delete i[r];return e}function PA(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):it(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function an(t,e,i){for(var n=0,r=t.input.charCodeAt(t.position);r!==0;){for(;Au(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(ba(r))for(PA(t),r=t.input.charCodeAt(t.position),n++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return i!==-1&&n!==0&&t.lineIndent<i&&Iw(t,"deficient indentation"),n}function Aw(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||Kr(i)))}function BA(t,e){e===1?t.result+=" ":e>1&&(t.result+=yn.repeat(`
`,e-1))}function uie(t,e,i){var n,r,s,o,a,l,c,d,u=t.kind,f=t.result,h;if(h=t.input.charCodeAt(t.position),Kr(h)||Vm(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(r=t.input.charCodeAt(t.position+1),Kr(r)||i&&Vm(r)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;h!==0;){if(h===58){if(r=t.input.charCodeAt(t.position+1),Kr(r)||i&&Vm(r))break}else if(h===35){if(n=t.input.charCodeAt(t.position-1),Kr(n))break}else{if(t.position===t.lineStart&&Aw(t)||i&&Vm(h))break;if(ba(h))if(l=t.line,c=t.lineStart,d=t.lineIndent,an(t,!1,-1),t.lineIndent>=e){a=!0,h=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=d;break}}a&&(Oc(t,s,o,!1),BA(t,t.line-l),s=o=t.position,a=!1),Au(h)||(o=t.position+1),h=t.input.charCodeAt(++t.position)}return Oc(t,s,o,!1),t.result?!0:(t.kind=u,t.result=f,!1)}function hie(t,e){var i,n,r;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Oc(t,n,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)n=t.position,t.position++,r=t.position;else return!0;else ba(i)?(Oc(t,n,r,!0),BA(t,an(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Aw(t)?it(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);it(t,"unexpected end of the stream within a single quoted scalar")}function fie(t,e){var i,n,r,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Oc(t,i,t.position,!0),t.position++,!0;if(a===92){if(Oc(t,i,t.position,!0),a=t.input.charCodeAt(++t.position),ba(a))an(t,!1,e);else if(a<256&&_W[a])t.result+=vW[a],t.position++;else if((o=aie(a))>0){for(r=o,s=0;r>0;r--)a=t.input.charCodeAt(++t.position),(o=oie(a))>=0?s=(s<<4)+o:it(t,"expected hexadecimal character");t.result+=cie(s),t.position++}else it(t,"unknown escape sequence");i=n=t.position}else ba(a)?(Oc(t,i,n,!0),BA(t,an(t,!1,e)),i=n=t.position):t.position===t.lineStart&&Aw(t)?it(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}it(t,"unexpected end of the stream within a double quoted scalar")}function mie(t,e){var i=!0,n,r,s,o=t.tag,a,l=t.anchor,c,d,u,f,h,m=Object.create(null),p,_,y,S;if(S=t.input.charCodeAt(t.position),S===91)d=93,h=!1,a=[];else if(S===123)d=125,h=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),S=t.input.charCodeAt(++t.position);S!==0;){if(an(t,!0,e),S=t.input.charCodeAt(t.position),S===d)return t.position++,t.tag=o,t.anchor=l,t.kind=h?"mapping":"sequence",t.result=a,!0;i?S===44&&it(t,"expected the node content, but found ','"):it(t,"missed comma between flow collection entries"),_=p=y=null,u=f=!1,S===63&&(c=t.input.charCodeAt(t.position+1),Kr(c)&&(u=f=!0,t.position++,an(t,!0,e))),n=t.line,r=t.lineStart,s=t.position,Ym(t,e,Ew,!1,!0),_=t.tag,p=t.result,an(t,!0,e),S=t.input.charCodeAt(t.position),(f||t.line===n)&&S===58&&(u=!0,S=t.input.charCodeAt(++t.position),an(t,!0,e),Ym(t,e,Ew,!1,!0),y=t.result),h?Gm(t,a,m,_,p,y,n,r,s):u?a.push(Gm(t,null,m,_,p,y,n,r,s)):a.push(p),an(t,!0,e),S=t.input.charCodeAt(t.position),S===44?(i=!0,S=t.input.charCodeAt(++t.position)):i=!1}it(t,"unexpected end of the stream within a flow collection")}function pie(t,e){var i,n,r=AA,s=!1,o=!1,a=e,l=0,c=!1,d,u;if(u=t.input.charCodeAt(t.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(t.kind="scalar",t.result="";u!==0;)if(u=t.input.charCodeAt(++t.position),u===43||u===45)AA===r?r=u===43?Y8:iie:it(t,"repeat of a chomping mode identifier");else if((d=lie(u))>=0)d===0?it(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?it(t,"repeat of an indentation width identifier"):(a=e+d-1,o=!0);else break;if(Au(u)){do u=t.input.charCodeAt(++t.position);while(Au(u));if(u===35)do u=t.input.charCodeAt(++t.position);while(!ba(u)&&u!==0)}for(;u!==0;){for(PA(t),t.lineIndent=0,u=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&u===32;)t.lineIndent++,u=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),ba(u)){l++;continue}if(t.lineIndent<a){r===Y8?t.result+=yn.repeat(`
`,s?1+l:l):r===AA&&s&&(t.result+=`
`);break}for(n?Au(u)?(c=!0,t.result+=yn.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=yn.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=yn.repeat(`
`,l):t.result+=yn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,i=t.position;!ba(u)&&u!==0;)u=t.input.charCodeAt(++t.position);Oc(t,i,t.position,!1)}return!0}function Q8(t,e){var i,n=t.tag,r=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,it(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Kr(o))));){if(a=!0,t.position++,an(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(i=t.line,Ym(t,e,mW,!1,!0),s.push(t.result),an(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&l!==0)it(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=r,t.kind="sequence",t.result=s,!0):!1}function gie(t,e,i){var n,r,s,o,a,l,c=t.tag,d=t.anchor,u={},f=Object.create(null),h=null,m=null,p=null,_=!1,y=!1,S;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),S=t.input.charCodeAt(t.position);S!==0;){if(!_&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,it(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(S===63||S===58)&&Kr(n))S===63?(_&&(Gm(t,u,f,h,m,null,o,a,l),h=m=p=null),y=!0,_=!0,r=!0):_?(_=!1,r=!0):it(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,S=n;else{if(o=t.line,a=t.lineStart,l=t.position,!Ym(t,i,fW,!1,!0))break;if(t.line===s){for(S=t.input.charCodeAt(t.position);Au(S);)S=t.input.charCodeAt(++t.position);if(S===58)S=t.input.charCodeAt(++t.position),Kr(S)||it(t,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(Gm(t,u,f,h,m,null,o,a,l),h=m=p=null),y=!0,_=!1,r=!1,h=t.tag,m=t.result;else if(y)it(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=d,!0}else if(y)it(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=d,!0}if((t.line===s||t.lineIndent>e)&&(_&&(o=t.line,a=t.lineStart,l=t.position),Ym(t,e,Mw,!0,r)&&(_?m=t.result:p=t.result),_||(Gm(t,u,f,h,m,p,o,a,l),h=m=p=null),an(t,!0,-1),S=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&S!==0)it(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return _&&Gm(t,u,f,h,m,null,o,a,l),y&&(t.tag=c,t.anchor=d,t.kind="mapping",t.result=u),y}function _ie(t){var e,i=!1,n=!1,r,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&it(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(i=!0,o=t.input.charCodeAt(++t.position)):o===33?(n=!0,r="!!",o=t.input.charCodeAt(++t.position)):r="!",e=t.position,i){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):it(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Kr(o);)o===33&&(n?it(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),pW.test(r)||it(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),sie.test(s)&&it(t,"tag suffix cannot contain flow indicator characters")}s&&!gW.test(s)&&it(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{it(t,"tag name is malformed: "+s)}return i?t.tag=s:Dc.call(t.tagMap,r)?t.tag=t.tagMap[r]+s:r==="!"?t.tag="!"+s:r==="!!"?t.tag="tag:yaml.org,2002:"+s:it(t,'undeclared tag handle "'+r+'"'),!0}function vie(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&it(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Kr(i)&&!Vm(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&it(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function bie(t){var e,i,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Kr(n)&&!Vm(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&it(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),Dc.call(t.anchorMap,i)||it(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],an(t,!0,-1),!0}function Ym(t,e,i,n,r){var s,o,a,l=1,c=!1,d=!1,u,f,h,m,p,_;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Mw===i||mW===i,n&&an(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;_ie(t)||vie(t);)an(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||r),(l===1||Mw===i)&&(Ew===i||fW===i?p=e:p=e+1,_=t.position-t.lineStart,l===1?a&&(Q8(t,_)||gie(t,_,p))||mie(t,p)?d=!0:(o&&pie(t,p)||hie(t,p)||fie(t,p)?d=!0:bie(t)?(d=!0,(t.tag!==null||t.anchor!==null)&&it(t,"alias node should not have any properties")):uie(t,p,Ew===i)&&(d=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(d=a&&Q8(t,_))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&it(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),u=0,f=t.implicitTypes.length;u<f;u+=1)if(m=t.implicitTypes[u],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Dc.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,h=t.typeMap.multi[t.kind||"fallback"],u=0,f=h.length;u<f;u+=1)if(t.tag.slice(0,h[u].tag.length)===h[u].tag){m=h[u];break}m||it(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&it(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):it(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||d}function xie(t){var e=t.position,i,n,r,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(an(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),i=t.position;o!==0&&!Kr(o);)o=t.input.charCodeAt(++t.position);for(n=t.input.slice(i,t.position),r=[],n.length<1&&it(t,"directive name must not be less than one character in length");o!==0;){for(;Au(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!ba(o));break}if(ba(o))break;for(i=t.position;o!==0&&!Kr(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(i,t.position))}o!==0&&PA(t),Dc.call(J8,n)?J8[n](t,n,r):Iw(t,'unknown document directive "'+n+'"')}if(an(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,an(t,!0,-1)):s&&it(t,"directives end mark is expected"),Ym(t,t.lineIndent-1,Mw,!1,!0),an(t,!0,-1),t.checkLineBreaks&&rie.test(t.input.slice(e,t.position))&&Iw(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Aw(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,an(t,!0,-1));return}if(t.position<t.length-1)it(t,"end of the stream or a document separator is expected");else return}function xW(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new die(t,e),n=t.indexOf("\0");for(n!==-1&&(i.position=n,it(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)xie(i);return i.documents}function yie(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var n=xW(t,i);if(typeof e!="function")return n;for(var r=0,s=n.length;r<s;r+=1)e(n[r])}function wie(t,e){var i=xW(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new Yr("expected a single document in the stream, but found more")}}var Cie=yie,Sie=wie,yW={loadAll:Cie,load:Sie},wW=Object.prototype.toString,CW=Object.prototype.hasOwnProperty,jA=65279,Eie=9,X_=10,Mie=13,Iie=32,Tie=33,Rie=34,LA=35,Aie=37,kie=38,Lie=39,Nie=42,SW=44,Oie=45,Tw=58,Die=61,zie=62,Pie=63,Bie=64,EW=91,MW=93,jie=96,IW=123,Hie=124,TW=125,lr={};lr[0]="\\0";lr[7]="\\a";lr[8]="\\b";lr[9]="\\t";lr[10]="\\n";lr[11]="\\v";lr[12]="\\f";lr[13]="\\r";lr[27]="\\e";lr[34]='\\"';lr[92]="\\\\";lr[133]="\\N";lr[160]="\\_";lr[8232]="\\L";lr[8233]="\\P";var Fie=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Wie=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function $ie(t,e){var i,n,r,s,o,a,l;if(e===null)return{};for(i={},n=Object.keys(e),r=0,s=n.length;r<s;r+=1)o=n[r],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&CW.call(l.styleAliases,a)&&(a=l.styleAliases[a]),i[o]=a;return i}function qie(t){var e,i,n;if(e=t.toString(16).toUpperCase(),t<=255)i="x",n=2;else if(t<=65535)i="u",n=4;else if(t<=4294967295)i="U",n=8;else throw new Yr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+yn.repeat("0",n-e.length)+e}var Uie=1,J_=2;function Vie(t){this.schema=t.schema||hW,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=yn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=$ie(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?J_:Uie,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function eW(t,e){for(var i=yn.repeat(" ",e),n=0,r=-1,s="",o,a=t.length;n<a;)r=t.indexOf(`
`,n),r===-1?(o=t.slice(n),n=a):(o=t.slice(n,r+1),n=r+1),o.length&&o!==`
`&&(s+=i),s+=o;return s}function NA(t,e){return`
`+yn.repeat(" ",t.indent*e)}function Gie(t,e){var i,n,r;for(i=0,n=t.implicitTypes.length;i<n;i+=1)if(r=t.implicitTypes[i],r.resolve(e))return!0;return!1}function Rw(t){return t===Iie||t===Eie}function Z_(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==jA||65536<=t&&t<=1114111}function tW(t){return Z_(t)&&t!==jA&&t!==Mie&&t!==X_}function iW(t,e,i){var n=tW(t),r=n&&!Rw(t);return(i?n:n&&t!==SW&&t!==EW&&t!==MW&&t!==IW&&t!==TW)&&t!==LA&&!(e===Tw&&!r)||tW(e)&&!Rw(e)&&t===LA||e===Tw&&r}function Yie(t){return Z_(t)&&t!==jA&&!Rw(t)&&t!==Oie&&t!==Pie&&t!==Tw&&t!==SW&&t!==EW&&t!==MW&&t!==IW&&t!==TW&&t!==LA&&t!==kie&&t!==Nie&&t!==Tie&&t!==Hie&&t!==Die&&t!==zie&&t!==Lie&&t!==Rie&&t!==Aie&&t!==Bie&&t!==jie}function Kie(t){return!Rw(t)&&t!==Tw}function Y_(t,e){var i=t.charCodeAt(e),n;return i>=55296&&i<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}function RW(t){var e=/^\n* /;return e.test(t)}var AW=1,OA=2,kW=3,LW=4,Um=5;function Xie(t,e,i,n,r,s,o,a){var l,c=0,d=null,u=!1,f=!1,h=n!==-1,m=-1,p=Yie(Y_(t,0))&&Kie(Y_(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Y_(t,l),!Z_(c))return Um;p=p&&iW(c,d,a),d=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Y_(t,l),c===X_)u=!0,h&&(f=f||l-m-1>n&&t[m+1]!==" ",m=l);else if(!Z_(c))return Um;p=p&&iW(c,d,a),d=c}f=f||h&&l-m-1>n&&t[m+1]!==" "}return!u&&!f?p&&!o&&!r(t)?AW:s===J_?Um:OA:i>9&&RW(t)?Um:o?s===J_?Um:OA:f?LW:kW}function Jie(t,e,i,n,r){t.dump=function(){if(e.length===0)return t.quotingType===J_?'""':"''";if(!t.noCompatMode&&(Fie.indexOf(e)!==-1||Wie.test(e)))return t.quotingType===J_?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,i),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=n||t.flowLevel>-1&&i>=t.flowLevel;function l(c){return Gie(t,c)}switch(Xie(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!n,r)){case AW:return e;case OA:return"'"+e.replace(/'/g,"''")+"'";case kW:return"|"+nW(e,t.indent)+rW(eW(e,s));case LW:return">"+nW(e,t.indent)+rW(eW(Zie(e,o),s));case Um:return'"'+Qie(e)+'"';default:throw new Yr("impossible error: invalid scalar style")}}()}function nW(t,e){var i=RW(t)?String(e):"",n=t[t.length-1]===`
`,r=n&&(t[t.length-2]===`
`||t===`
`),s=r?"+":n?"":"-";return i+s+`
`}function rW(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Zie(t,e){for(var i=/(\n+)([^\n]*)/g,n=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,i.lastIndex=c,sW(t.slice(0,c),e)}(),r=t[0]===`
`||t[0]===" ",s,o;o=i.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!r&&!s&&l!==""?`
`:"")+sW(l,e),r=s}return n}function sW(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,n,r=0,s,o=0,a=0,l="";n=i.exec(t);)a=n.index,a-r>e&&(s=o>r?o:a,l+=`
`+t.slice(r,s),r=s+1),o=a;return l+=`
`,t.length-r>e&&o>r?l+=t.slice(r,o)+`
`+t.slice(o+1):l+=t.slice(r),l.slice(1)}function Qie(t){for(var e="",i=0,n,r=0;r<t.length;i>=65536?r+=2:r++)i=Y_(t,r),n=lr[i],!n&&Z_(i)?(e+=t[r],i>=65536&&(e+=t[r+1])):e+=n||qie(i);return e}function ene(t,e,i){var n="",r=t.tag,s,o,a;for(s=0,o=i.length;s<o;s+=1)a=i[s],t.replacer&&(a=t.replacer.call(i,String(s),a)),(Al(t,e,a,!1,!1)||typeof a>"u"&&Al(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=r,t.dump="["+n+"]"}function oW(t,e,i,n){var r="",s=t.tag,o,a,l;for(o=0,a=i.length;o<a;o+=1)l=i[o],t.replacer&&(l=t.replacer.call(i,String(o),l)),(Al(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Al(t,e+1,null,!0,!0,!1,!0))&&((!n||r!=="")&&(r+=NA(t,e)),t.dump&&X_===t.dump.charCodeAt(0)?r+="-":r+="- ",r+=t.dump);t.tag=s,t.dump=r||"[]"}function tne(t,e,i){var n="",r=t.tag,s=Object.keys(i),o,a,l,c,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),t.condenseFlow&&(d+='"'),l=s[o],c=i[l],t.replacer&&(c=t.replacer.call(i,l,c)),Al(t,e,l,!1,!1)&&(t.dump.length>1024&&(d+="? "),d+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Al(t,e,c,!1,!1)&&(d+=t.dump,n+=d));t.tag=r,t.dump="{"+n+"}"}function ine(t,e,i,n){var r="",s=t.tag,o=Object.keys(i),a,l,c,d,u,f;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Yr("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)f="",(!n||r!=="")&&(f+=NA(t,e)),c=o[a],d=i[c],t.replacer&&(d=t.replacer.call(i,c,d)),Al(t,e+1,c,!0,!0,!0)&&(u=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,u&&(t.dump&&X_===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,u&&(f+=NA(t,e)),Al(t,e+1,d,!0,u)&&(t.dump&&X_===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,r+=f));t.tag=s,t.dump=r||"{}"}function aW(t,e,i){var n,r,s,o,a,l;for(r=i?t.explicitTypes:t.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(i?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,wW.call(a.represent)==="[object Function]")n=a.represent(e,l);else if(CW.call(a.represent,l))n=a.represent[l](e,l);else throw new Yr("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}function Al(t,e,i,n,r,s,o){t.tag=null,t.dump=i,aW(t,i,!1)||aW(t,i,!0);var a=wW.call(t.dump),l=n,c;n&&(n=t.flowLevel<0||t.flowLevel>e);var d=a==="[object Object]"||a==="[object Array]",u,f;if(d&&(u=t.duplicates.indexOf(i),f=u!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(r=!1),f&&t.usedDuplicates[u])t.dump="*ref_"+u;else{if(d&&f&&!t.usedDuplicates[u]&&(t.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(t.dump).length!==0?(ine(t,e,t.dump,r),f&&(t.dump="&ref_"+u+t.dump)):(tne(t,e,t.dump),f&&(t.dump="&ref_"+u+" "+t.dump));else if(a==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?oW(t,e-1,t.dump,r):oW(t,e,t.dump,r),f&&(t.dump="&ref_"+u+t.dump)):(ene(t,e,t.dump),f&&(t.dump="&ref_"+u+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Jie(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Yr("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function nne(t,e){var i=[],n=[],r,s;for(DA(t,i,n),r=0,s=n.length;r<s;r+=1)e.duplicates.push(i[n[r]]);e.usedDuplicates=new Array(s)}function DA(t,e,i){var n,r,s;if(t!==null&&typeof t=="object")if(r=e.indexOf(t),r!==-1)i.indexOf(r)===-1&&i.push(r);else if(e.push(t),Array.isArray(t))for(r=0,s=t.length;r<s;r+=1)DA(t[r],e,i);else for(n=Object.keys(t),r=0,s=n.length;r<s;r+=1)DA(t[n[r]],e,i)}function rne(t,e){e=e||{};var i=new Vie(e);i.noRefs||nne(t,i);var n=t;return i.replacer&&(n=i.replacer.call({"":n},"",n)),Al(i,0,n,!0,!0)?i.dump+`
`:""}var sne=rne,one={dump:sne};function HA(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var NW=yW.load,qDe=yW.loadAll,OW=one.dump;var UDe=HA("safeLoad","load"),VDe=HA("safeLoadAll","loadAll"),GDe=HA("safeDump","dump");var Ni=P(se(),1),ko=P(Et(),1);var DW=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},ane=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i};function lne(t,e){let i=document.createElement("a"),n=URL.createObjectURL(e);i.href=n,i.download=t,i.click()}function cne(t,e){return DW(this,void 0,void 0,function*(){let{unified:i}=yield import("/myst_assets_folder/_shared/unified-G6JWH5V5.js"),{mystToDocx:n,fetchImagesAsBuffers:r}=yield import("/myst_assets_folder/_shared/dist-UI35DRLY.js"),s=JSON.parse(JSON.stringify(e)),o=yield r(s),a=yield i().use(n,o).stringify(s).result;lne(t,a)})}function dne(t,e){var i,n;let s=(n=(((i=e.children[0])===null||i===void 0?void 0:i.type)==="block"?e.children[0]:e).children)===null||n===void 0?void 0:n[0],o={};if(s?.type==="code"&&s?.lang==="yaml")try{o=NW(s.value)||{},s.type="__delete__"}catch(c){sk(t,"Invalid YAML frontmatter",{note:c.message,ruleId:dk.frontmatterIsYaml})}return Sw(e,"__delete__")===null&&Sw(e,{cascade:!1},"__delete__"),o}function une(t,e,i){return DW(this,void 0,void 0,function*(){var n,r,s;let{visit:o}=yield import("/myst_assets_folder/_shared/unist-util-visit-O677GYZ6.js"),{unified:a}=yield import("/myst_assets_folder/_shared/unified-G6JWH5V5.js"),{mystParse:l}=yield import("/myst_assets_folder/_shared/dist-N5JHVGVN.js"),{mathPlugin:c,footnotesPlugin:d,keysPlugin:u,htmlPlugin:f,reconstructHtmlPlugin:h,basicTransformationsPlugin:m,enumerateTargetsPlugin:p,resolveReferencesPlugin:_,WikiTransformer:y,GithubTransformer:S,DOITransformer:T,RRIDTransformer:D,RORTransformer:k,linksPlugin:b,ReferenceState:M,abbreviationPlugin:C,glossaryPlugin:x,joinGatesPlugin:w}=yield import("/myst_assets_folder/_shared/dist-SN6NZGUS.js"),{default:E}=yield import("/myst_assets_folder/_shared/dist-YRVHICEI.js"),{default:O}=yield import("/myst_assets_folder/_shared/dist-TJNEVYED.js"),{default:j}=yield import("/myst_assets_folder/_shared/dist-PMTUNGWW.js").catch(()=>({default:null})),{mystToHtml:Q}=yield import("/myst_assets_folder/_shared/dist-HOXNYS7G.js"),{cardDirective:X}=yield import("/myst_assets_folder/_shared/dist-LMVS5N73.js"),{gridDirective:K}=yield import("/myst_assets_folder/_shared/dist-DQBMRGQM.js"),{tabDirectives:Y}=yield import("/myst_assets_folder/_shared/dist-EIFAP3KE.js"),{proofDirective:ie}=yield import("/myst_assets_folder/_shared/dist-2ZONF7DB.js"),{exerciseDirectives:be}=yield import("/myst_assets_folder/_shared/dist-ERRPDN4J.js"),Pe=new _p,we=ae=>l(ae,{markdownit:{linkify:!0},directives:[X,K,...Y,ie,...be],vfile:Pe}),Le=we(t),at=[new y,new S,new T,new D,new k],Ze=JSON.parse(JSON.stringify(Le));o(Ze,ae=>delete ae.position);let Je=Q(JSON.parse(JSON.stringify(Le))),lt={cite:{order:[],data:{}},footnotes:{}},bt=dne(Pe,Le),wt=ck(bt,{property:"frontmatter",messages:{}}),oi=new M("",{numbering:(n=wt.numbering)!==null&&n!==void 0?n:e?.numbering,vfile:Pe});o(Le,ae=>{ae.type==="cite"&&(ae.error=!0)}),a().use(h).use(f).use(m,{parser:we}).use(c,{macros:(r=wt?.math)!==null&&r!==void 0?r:{}}).use(x).use(C,{abbreviations:wt.abbreviations}).use(p,{state:oi}).use(b,{transformers:at}).use(d).use(w).use(_,{state:oi}).use(u).runSync(Le,Pe);let mi=JSON.parse(JSON.stringify(Le));o(mi,ae=>{delete ae.position,delete ae.key});let Ci=new _p,ye=a().use(E,{references:lt}).stringify(Le,Ci).result,A=new _p,H;try{H=a().use(O).stringify(Le,A).result}catch(ae){console.error(ae),H={value:`Problem with typst conversion: ${ae.message||"Unknown Error"}`,macros:[],commands:{}}}let F=new _p,Z=j?a().use(j,pi.Article,wt,void 0,"",{format:2,writeFullArticle:(s=i?.jats)===null||s===void 0?void 0:s.fullArticle}).stringify(Le,F).result:"Problem loading myst-to-jats";return{frontmatter:wt,mdastPre:Ze,mdastPost:mi,references:Object.assign(Object.assign({},lt),{article:Le}),html:Je,tex:ye.value,texWarnings:Ci.messages,typst:H.value,typstWarnings:A.messages,jats:Z,jatsWarnings:F.messages,warnings:Pe.messages}})}function hne({value:t,column:e,fullscreen:i,numbering:n,TitleBlock:r,captureTab:s,className:o}){var a;let l=(0,Ni.useRef)(null),[c,d]=(0,Ni.useState)(t.trim()),[u,f]=(0,Ni.useState)({}),[h,m]=(0,Ni.useState)({}),[p,_]=(0,Ni.useState)("Loading..."),[y,S]=(0,Ni.useState)("Loading..."),[T,D]=(0,Ni.useState)("Loading..."),[k,b]=(0,Ni.useState)("Loading..."),[M,C]=(0,Ni.useState)([]),[x,w]=(0,Ni.useState)("Loading..."),[E,O]=(0,Ni.useState)([]),[j,Q]=(0,Ni.useState)("Loading..."),[X,K]=(0,Ni.useState)([]),[Y,ie]=(0,Ni.useState)([]),[be,Pe]=(0,Ni.useState)("DEMO"),[we,Le]=(0,Ni.useState)("yaml"),[at,Ze]=(0,Ni.useState)("pre");(0,Ni.useEffect)(()=>{let ye={current:!0};return une(c,{numbering:n},{removeHeading:!!r,jats:{fullArticle:!!r}}).then(A=>{ye.current&&(m(A.frontmatter),_(A.mdastPre),S(A.mdastPost),f(A.references),D(A.html),b(A.tex),C(A.texWarnings),w(A.typst),O(A.typstWarnings),Q(A.jats),K(A.jatsWarnings),ie(A.warnings))}),()=>{ye.current=!1}},[c]),(0,Ni.useEffect)(()=>{if(l.current){if(e){l.current.style.height="";return}l.current.style.height="auto",l.current.style.height=`${l.current.scrollHeight}px`}},[c,e]),(0,Ni.useEffect)(()=>{!l.current||!s||l.current.addEventListener("keydown",ye=>{ye.key==="Tab"&&(ye.preventDefault(),ye.stopPropagation())})},[l,s]);let Je=[];switch(be){case"DEMO":Je=Y;break;case"LaTeX":Je=M;break;case"Typst":Je=E;break;case"JATS":Je=X;break;default:break}let lt=(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("div",{className:"self-center text-sm border cursor-pointer dark:border-slate-600",children:["DEMO","AST","HTML","LaTeX","Typst","JATS","DOCX"].map(ye=>(0,vt.jsx)("button",{className:(0,ko.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":be!==ye,"bg-blue-800 text-white":be===ye}),title:`Show the ${ye}`,"aria-label":`Show the ${ye}`,"aria-pressed":be===ye?"true":"false",onClick:()=>Pe(ye),children:ye},ye))}),be==="AST"&&(0,vt.jsxs)("div",{className:"self-center text-sm border cursor-pointer w-fit dark:border-slate-600",children:[["yaml","json"].map(ye=>(0,vt.jsx)("button",{className:(0,ko.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":we!==ye,"bg-blue-800 text-white":we===ye}),title:`Show the AST as ${ye.toUpperCase()}`,"aria-pressed":we===ye?"true":"false",onClick:()=>Le(ye),children:ye.toUpperCase()},ye)),["pre","post"].map(ye=>(0,vt.jsx)("button",{className:(0,ko.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":at!==ye,"bg-blue-800 text-white":at===ye}),title:`Show the AST Stage ${ye.toUpperCase()}`,"aria-pressed":at===ye?"true":"false",onClick:()=>Ze(ye),children:ye.toUpperCase()},ye))]})]}),bt=at==="pre"?p:y,{downloads:wt,exports:oi,parts:mi}=h,Ci=ane(h,["downloads","exports","parts"]);return(0,vt.jsxs)("figure",{className:(0,ko.default)("relative",{"grid grid-cols-2 gap-0 grid-rows-[3rem_1fr]":e,"shadow-lg rounded":!i,"m-0":i},o),children:[e&&(0,vt.jsxs)("div",{className:"flex flex-row items-stretch h-full col-span-2 px-2 border dark:border-slate-600",children:[(0,vt.jsx)("div",{className:"flex-grow"}),lt]}),(0,vt.jsxs)("div",{className:(0,ko.default)("myst relative",{"overflow-auto":e}),children:[(0,vt.jsx)(wh,{text:c,className:"absolute right-0 p-1"}),(0,vt.jsxs)("label",{children:[(0,vt.jsx)("span",{className:"sr-only",children:"Edit the MyST Markdown text"}),(0,vt.jsx)("textarea",{ref:l,value:c,className:(0,ko.default)("block p-6 shadow-inner resize-none w-full font-mono bg-slate-50/50 dark:bg-slate-800/50 outline-none",{"text-sm":!e},{"h-full":e}),onChange:ye=>d(ye.target.value)})]})]}),(0,vt.jsxs)("div",{className:(0,ko.default)("exclude-from-outline relative min-h-1 dark:bg-slate-900",{"overflow-auto":e}),children:[!e&&(0,vt.jsx)("div",{className:"absolute top-0 left-0",children:lt}),(0,vt.jsxs)("div",{className:(0,ko.default)("px-6 pb-6",{"pt-[40px]":!e&&be!=="AST","pt-[80px]":!e&&be==="AST","pt-4":e}),children:[be==="DEMO"&&(0,vt.jsx)(vt.Fragment,{children:(0,vt.jsxs)(zk,{references:u,frontmatter:Ci,children:[r&&(0,vt.jsx)(r,{frontmatter:h}),(0,vt.jsx)(xe,{ast:(a=u.article)===null||a===void 0?void 0:a.children})]})}),be==="AST"&&(0,vt.jsx)(vt.Fragment,{children:(0,vt.jsx)(Vo,{lang:we,value:we==="yaml"?OW(bt):JSON.stringify(bt,null,2)})}),be==="HTML"&&(0,vt.jsx)(Vo,{lang:"xml",value:T,showCopy:!1}),be==="LaTeX"&&(0,vt.jsx)(Vo,{lang:"latex",value:k,showCopy:!1}),be==="Typst"&&(0,vt.jsx)(Vo,{lang:"typst",value:x,showCopy:!1}),be==="JATS"&&(0,vt.jsx)(Vo,{lang:"xml",value:j,showCopy:!1}),be==="DOCX"&&(0,vt.jsx)("div",{children:(0,vt.jsxs)("button",{className:"p-3 border rounded",onClick:()=>cne("demo.docx",u.article),title:"Download Micorsoft Word","aria-label":"Download Micorsoft Word",children:[(0,vt.jsx)(bp,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"})," ","Download as Microsoft Word"]})})]}),Je.length>0&&(0,vt.jsx)("div",{className:(0,ko.default)("w-full",{"absolute bottom-0":e}),children:Je.map((ye,A)=>(0,vt.jsxs)("div",{className:(0,ko.default)("p-1 shadow-inner text-white not-prose",{"bg-red-500 dark:bg-red-800":ye.fatal===!0,"bg-orange-500 dark:bg-orange-700":ye.fatal===!1,"bg-slate-500 dark:bg-slate-800":ye.fatal===null}),children:[ye.fatal===!0&&(0,vt.jsx)(so,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),ye.fatal===!1&&(0,vt.jsx)(yp,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),ye.fatal===null&&(0,vt.jsx)(hh,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),(0,vt.jsx)("code",{children:ye.ruleId||ye.source}),": ",ye.message]},A))})]})]})}var zW=({node:t})=>(0,vt.jsx)(hne,{value:t.value,numbering:t.numbering});var Km=P(me(),1),ku=P(se(),1),fne=function(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function mne(t,e){return fne(this,void 0,void 0,function*(){let{default:i}=yield import("/myst_assets_folder/_shared/mermaid.core-2IHT7B4E.js");return yield new Promise(n=>{i.render(t,e,r=>{n(r)})})})}function pne({id:t,value:e}){let i=(0,ku.useId)(),[n,r]=(0,ku.useState)(),[s,o]=(0,ku.useState)();return(0,ku.useEffect)(()=>{mne(`mermaid-${i.replace(/:/g,"")}`,e).then(a=>{r(a),o(void 0)}).catch(a=>{r(void 0),o(a)})},[]),(0,Km.jsxs)("figure",{id:t,children:[n&&(0,Km.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),s&&(0,Km.jsxs)("pre",{children:["Error parsing mermaid graph.",`

`,s.message,`

`,e]})]})}var PW=({node:t})=>(0,Km.jsx)(pne,{id:t.html_id||t.identifier,value:t.value});var FA={...Sb,myst:zW,mermaid:PW,...$F};var WA=P(se(),1),kw=P(me(),1);function gne(t){return e=>{e.preventDefault();let i=document.querySelector(`#${t}`);i&&(i.nextSibling.focus(),history.replaceState(void 0,"",`#${t}`),i.tabIndex===-1&&(i.tabIndex=-1),i.focus({preventScroll:!0}))}}var _ne=WA.default.memo(({targets:t})=>(0,kw.jsx)("div",{className:"fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1","aria-label":"skip to content options",children:t.map(({id:e,title:i})=>(0,kw.jsx)("a",{href:`#${e}`,className:"block px-2 py-1 text-black underline",onClick:gne(e),children:i},e))}));var Lu=P(se(),1);function BW(t){let e=new XMLHttpRequest;e.open("POST","/api/theme"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify({theme:t}))}var Nw="(prefers-color-scheme: light)",Lw="myst:theme";function vne(){return typeof window!="object"?null:window.matchMedia(Nw).matches?Dn.light:Dn.dark}function bne({setTheme:t}){(0,Lu.useEffect)(()=>{let e=window.matchMedia(Nw),i=()=>{t(e.matches?Dn.light:Dn.dark)};return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[])}function jW({ssrTheme:t,useLocalStorage:e}){let[i,n]=Lu.default.useState(()=>{if(Sv(t))return t;if(typeof window!="object")return null;let s=vne(),o=localStorage.getItem(Lw);return e&&Sv(o)?o:s});bne({setTheme:n});let r=(0,Lu.useRef)(!1);return(0,Lu.useEffect)(()=>{if(!r.current){r.current=!0;return}Sv(i)&&(e?localStorage.setItem(Lw,i):BW(i))},[i]),[i,n]}var HW=P(me(),1);function $A({useLocalStorage:t}){let e=`localStorage.getItem(${JSON.stringify(Lw)})`,i=`
  const savedTheme = ${t?e:"null"};
  const theme = window.matchMedia(${JSON.stringify(Nw)}).matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
`;return(0,HW.jsx)("script",{dangerouslySetInnerHTML:{__html:i}})}var xa=P(me(),1),xne=t=>`window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '${t}');`;function FW({analytics_google:t,analytics_plausible:e}){return(0,xa.jsxs)(xa.Fragment,{children:[e&&(0,xa.jsx)("script",{defer:!0,"data-domain":e,src:"https://plausible.io/js/plausible.js"}),t&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${t}`}),(0,xa.jsx)("script",{dangerouslySetInnerHTML:{__html:xne(t)}})]})]})}function zze({title:t,description:e,twitter:i}){let n=[{title:t},{property:"og:title",content:t},{name:"generator",content:"mystmd"}];return e&&(n.push({name:"description",content:e}),n.push({property:"og:description",content:e})),i&&n.push({name:"twitter:site",content:`@${i.replace("@","")}`}),n}function Pze({origin:t,url:e,title:i,description:n,image:r,twitter:s,keywords:o}){let a=[{title:i},{property:"og:title",content:i},{name:"generator",content:"mystmd"}];return n&&(a.push({name:"description",content:n}),a.push({property:"og:description",content:n})),o&&a.push({name:"keywords",content:o.join(", ")}),t&&e&&a.push({property:"og:url",content:`${t}${e}`}),r&&(a.push({name:"image",content:r}),a.push({property:"og:image",content:r})),s&&(a.push({name:"twitter:card",content:r?"summary_large_image":"summary"}),a.push({name:"twitter:creator",content:`@${s.replace("@","")}`}),a.push({name:"twitter:title",content:i}),n&&a.push({name:"twitter:description",content:n}),r&&a.push({name:"twitter:image",content:r}),a.push({name:"twitter:alt",content:i})),a}var Nu=P(me(),1);function qA(){return(0,Nu.jsxs)(Nu.Fragment,{children:[(0,Nu.jsx)("h1",{children:"No Site Found - 404"}),(0,Nu.jsx)("p",{children:"No website is available at this url, or an error occurred. Please double check the url."})]})}var zc=P(me(),1);function UA({error:t}){var e,i;return(0,zc.jsxs)(zc.Fragment,{children:[(0,zc.jsx)("h1",{children:"Unexpected Error Occurred"}),(0,zc.jsxs)("p",{children:["Status: ",t.status]}),(0,zc.jsx)("p",{children:(i=(e=t.data)==null?void 0:e.message)!=null?i:""})]})}var WW=P(Et(),1),fi=P(me(),1);function $W({children:t,scripts:e,theme:i,config:n,title:r,staticBuild:s,baseurl:o,top:a=xw,renderers:l=FA}){let c=ZA(),d=s?{Link:m=>(0,fi.jsx)(e1,{...m,reloadDocument:!0}),NavLink:m=>(0,fi.jsx)(Qw,{...m,reloadDocument:!0})}:{Link:e1,NavLink:Qw,navigate:c},[u,f]=jW({ssrTheme:i,useLocalStorage:s});return(0,fi.jsx)(kk,{theme:u,setTheme:f,renderers:l,...d,top:a,children:(0,fi.jsx)(yne,{children:t,scripts:e,head:i?void 0:(0,fi.jsx)($A,{useLocalStorage:!!s}),config:n,title:r,liveReloadListener:!s,baseurl:o,top:a})})}function yne({children:t,scripts:e,head:i,config:n,title:r,baseurl:s,top:o=xw,liveReloadListener:a}){var c,d;let{theme:l}=Ev();return(0,fi.jsxs)("html",{lang:"en",className:(0,WW.default)(l),style:{scrollPadding:o},children:[(0,fi.jsxs)("head",{children:[(0,fi.jsx)("meta",{charSet:"utf-8"}),(0,fi.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),r&&(0,fi.jsx)("title",{children:r}),(0,fi.jsx)(tk,{}),(0,fi.jsx)(ek,{}),(0,fi.jsx)(FW,{analytics_google:(c=n==null?void 0:n.options)==null?void 0:c.analytics_google,analytics_plausible:(d=n==null?void 0:n.options)==null?void 0:d.analytics_plausible}),i]}),(0,fi.jsxs)("body",{className:"m-0 transition-colors duration-500 bg-white dark:bg-stone-900",children:[(0,fi.jsx)(Hk,{baseurl:s,children:(0,fi.jsx)(qk,{config:n,children:t})}),(0,fi.jsx)(rk,{}),(0,fi.jsx)(ik,{}),a&&(0,fi.jsx)(nk,{}),e]})]})}function wne(){let t=QA();return(0,fi.jsx)($W,{theme:Dn.light,children:(0,fi.jsx)("article",{className:"article",children:(0,fi.jsx)("main",{className:"article-grid subgrid-gap col-screen",children:JA(t)?(0,fi.jsx)(qA,{}):(0,fi.jsx)(UA,{error:t})})})})}var Pc=P(me(),1);function Cne(){return(0,Pc.jsxs)(Pc.Fragment,{children:[(0,Pc.jsx)("h1",{children:"Document Not Found"}),(0,Pc.jsxs)("p",{children:["Take me ",(0,Pc.jsx)("a",{href:"/",children:"home"}),"."]})]})}export{Sne as a,Sk as b,Ts as c,Nk as d,are as e,Fl as f,zk as g,ur as h,hre as i,Ta as j,_re as k,yre as l,_1 as m,S1 as n,cRe as o,uRe as p,PRe as q,VRe as r,I_ as s,GRe as t,GAe as u,JAe as v,oke as w,Ike as x,hR as y,xZ as z,yZ as A,wZ as B,CZ as C,SZ as D,EZ as E,BQ as F,W8 as G,EA as H,kee as I,Lee as J,Nee as K,_ne as L,Cne as M,qA as N,UA as O,zze as P,Pze as Q,$W as R,wne as S};
/*! Bundled license information:

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
